<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Sam Stelfox&#39;s Thoughts &amp; Notes</title>
    <link>https://stelfox.net/</link>
    <description>Recent content - Sam Stelfox&#39;s Thoughts &amp; Notes</description>
    <language>en-US</language>
    <managingEditor>Sam Stelfox</managingEditor>
    <webMaster>Sam Stelfox</webMaster><atom:link href="https://stelfox.net/atom.xml" rel="self" type="application/rss+xml" /><item>
      <title>Fixing Hung Nginx Workers</title>
      <link>https://stelfox.net/blog/2019/10/fixing-hung-nginx-workers/</link>
      <pubDate>Fri, 25 Oct 2019 11:26:31 -0500</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/blog/2019/10/fixing-hung-nginx-workers/</guid>
      <description>While cleaning up some tech debt, a curious issue cropped up. Nginx was running in an alpine container as a front end load balancer. It had a dynamic config that got periodically updated by a sidecar, and had filebeat shipping logs out to a central collector but otherwise was just a very simple Nginx config.
Every now and then the container would crash, it would automatically recover fast enough no alarms were lost and the clients would just resend their requests.</description>
    </item><item>
      <title>Fixing Dark Input Boxes in Firefox</title>
      <link>https://stelfox.net/blog/2019/04/fixing-dark-input-boxes-in-firefox/</link>
      <pubDate>Sat, 13 Apr 2019 11:53:22 -0400</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/blog/2019/04/fixing-dark-input-boxes-in-firefox/</guid>
      <description>I recently began trying out Cinnamon as my desktop environment and I&amp;rsquo;ve been thoroughly enjoying it. The only issue I was having was occasionally a page&amp;rsquo;s form input fields would have a dark background while still having dark text making it impossible to read, and very difficult to write.
It wasn&amp;rsquo;t happening everywhere, and I couldn&amp;rsquo;t track down what about a website would cause the issue. Most prominently for me was when this showed up in AWS&amp;rsquo;s interface.</description>
    </item><item>
      <title>Merging Overlapping Subnets</title>
      <link>https://stelfox.net/blog/2019/03/merging-overlapping-subnets/</link>
      <pubDate>Wed, 27 Mar 2019 19:11:30 -0400</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/blog/2019/03/merging-overlapping-subnets/</guid>
      <description>Once upon a time there was a single AWS account. In this AWS account was several regions but a single VPC. To make sure expansions into other regions was possible this VPC chose to use the largest private subnet which just so happened to also be the default (10.0.0.0/8).
Another AWS account enter the picture and while they were single they came to the same conclusion and followed the best practices and defaults to their heart&amp;rsquo;s content.</description>
    </item><item>
      <title>Reflashing Cisco Catalyst With XMODEM</title>
      <link>https://stelfox.net/blog/2019/03/reflashing-cisco-catalyst-with-xmodem/</link>
      <pubDate>Sun, 24 Mar 2019 23:26:30 -0400</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/blog/2019/03/reflashing-cisco-catalyst-with-xmodem/</guid>
      <description>One of the Cisco Catalyst 3750 I had to work on recently had it&amp;rsquo;s flash completely wiped. When this happens you can only flash the filesystem using the XMODEM serial console. This is a fairly well documented process on Windows. On Linux most of the documented ways involve switching between multiple utilities and can be tricky. I wanted to documented how I did this and possibly help other in the same situation.</description>
    </item><item>
      <title>AWS Elastic IP Details</title>
      <link>https://stelfox.net/blog/2019/03/aws-elastic-ip-details/</link>
      <pubDate>Sun, 17 Mar 2019 16:26:30 -0500</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/blog/2019/03/aws-elastic-ip-details/</guid>
      <description>Sometimes it becomes important to understand how your cloud provider implements certain networking details. While working through an issue in AWS I needed to understand how they handle public IP addressing. While this issue for me was specific to an Elastic IP all of their public addresses are handled this way and may bite you even without them. The problems specifically crop up when a hosted piece of software does NAT traversal detection and changes it&amp;rsquo;s behavior based on the result.</description>
    </item><item>
      <title>Fighting IPSec on AWS</title>
      <link>https://stelfox.net/blog/2019/03/fighting-ipsec-on-aws/</link>
      <pubDate>Thu, 14 Mar 2019 21:26:30 -0400</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/blog/2019/03/fighting-ipsec-on-aws/</guid>
      <description>IPSec is a well known and well understood protocol that is pretty easy to get setup and going&amp;hellip; Most of the time. While setting up an IPSec tunnel to an AWS host I came across a new and unique experience that didn&amp;rsquo;t seem to have an easily searchable solution.
I had two CentOS 7 EC2 instances, each set up with their own Elastic IP in a default VPC. I installed and configured libreswan with the following config:</description>
    </item><item>
      <title>Hosting Your Own Private Git Repo</title>
      <link>https://stelfox.net/blog/2018/12/hosting-your-own-private-git-repo/</link>
      <pubDate>Fri, 21 Dec 2018 18:53:30 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/blog/2018/12/hosting-your-own-private-git-repo/</guid>
      <description>Git was built and developed with the intention of being a distributed reversion control system. Most people now use it with one or another central repository even when working on large teams which is perfectly fine if that model works for you and your team.
It can be useful to quickly work with others on private repositories without requiring them to get on your platform of choice, or for sensitive repositories keep the repository entirely under your control.</description>
    </item><item>
      <title>Performance Impact of OpenVPN Port Sharing</title>
      <link>https://stelfox.net/blog/2018/11/performance-impact-of-openvpn-port-sharing/</link>
      <pubDate>Sun, 04 Nov 2018 15:09:02 -0600</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/blog/2018/11/performance-impact-of-openvpn-port-sharing/</guid>
      <description>I recently had cause to use OpenVPN on the standard HTTPS port to protect my traffic. This was done as a compromise with administrators who didn&amp;rsquo;t want to change their egress filtering, but wanted to allow me to continue doing my normal work.
I already run several webservers, including this one, and didn&amp;rsquo;t want to give up exclusive access to the precious TCP port 443. The recommended way to deal with this is to make use of the port-share option built into OpenVPN.</description>
    </item><item>
      <title>Run Your Own DNS-over-TLS Server</title>
      <link>https://stelfox.net/blog/2018/11/run-your-own-dns-over-tls-server/</link>
      <pubDate>Fri, 02 Nov 2018 15:09:02 -0600</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/blog/2018/11/run-your-own-dns-over-tls-server/</guid>
      <description>DNS-over-TLS is a relatively new privacy enhancing protocol that encrypts all of your DNS requests to a trusted server. In an age when airports, and coffee shops are outsourcing &amp;lsquo;free wifi&amp;rsquo; to corporate entities that are likely harvesting as much data as they can this is a nice addition. I largely use VPNs when connected to these access points which provides at least as good protection as DNS-over-TLS which has caused me to largely overlook this development.</description>
    </item><item>
      <title>Weird CloudFlare Behavior</title>
      <link>https://stelfox.net/blog/2018/10/weird-cloudflare-behavior/</link>
      <pubDate>Sun, 21 Oct 2018 22:36:09 -0600</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/blog/2018/10/weird-cloudflare-behavior/</guid>
      <description>While working on a replacement webserver, I encountered some odd behavior which took a bit to track down to CloudFlare. This isn&amp;rsquo;t a bug or an issue with CloudFlare, it was just unexpected.
The server was configured to respond to www.example.tld as well as example.tld, to both encrypted and unencrypted connections. Any requests to the www. domain get redirected to https://example.tld. The config was roughly:
server { listen 80; listen [::]:80; listen 443 ssl http2; listen [::]:443 ssl http2; server_name www.</description>
    </item><item>
      <title>It&#39;s Never the Firewall</title>
      <link>https://stelfox.net/blog/2018/10/its-never-the-firewall/</link>
      <pubDate>Sun, 14 Oct 2018 13:36:09 -0600</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/blog/2018/10/its-never-the-firewall/</guid>
      <description>This last Thursday I had the privilege of giving a talk at our local Linux User Group about diagnosing firewall issues on Linux entitled &amp;ldquo;It&amp;rsquo;s Never the Firewall: Diagnosing Linux Firewall Issues&amp;rdquo;. I really enjoyed giving the talk, however, I left a few questions unanswered. While I may do a more extensive post on everything that I went through in the talk (I have been lax on writing content for this blog), this post is more to answer the outstanding questions and of course to make my slides available.</description>
    </item><item>
      <title>SPF and Google Site Verification in Route 53</title>
      <link>https://stelfox.net/blog/2018/06/spf-and-google-site-verification-in-route-53/</link>
      <pubDate>Thu, 14 Jun 2018 11:36:09 -0600</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/blog/2018/06/spf-and-google-site-verification-in-route-53/</guid>
      <description>Route53 doesn&amp;rsquo;t allow multiple definitions of the same name/type pair of DNS entries which is quite a headache. This is the first time I&amp;rsquo;ve had a conflict of a TXT record in Route53 at the base, specifically both Google&amp;rsquo;s site verification, and SPF records both want to live at the root of the domain. The site verification record needs to stay around as Google periodically re-verifies the domain.
To get this to work you need to quote both the Google verification string and the SPF record, but you also have to ensure that there is a newline in the field.</description>
    </item><item>
      <title>Timelapse of a Linux Desktop</title>
      <link>https://stelfox.net/blog/2018/06/timelapse-of-a-linux-desktop/</link>
      <pubDate>Fri, 08 Jun 2018 16:37:39 -0600</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/blog/2018/06/timelapse-of-a-linux-desktop/</guid>
      <description>I have the privilege of working full remote. To stay connected with our other remote workers and the main office we keep a live video conference going all the time. It&amp;rsquo;s pretty convenient and definitely allows me to continue to feel connected with the company.
During one of our stand ups, a coworker mentioned that they&amp;rsquo;d like to see how things looked over time. I have three 1440p monitors and largely leave the video conference on my right most window, which makes recording (an audio free) timelapse pretty easy with FFmpeg.</description>
    </item><item>
      <title>Parsing HTTP Responses in Ruby</title>
      <link>https://stelfox.net/blog/2018/05/parsing-http-responses-in-ruby/</link>
      <pubDate>Wed, 23 May 2018 07:53:19 -0600</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/blog/2018/05/parsing-http-responses-in-ruby/</guid>
      <description>Normally handling HTTP responses in Ruby is rather straight forward. There is a native library in Ruby that handles HTTP requests which parses the responses into a neat data structure that you can then operate on. What if you want to work on stored HTTP responses outside of a connection though? This was the situation I found myself in and thanks to a series of unusual decisions in the Ruby core library I found myself left out in the cold.</description>
    </item><item>
      <title>Quick and Silent Gigabit Packet Interception</title>
      <link>https://stelfox.net/blog/2018/05/quick-and-silent-gigabit-packet-interception/</link>
      <pubDate>Sun, 13 May 2018 00:55:09 -0600</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/blog/2018/05/quick-and-silent-gigabit-packet-interception/</guid>
      <description>I regularly find myself inspecting traffic on Linux systems. Usually I&amp;rsquo;m already on the client or server when doing this (such as when diagnosing weird low level app behavior, or unknown, or unusual traffic). It has been a while since I&amp;rsquo;ve needed to silently be the wire between two black boxes.
While verifying link level information about bypassing my Google Fiber Network Box I needed to be that wire again. Before I connected any wires to anything I needed to be sure I wouldn&amp;rsquo;t accidentally leak traffic as I wasn&amp;rsquo;t sure what would impact the link.</description>
    </item><item>
      <title>Converting OpenLDAP Schemas to LDIF</title>
      <link>https://stelfox.net/blog/2018/03/converting-openldap-schemas-to-ldif/</link>
      <pubDate>Sat, 24 Mar 2018 20:20:22 -0600</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/blog/2018/03/converting-openldap-schemas-to-ldif/</guid>
      <description>I&amp;rsquo;ve been writing software to work against an OpenLDAP instance, with a highly customized schema. The operators of the existing system only had the schema files and searching around found several elaborate ways to convert the files which I tried with mixed success. After doing the research to figure this out, it became clear I could probably have used slapcat and have dumped the active schema directly to LDIF.
As a sample of how I converted these, I&amp;rsquo;ll use the rfc2307bis.</description>
    </item><item>
      <title>Including LDIF Files in OpenLDAP</title>
      <link>https://stelfox.net/blog/2018/03/including-ldif-files-in-openldap/</link>
      <pubDate>Sat, 24 Mar 2018 20:20:22 -0600</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/blog/2018/03/including-ldif-files-in-openldap/</guid>
      <description>While setting up and OpenLDAP server I found my distribution shipped with a couple of schema files, but no equivalent LDIF files. I found ways to convert the file using slapcat and slaptest and the files were valid on their own.
I was specifically trying to bootstrap an OpenLDAP server, with it&amp;rsquo;s schema, from scratch for a CI/CD system to test against. To accomplish this I was making use of the include directive in a configuration LDIF file and saw some very odd behavior.</description>
    </item><item>
      <title>Cross-Compiling Gentoo for Xilinx Boards</title>
      <link>https://stelfox.net/blog/2017/12/cross-compiling-gentoo-for-xilinx-boards/</link>
      <pubDate>Mon, 18 Dec 2017 17:49:22 -0500</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/blog/2017/12/cross-compiling-gentoo-for-xilinx-boards/</guid>
      <description>Note: If you&amp;rsquo;ve come here looking to build a root filesystem for 32 bit ARM devices I suspect everything but the build tuple will be the same. The issues that need to be worked around largely packaging and profile issues that should all be the same.
I got a hold of a Zynq 7100 development board, and while I&amp;rsquo;ve played with some embedded ARM microcontrollers such as the STM32F3 series and more basic RISC style microcontrollers like Atmel&amp;rsquo;s SAMD10 and Atmega lines, I&amp;rsquo;ve never played with FPGA development before so I considered this an interesting learning opportunity.</description>
    </item><item>
      <title>Converting CPIO Files to Tarballs</title>
      <link>https://stelfox.net/blog/2017/12/converting-cpio-files-to-tarballs/</link>
      <pubDate>Mon, 04 Dec 2017 22:46:56 -0500</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/blog/2017/12/converting-cpio-files-to-tarballs/</guid>
      <description>I needed to convert a directory full of CPIO files to tar balls. This quick script did the trick for me but didn&amp;rsquo;t preserve the user / group. Running it as root will preserve the ownership information but that wasn&amp;rsquo;t important for my immediate use case.
#!/bin/bash SRC_DIR=$(pwd) for i in *.cpio; do CPIO_TMP_DIR=&amp;quot;$(mktemp -d /tmp/cpioconv.XXXX)&amp;quot; (cd ${CPIO_TMP_DIR} &amp;amp;&amp;amp; cpio -idm &amp;lt; &amp;quot;${SRC_DIR}/${i}&amp;quot; &amp;amp;&amp;amp; tar -cf ${SRC_DIR}/${i%%.cpio}.tar .) rm -rf ${CPIO_TMP_DIR} done  </description>
    </item><item>
      <title>Unusable Secret Key</title>
      <link>https://stelfox.net/blog/2017/12/unusable-secret-key/</link>
      <pubDate>Mon, 04 Dec 2017 11:38:01 -0500</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/blog/2017/12/unusable-secret-key/</guid>
      <description>I use a Yubikey NEO to store subkeys used for signing and authentication. I started experiencing a weird issue with it. It coincided with me rebuilding my system so diagnosing it ended up being harder than normal. The behavior I experienced allowed me to use the key to authenticate (SSH&amp;rsquo;ing worked fine) but any attempt to sign new data resulted in an &amp;lsquo;Unusuable secret key&amp;rsquo; error. For git this resulted in the following message:</description>
    </item><item>
      <title>XFCE Failed to Connect to Socket</title>
      <link>https://stelfox.net/blog/2017/11/xfce-failed-to-connect-to-socket/</link>
      <pubDate>Mon, 27 Nov 2017 17:23:09 +0500</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/blog/2017/11/xfce-failed-to-connect-to-socket/</guid>
      <description>While trying to build up a minimal Gentoo graphical environment I kept running into an error every time I logged into XFCE from lightdm (I didn&amp;rsquo;t try starting up XFCE any other way). There are tons of blog posts that relate to systemd, ubuntu, or crouton but none related to Gentoo.
The first error message that pops up is:
Unable to contact settings server Failed to connect to socket /tmp/dbus-xxxxxxxxx: Connection refused  Once you click through there was a second error message, but I believe it was due to the previous error and not actually an issue:</description>
    </item><item>
      <title>Unable to Enter LUKS Passphrase</title>
      <link>https://stelfox.net/blog/2017/11/unable-to-enter-luks-passphrase/</link>
      <pubDate>Sun, 26 Nov 2017 21:49:51 -0500</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/blog/2017/11/unable-to-enter-luks-passphrase/</guid>
      <description>While setting up a gentoo install with a full disk encryption, I continuously got to a point where the passphrase would show up on boot but I was unable to enter the passphrase. The behavior of the keyboard was also odd, it would toggle it&amp;rsquo;s numlock light every couple of button presses.
Once again this was an issue that was hard to search for, and most other people asking it seemed to only get snarky non-answers which seem so prevalent in forums.</description>
    </item><item>
      <title>Downgrading Glibc in Gentoo</title>
      <link>https://stelfox.net/blog/2017/11/downgrading-glibc-in-gentoo/</link>
      <pubDate>Wed, 15 Nov 2017 12:27:45 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/blog/2017/11/downgrading-glibc-in-gentoo/</guid>
      <description>While refining some automated setup scripts at some point I upgraded to a testing/unstable version of glibc. When I attempted to get the box back on to the stable version I hit a solid protection mechanism built into the portage scripts that prevents downgrading glibc. Attempts will give you the following error message:
 * Sanity check to keep you from breaking your system: * Downgrading glibc is not supported and a sure way to destruction * ERROR: sys-libs/glibc-2.</description>
    </item><item>
      <title>File in Wrong Format</title>
      <link>https://stelfox.net/blog/2017/11/file-in-wrong-format/</link>
      <pubDate>Mon, 13 Nov 2017 13:44:00 -0400</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/blog/2017/11/file-in-wrong-format/</guid>
      <description>I have been recently attempting to cross compile a custom Gentoo profile targetting a Xilinx board as I found their distribution to be unmanageable (PetaLinux as hacked together sub-distro of Yocto). I had several issues with the default profile (embedded) conflicting with other critical packages. I&amp;rsquo;ll do a detailed post later on for building that entire root filesystem.
I came across one issue which didn&amp;rsquo;t seem to have a well-documented solution.</description>
    </item><item>
      <title>Gentoo Fstab Failure</title>
      <link>https://stelfox.net/blog/2017/11/gentoo-fstab-failure/</link>
      <pubDate>Wed, 01 Nov 2017 11:12:34 -0400</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/blog/2017/11/gentoo-fstab-failure/</guid>
      <description>I use Gentoo with OpenRC quite a bit both for my personal servers and as a compilation test bed for new software since I can control the dependency versions very tightly. I have a set of scripts I&amp;rsquo;ve been using for quite some time that handle setting up a hardened, fairly minimal install.
I recently encountered a weird issue with them that resulted in an esoteric error that prevented my host from fully booting and leaving the root filesystem read-only.</description>
    </item><item>
      <title>Cron Daemon</title>
      <link>https://stelfox.net/notes/cron-daemon/</link>
      <pubDate>Thu, 26 Oct 2017 17:35:42 -0400</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/notes/cron-daemon/</guid>
      <description>Cron is a pretty standard utility and there isn&amp;rsquo;t much to it. I generally use cronie as my cron daemon with the associated anacron. Cron runs tasks periodically, and anacron helps ensure that a missed task will get run if it was off or powercycled when it would have otherwise run.
File Format The config format differs slightly between crontabs, regular cron files, and anacron entries. At the beginning of all the files environment variables can be set using key=value pairs to control the behavior of cron and anacron followed by entries for that file one to a line.</description>
    </item><item>
      <title>Syslog-NG</title>
      <link>https://stelfox.net/notes/syslog-ng/</link>
      <pubDate>Wed, 25 Oct 2017 01:56:02 -0400</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/notes/syslog-ng/</guid>
      <description>Syslog-NG is a fast, reliable, and secure syslog daemon that can do advanced processing and log centralization while maintaining a sane configuration file syntax. I&amp;rsquo;ve recently come to vastly prefer it over my previous long term favorite Rsyslog.
It&amp;rsquo;s important to note that when modifying the logs statements, they will be processed in order. This means log statements that finalize a message will never make it past that statement. This finalization behavior can be a great tool for optimizing the processing path of logs but can result in unexpected behavior if you don&amp;rsquo;t pay attention when re-ordering the statements.</description>
    </item><item>
      <title>CFSSL</title>
      <link>https://stelfox.net/notes/cfssl/</link>
      <pubDate>Tue, 24 Oct 2017 18:39:22 -0400</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/notes/cfssl/</guid>
      <description>CFSSL is a toolkit of utilities for TLS PKI infrastructures and supports more functionality than I&amp;rsquo;ve personally needed. It is a fast and convenient way to setup and manage a multi-layer internal certificate authority.
I&amp;rsquo;ve used it to generate an internal root CA, with sub-CAs for internal only server certificates, and separate CAs for each domain of client certificates (such as VPN, log, mail, and LDAP servers). This allows the root CA to be protected more stringently than specific domains.</description>
    </item><item>
      <title>Investigating LVM From Dracut</title>
      <link>https://stelfox.net/blog/2017/10/investigating-lvm-from-dracut/</link>
      <pubDate>Tue, 24 Oct 2017 11:45:07 -0400</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/blog/2017/10/investigating-lvm-from-dracut/</guid>
      <description>In my my last post, I covered finding logical volumes that were missing from LVM from within a live CD (which is effectively a whole standard environment). Working with dracut is quite a bit more limited.
Turns out that the commands I&amp;rsquo;m normally used to for operating and inspecting LVM volumes can all be accessed as a second parameter to the lvm tool like so:
$ lvm vgscan $ lvm pvscan $ lvm lvscan For my particular issue, it led me to notice that block device of my root filesystem was missing due to a missing kernel driver&amp;hellip;</description>
    </item><item>
      <title>Visible Yet Missing Logical Volumes</title>
      <link>https://stelfox.net/blog/2017/10/visible-yet-missing-logical-volumes/</link>
      <pubDate>Tue, 24 Oct 2017 10:58:12 -0400</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/blog/2017/10/visible-yet-missing-logical-volumes/</guid>
      <description>While working on an automated install script for an embedded board, I hit an issue with the logical volumes never showing up in /dev/mapper, and in turn unable to be mounted. This left me in the dracut emergency shell (after about three minutes), with little to go on beyond the following error:
[187.508531] dracut Warning: Could not boot. [187.510560] dracut Warning: /dev/disk/by-uuid/5681-902D does not exist [187.512534] dracut Warning: /dev/mapper/system-root does not exit [187.</description>
    </item><item>
      <title>Server Naming Convention</title>
      <link>https://stelfox.net/notes/server-naming-convention/</link>
      <pubDate>Fri, 20 Oct 2017 19:59:02 -0400</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/notes/server-naming-convention/</guid>
      <description>Over the years I&amp;rsquo;ve found myself using many different naming schemes for servers under my control. I came across a naming convention that finally feels correct. That blog post is quite well written and will let it stand on its own. In the event it ever disappears the important bits (and those where I&amp;rsquo;ve personalized it) are included here.
There are ultimately two or three DNS names that each host receives.</description>
    </item><item>
      <title>Vultr Deny All Firewall</title>
      <link>https://stelfox.net/blog/2017/10/vultr-deny-all-firewall/</link>
      <pubDate>Fri, 20 Oct 2017 17:18:36 -0400</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/blog/2017/10/vultr-deny-all-firewall/</guid>
      <description>While setting up new instances on Vultr for testing, I wanted to initially ensure that no traffic beyond my own could touch the instances. After adding a matching rule for SSH to my IPv4 address, a default rule shows up that drops any unspecified traffic. Switching to the IPv6 I wanted to add a drop all rule (as I wouldn&amp;rsquo;t be using IPv6 until the system was up).
The interface only allows accept rules to be created and additionally you&amp;rsquo;ll be greeted with this message while trying to figure out what to do:</description>
    </item><item>
      <title>Mutt</title>
      <link>https://stelfox.net/notes/mutt/</link>
      <pubDate>Fri, 20 Oct 2017 12:51:00 -0400</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/notes/mutt/</guid>
      <description>I keep a copy of my mutt config both here on the site as well as in my public dotfiles. Eventually I&amp;rsquo;ll likely document my reasoning, preferences and the tradeoffs made in that config (and change my mind on most in the process).
Vim Since I use vim as my editor I also added the following line to my vim configuration file to autowrap my lines at 72 characters, but only for mutt composed messsages.</description>
    </item><item>
      <title>IPTables</title>
      <link>https://stelfox.net/notes/iptables/</link>
      <pubDate>Fri, 20 Oct 2017 12:14:02 -0400</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/notes/iptables/</guid>
      <description>iptables (and ip6tables) is a simple application for interacting directly with the Linux kernel&amp;rsquo;s netfilter firewall. nftables is attempting to replace it. nftables has better performance but is incredibly complex and difficult to use. Until the tooling and usability around nftables is addressed iptables will likely remain the reigning champion.
It is important that your systems have effective ingress and egress rules. Depending on your host OS, you&amp;rsquo;ll find your rule set stored in different locations but the following list are where I&amp;rsquo;ve seen them before:</description>
    </item><item>
      <title>Security Principles</title>
      <link>https://stelfox.net/blog/2017/10/security-principles/</link>
      <pubDate>Thu, 19 Oct 2017 05:19:12 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/blog/2017/10/security-principles/</guid>
      <description>While reviewing current security hardening practices put out by several organizations and attempting to filter the good recommendations from the outdated legislated requirements, I came across one of the best descriptions of basic security principles. You can find it in the NIST Guide to General Server Security (published in 2008).
I&amp;rsquo;ve replicated section 2.4 from the linked document (I have removed the footnotes, but it is otherwise unchanged) in its entirety here for safe keeping and to hopefully help expose this to more people.</description>
    </item><item>
      <title>Linux Audit Rule Paths</title>
      <link>https://stelfox.net/blog/2017/10/linux-audit-rule-paths/</link>
      <pubDate>Mon, 16 Oct 2017 23:20:20 -0400</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/blog/2017/10/linux-audit-rule-paths/</guid>
      <description>I encountered a little bit of confusion while rewriting my auditd rules which some Googling did not help me solve.
When monitoring a file or directory there are two forms the rules can take. They are effectively equivalent in their functionality. The simpler form is the following format:
-w /etc/shadow -p wa -w /boot -p wa -w /etc/dont_readme -p r  These three rules are all behaving slightly differently. The first will audit any writes or attribute changes to the shadow file.</description>
    </item><item>
      <title>Vulnerable Smart Cards</title>
      <link>https://stelfox.net/blog/2017/10/vulnerable-smart-cards/</link>
      <pubDate>Mon, 16 Oct 2017 12:25:58 -0400</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/blog/2017/10/vulnerable-smart-cards/</guid>
      <description>In addition to the WiFi vulnerability a much more limited vulnerability was announced around private GPG keys that were generated using Infineon&amp;rsquo;s RSA Library version v1.02.013.
The vulnerability lies in shortcuts taken to speed up the key generation using the library. The performance increase makes the private key vulnerable to factorization attacks using an extension to Coppersmith&amp;rsquo;s attack.
It has been confirmed that YubiKey 4s are effected as are many nations national ID cards.</description>
    </item><item>
      <title>A KRACK In the Defenses</title>
      <link>https://stelfox.net/blog/2017/10/a-krack-in-the-defenses/</link>
      <pubDate>Mon, 16 Oct 2017 08:23:43 -0400</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/blog/2017/10/a-krack-in-the-defenses/</guid>
      <description>An advisory from US CERT has been circulating for the last week about a protocol level flaw in WPA &amp;amp; WPA2. The advisory itself was:
 US-CERT has become aware of several key management vulnerabilities in the 4-way handshake of the Wi-Fi Protected Access II (WPA2) security protocol. The impact of exploiting these vulnerabilities includes decryption, packet replay, TCP connection hijacking, HTTP content injection, and others. Note that as protocol-level issues, most or all correct implementations of the standard will be affected.</description>
    </item><item>
      <title>Time</title>
      <link>https://stelfox.net/notes/time/</link>
      <pubDate>Fri, 13 Oct 2017 12:30:23 -0400</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/notes/time/</guid>
      <description>This is a very basic operation on a Linux system, but I have to interact with it so rarely since I run either chronyd or ntpd on all of machines. Occasionally, I find a device that needs a helping hand.
On a device with a known good time (or approximate enough):
date +%s This will get you the current unix timestamp. On the target system needing updating as root (replacing &amp;lt;unix timestamp&amp;gt; with the results from the last command):</description>
    </item><item>
      <title>The Case of an Empty Executable</title>
      <link>https://stelfox.net/blog/2017/10/the-case-of-an-empty-executable/</link>
      <pubDate>Thu, 12 Oct 2017 23:09:01 -0400</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/blog/2017/10/the-case-of-an-empty-executable/</guid>
      <description>I recently came across a short article written about a decade ago. It was a curious thing already as it was hosted in a user&amp;rsquo;s home directory off a web server with the standard &amp;lsquo;~&amp;rsquo; showing up in the URL. The important part that caught my eye was this:
 The &amp;ldquo;true&amp;rdquo; program does nothing; it merely exits with a zero exit status. This can be done with an empty file that&amp;rsquo;s marked executable, and that&amp;rsquo;s what it was in the earliest unix system libraries.</description>
    </item><item>
      <title>Auditd</title>
      <link>https://stelfox.net/notes/auditd/</link>
      <pubDate>Thu, 12 Oct 2017 15:33:21 -0400</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/notes/auditd/</guid>
      <description>Auditd collects any configured syscall execution with critical security metadata associated with the event. This can help enrich other security tools such as AIDE to determine what user and process are responsible for the change.
For reliable operation the rules should be carefully tuned to your system. Tracking every write to disk will generate an unreasonable amount of events and depending on the configuration of the kernel&amp;rsquo;s audit subsystem, may trigger a kernel panic.</description>
    </item><item>
      <title>AIDE</title>
      <link>https://stelfox.net/notes/aide/</link>
      <pubDate>Wed, 11 Oct 2017 02:19:45 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/notes/aide/</guid>
      <description>AIDE (Advanced Intrusion Detection Environment) is a file and directory integrity checker that compares the current hashes, permissions, and attributes of files directories against a known database built from the system.
This can be run periodically to detect manipulation of critical system files, though a motivated attacker with an appropriate level of permissions could modify this database or disable the check as long as the system is able to write to it.</description>
    </item><item>
      <title>Yubikey</title>
      <link>https://stelfox.net/notes/yubikey/</link>
      <pubDate>Tue, 10 Oct 2017 00:28:32 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/notes/yubikey/</guid>
      <description>NEO dnf install ykpers -y ykpersonalize -m82  Unplug and replug it back in and it should be usable as a smartcard.
NFC / HTTP Auth dnf install ykpers -y ykpersonalize -n https://api.stelfox.net/sessions/yknfc?t=  This will hit the API with a URL like:
https://api.stelfox.net/session/yknfc?t=ccccccuddclhrkuvurcufviveulljleihvreukifegjh  The API can then return a token that for accessing additional functionality.
Resetting This will wipe all keys, user, and admin pins on the card.</description>
    </item><item>
      <title>GPG Process Notes</title>
      <link>https://stelfox.net/notes/gpg-process-notes/</link>
      <pubDate>Mon, 09 Oct 2017 23:35:34 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/notes/gpg-process-notes/</guid>
      <description>I followed the TAILS setup guide to get a secure offline environment running to perform this generation task. The steps I took are documented in the tails document.
Initial Key Creation For simplicity I wanted to clear out the GnuPG configuration that starts out in place. Makes things a lot nicer later on.
rm -rf ~/.gnupg/*  I pulled in the .gnupg/gpg.conf from my dotfiles by hand.
And begin the key generation process</description>
    </item><item>
      <title>Disk Errors</title>
      <link>https://stelfox.net/notes/disk-errors/</link>
      <pubDate>Mon, 09 Oct 2017 23:05:43 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/notes/disk-errors/</guid>
      <description>This is a weird file&amp;hellip; But while installing gentoo on a disk I started getting a weird error when printing the current partitions on the drive:
Warning: The driver descriptor says the physical block size is 2048 bytes, but Linux says it is 512 bytes.  The only thing I&amp;rsquo;ve been able to find anywhere about this is &amp;ldquo;a low-level device tool (like dd) wrote blocks at the wrong size directly onto the device&amp;rdquo;.</description>
    </item><item>
      <title>GRE Tunnel</title>
      <link>https://stelfox.net/notes/gre-tunnel/</link>
      <pubDate>Mon, 09 Oct 2017 22:14:23 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/notes/gre-tunnel/</guid>
      <description>GRE encapsulates all layer 2 traffic, but does so through an unencrypted tunnel. Sensitive traffic should exclusively go through a lower level encrypted tunnel like IPSec.
Firewall The following iptables need to be enabled to allow the GRE traffic to and from the system. This should be restricted to / from IP addresses as well.
-A INPUT -p 47 -j ACCEPT -A OUTPUT -p 47 -j ACCEPT  Manual Setup I&amp;rsquo;ve seen several setups on the internet that make some&amp;hellip; Odd choices.</description>
    </item><item>
      <title>Amanda</title>
      <link>https://stelfox.net/notes/amanda/</link>
      <pubDate>Mon, 09 Oct 2017 14:50:23 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/notes/amanda/</guid>
      <description>Amanda, or the Advanced Maryland Automatic Network Disk Archiver is an open source computer archiving tool that is able to back up data residing on multiple computers on a network.
I am not a huge fan of having xinetd or perl on my system and this is reliant on both, however, there does not currently seem to be any reasonable open source alternatives that support managing a tape library.</description>
    </item><item>
      <title>Hash Cash</title>
      <link>https://stelfox.net/blog/2016/09/hash-cash/</link>
      <pubDate>Wed, 14 Sep 2016 01:36:59 -0400</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/blog/2016/09/hash-cash/</guid>
      <description>This is an interesting proof of work concept. The first example I have found of this in the wild is to prevent abuse for anonymous account registration on an IRC network.
I reviewed it&amp;rsquo;s source and found that it requests a seed, and payload from a backend PHP script. It assumes that a target collision will happen within 1,000,000 iterations.
This is broken up into 10 iterations. A pool of four WebWorkers are spawned.</description>
    </item><item>
      <title>Better Practices With Sudo</title>
      <link>https://stelfox.net/blog/2016/02/better-practices-with-sudo/</link>
      <pubDate>Fri, 26 Feb 2016 17:45:22 -0500</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/blog/2016/02/better-practices-with-sudo/</guid>
      <description>&lt;p&gt;I work with a lot of different linux machines from embedded devices, to cloud
servers and open stack hosts. For many of them I&amp;rsquo;m either the sole
administrator or one of three or less with administrative access. Where there
are multiple administrative users, we all are generally working as backups to
each other. We use sudo whenever we need to execute a task with privileges on
any of these machines with no direct root login permitted remotely.&lt;/p&gt;

&lt;p&gt;I must confess I have established two habits over time that are against best
practices with regard to sudo; Using it to execute a root shell only, and not
restricting which commands can be run with sudo.&lt;/p&gt;</description>
    </item><item>
      <title>Sharing Context Between Dependent Rake Tasks</title>
      <link>https://stelfox.net/blog/2016/02/sharing-context-between-dependent-rake-tasks/</link>
      <pubDate>Thu, 18 Feb 2016 15:46:12 -0500</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/blog/2016/02/sharing-context-between-dependent-rake-tasks/</guid>
      <description>I use Rakefiles quite a bit like traditional Makefiles, in that I specify immediate dependencies for an individual task and Rake will execute all of them. If a file or directory is the dependency and it exists, the task that creates it will be skipped. A contrived Rakefile example might look like:
file &amp;#39;sample&amp;#39; do |t| puts &amp;#39;Creating sample directory&amp;#39; Dir.mkdir(t.name) end file &amp;#39;sample/population.txt&amp;#39; =&amp;gt; [&amp;#39;sample&amp;#39;] do |t| puts &amp;#39;Creating sample population file.</description>
    </item><item>
      <title>Ruby Code Quality Metrics</title>
      <link>https://stelfox.net/blog/2015/04/ruby-code-quality-metrics/</link>
      <pubDate>Wed, 22 Apr 2015 16:47:10 -0400</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/blog/2015/04/ruby-code-quality-metrics/</guid>
      <description>I like getting unopinionated feedback on the quality of the code I write. Sometimes I can get this from other developers but they tend to get annoyed being asked after every commit whether they consider it an improvement.
There are a few utilities for Ruby codebases such as flay, flog, and rubocop as well as hosted services such as Code Climate that can help you identify chunks of code that can use some work.</description>
    </item><item>
      <title>Creating an Empty Git Branch</title>
      <link>https://stelfox.net/blog/2015/04/creating-an-empty-git-branch/</link>
      <pubDate>Mon, 13 Apr 2015 20:47:40 -0400</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/blog/2015/04/creating-an-empty-git-branch/</guid>
      <description>Every now and then I find myself wanting to create a new empty branch in an existing repository. It&amp;rsquo;s useful for things such as GitHub Pages so you&amp;rsquo;re able to keep your content source in the master branch while only keeping the output in the gh-pages branch. I&amp;rsquo;ve also used it for testing a complete rewrite of a code base without the overhead of creating a new repo and copying access permissions.</description>
    </item><item>
      <title>Unbuffered Pipe Filters</title>
      <link>https://stelfox.net/blog/2015/02/unbuffered-pipe-filters/</link>
      <pubDate>Mon, 23 Feb 2015 12:49:13 -0500</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/blog/2015/02/unbuffered-pipe-filters/</guid>
      <description>I need to filter a live log stream for only relevant events and quickly hit an issue that I wasn&amp;rsquo;t expecting. The grep in my pipe chain was waiting until it received all the output from the prior command before it began to attempt to filter it.
Reading through the grep man page I came across the --line-buffered flag which provides exactly what I needed. I wasn&amp;rsquo;t using the tail command but it serves really well in this situation to demonstrate the use:</description>
    </item><item>
      <title>Dependency Prelink Issues</title>
      <link>https://stelfox.net/blog/2014/08/dependency-prelink-issues/</link>
      <pubDate>Tue, 12 Aug 2014 16:16:14 -0400</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/blog/2014/08/dependency-prelink-issues/</guid>
      <description>While running an aide check on one of my servers after updating it, I started seeing a large number of very concerning warning messages:
/usr/sbin/prelink: /bin/mailx: at least one of file&#39;s dependencies has changed since prelinking Error on exit of prelink child process /usr/sbin/prelink: /bin/rpm: at least one of file&#39;s dependencies has changed since prelinking Error on exit of prelink child process /usr/sbin/prelink: /sbin/readahead: at least one of file&#39;s dependencies has changed since prelinking Error on exit of prelink child process /usr/sbin/prelink: /lib64/libkrb5.</description>
    </item><item>
      <title>Fast Hex to Decimal in Bash</title>
      <link>https://stelfox.net/blog/2014/08/fast-hex-to-decimal-in-bash/</link>
      <pubDate>Fri, 01 Aug 2014 19:50:24 -0400</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/blog/2014/08/fast-hex-to-decimal-in-bash/</guid>
      <description>I needed too turn some hexadecimal values into decimal in a bash script and found a real easy way too do it. The following is a very short bash script demonstrating how too turn the hexadecimal string &amp;ldquo;deadbeefcafe&amp;rdquo; into it&amp;rsquo;s equivalent decimal value of &amp;ldquo;244837814094590&amp;rdquo;.
#!/bin/bash  INPUT=&amp;#34;deadbeefcafe&amp;#34; OUTPUT=$((0x${INPUT})) echo $OUTPUT</description>
    </item><item>
      <title>SPF &amp; DKIM Records in Route 53</title>
      <link>https://stelfox.net/blog/2014/07/spf-and-dkim-records-in-route-53/</link>
      <pubDate>Wed, 30 Jul 2014 10:46:13 -0400</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/blog/2014/07/spf-and-dkim-records-in-route-53/</guid>
      <description>I&amp;rsquo;m going to do a more detailed post on emailing from Amazon&amp;rsquo;s infrastructure soon, but in the meantime I wanted to quickly throw out solutions too a couple of problems I encountered. These are all specific too Amazon&amp;rsquo;s Route 53, and most are user error (myself).
SPF Invalid Characters or Format After generating my SPF record, I jumped into Route 53, created a new record pasted in my record, attempted to save and received the following message:</description>
    </item><item>
      <title>Unregistering From WhisperPush After Flashing a New ROM</title>
      <link>https://stelfox.net/blog/2014/07/unregistering-from-whisperpush-after-flashing-a-new-rom/</link>
      <pubDate>Tue, 22 Jul 2014 21:54:59 -0400</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/blog/2014/07/unregistering-from-whisperpush-after-flashing-a-new-rom/</guid>
      <description>I&amp;rsquo;ve been playing around with my Nexus 5 lately. It was quickly rooted and I began playing with various ROMs that had been pre-built for the Nexus 5. My first stop was the CyanogenMod. Since I&amp;rsquo;d last used CyanogenMod they added a built-in framework that provides transparent text message encryption called WhisperPush.
WhisperPush is an implementation of Moxie Marlinspike&amp;rsquo;s highly respected TextSecure and I was very excited at the possibility of using it.</description>
    </item><item>
      <title>Using OpenWRT&#39;s Dnsmasq as a TFTP Server</title>
      <link>https://stelfox.net/blog/2014/07/using-openwrts-dnsmasq-as-a-tftp-server/</link>
      <pubDate>Tue, 01 Jul 2014 21:26:45 -0400</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/blog/2014/07/using-openwrts-dnsmasq-as-a-tftp-server/</guid>
      <description>I recently reflashed my primary router to a newer version of OpenWRT and attempted to follow my own directions written in an earlier blog post to add PXE booting to my local network using the dnsmasq service built in. After following my advice I found that the dnsmasq service wasn&amp;rsquo;t starting.
Looking into the logread output I finally saw that this was due too a permission issue. Combining this with the output of ps too identify the user that dnsmasq was running on I was able to both modify my instructions and use OpenWRT&amp;rsquo;s own configuration system to perform the configuration instead of modifying the dnsmasq configuration.</description>
    </item><item>
      <title>Fixing Erratic BMC Controller on PowerEdge C6100</title>
      <link>https://stelfox.net/blog/2014/06/fixing-erratic-bmc-controller-on-poweredge-c6100/</link>
      <pubDate>Mon, 30 Jun 2014 21:43:02 -0400</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/blog/2014/06/fixing-erratic-bmc-controller-on-poweredge-c6100/</guid>
      <description>I randomly started experiencing an issue with one blade in one of my PowerEdge C6100 blades. It wouldn&amp;rsquo;t obey all commands issued too it via IPMI or through the BMC&amp;rsquo;s web interface. Additionally the blade would randomly power on when off, and the front light would consistently blink as if a hardware fault was detected.
This has been bothering me for a while, but it was my spare blade and wasn&amp;rsquo;t affecting my lab in anyway so I&amp;rsquo;ve ignored it.</description>
    </item><item>
      <title>AWS Reserved Instance Pricing</title>
      <link>https://stelfox.net/blog/2014/06/aws-reserved-instance-pricing/</link>
      <pubDate>Fri, 06 Jun 2014 13:28:11 -0400</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/blog/2014/06/aws-reserved-instance-pricing/</guid>
      <description>The current large project I&amp;rsquo;m working on is going to be hosted on AWS and I was requested to do a cost estimate. Looking into it, it quickly became clear that reserved instances could potentially save quite a bit of cash but there was a catch (isn&amp;rsquo;t there always?).
There is an upfront cost for reserving the instance and in exchange you get a reduced hourly rate. After running the numbers one thing wasn&amp;rsquo;t clear too me, is the upfront cost credit towards running machines or a fee you never see again?</description>
    </item><item>
      <title>Modifying the Hosts File in a Docker Container</title>
      <link>https://stelfox.net/blog/2014/06/modifying-the-hosts-file-in-a-docker-container/</link>
      <pubDate>Tue, 03 Jun 2014 11:43:59 -0400</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/blog/2014/06/modifying-the-hosts-file-in-a-docker-container/</guid>
      <description>Before I describe the issue that I encountered, let me be very clear. This hack is potentially dangerous and should absolutely only be done in development environments. This won&amp;rsquo;t affect your host system, only the docker container so the most damage you&amp;rsquo;ll do is prevent hostname and possibly user/group lookups within the container itself.
Alright with that out of the way, I was actively working on a codebase that uses subdomains as part of the identifier.</description>
    </item><item>
      <title>Extracting Content From Markdown</title>
      <link>https://stelfox.net/blog/2014/05/extracting-content-from-markdown/</link>
      <pubDate>Fri, 30 May 2014 18:34:29 -0400</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/blog/2014/05/extracting-content-from-markdown/</guid>
      <description>Recently I&amp;rsquo;ve been playing around with building a pure javascript full text search engine for static content sites like this one. One of the challenges with doing this has been working around the Markdown markup embedded in the written content.
Most of the markdown syntax can be stripped out simply by removing all non-alphanumeric characters from the document and move on. This doesn&amp;rsquo;t solve one of the bigger challenges I&amp;rsquo;ve experienced&amp;hellip; Code blocks.</description>
    </item><item>
      <title>PG::Error: ERROR: Type &#39;Hstore&#39; Does Not Exist</title>
      <link>https://stelfox.net/blog/2014/05/pg-error-error-type-hstore-does-not-exist/</link>
      <pubDate>Wed, 28 May 2014 18:00:55 -0400</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/blog/2014/05/pg-error-error-type-hstore-does-not-exist/</guid>
      <description>I&amp;rsquo;ve been using the PostgreSQL&amp;rsquo;s hstore extension in a Rails application lately and kept encountering the error that is this post&amp;rsquo;s namesake. It would specifically happen when a database had been dropped, recreated and I freshly ran the migrations.
It seems that while Rails 4 supports the HStore datatype, it doesn&amp;rsquo;t enable the extension itself. I&amp;rsquo;ve found two ways too solve this issue in wildly different ways.
First Solution: Enable HStore by Default This is the common solution that is recommended too solve this issue.</description>
    </item><item>
      <title>Chain Loading Kernels</title>
      <link>https://stelfox.net/blog/2014/05/chain-loading-kernels/</link>
      <pubDate>Fri, 23 May 2014 11:39:16 -0400</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/blog/2014/05/chain-loading-kernels/</guid>
      <description>I&amp;rsquo;ve found several places where I needed to be able to update my kernels but for one reason or another can&amp;rsquo;t update the kernel that gets booted initially. A couple of these situations were:
 Running Custom or Updated Kernels on DigitalOcean (this is one of their biggest failings IMHO) Allowing updating of kernels on embedded linux devices that require their kernel flashed into NVRAM. Running an embedded system that used an active/backup partition scheme for updating.</description>
    </item><item>
      <title>Calculating RSA Key Fingerprints in Ruby</title>
      <link>https://stelfox.net/blog/2014/04/calculating-rsa-key-fingerprints-in-ruby/</link>
      <pubDate>Mon, 21 Apr 2014 18:37:04 -0400</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/blog/2014/04/calculating-rsa-key-fingerprints-in-ruby/</guid>
      <description>I regularly find myself working on projects that involve the manipulation and storage of RSA keys. In the past I&amp;rsquo;ve never had to worry about identification or presentation of these keys. Normally I&amp;rsquo;ve only got one too three pairs at most that I&amp;rsquo;m manipulating (server, certificate authority, client).
I&amp;rsquo;ve not found myself working on a project that involves presenting the certificates to users for selection and comparison. The obvious way too do this is take a page out of other developer&amp;rsquo;s books and present the key&amp;rsquo;s fingerprint.</description>
    </item><item>
      <title>Disabling Gnome&#39;s Keyring in Fedora 19</title>
      <link>https://stelfox.net/blog/2014/04/disabling-gnomes-keyring-in-fedora-19/</link>
      <pubDate>Mon, 14 Apr 2014 10:19:23 -0400</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/blog/2014/04/disabling-gnomes-keyring-in-fedora-19/</guid>
      <description>An update too Fedora a while ago started causing some unexpected behavior with my dotfiles. Specifically the way I was handling my SSH agent. My SSH keys when added to my agent automatically expire after a couple of hours.
After the update, when that expiration came I started receiving errors in my shell that looked similar to the following (Since I fixed it I am not able to get the exact working again):</description>
    </item><item>
      <title>One-Liner SSL Certificate Generation</title>
      <link>https://stelfox.net/blog/2014/03/one-liner-ssl-certificate-generation/</link>
      <pubDate>Fri, 28 Mar 2014 14:52:51 -0400</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/blog/2014/03/one-liner-ssl-certificate-generation/</guid>
      <description>I regularly find myself in need of generating a quick SSL key and certificate pair. I&amp;rsquo;ve been using a one-liner for a while to generate these certificates. No annoying user prompts just a quick fast certificate pair.
echo -e &amp;#34;XX\n\n \n \n\n$(hostname)\n\n&amp;#34; | openssl req -new -x509 -newkey \  rsa:2048 -keyout service.key -nodes -days 90 -out service.crt &amp;amp;&amp;gt; /dev/null The cert uses the hostname of whatever machine you generated it on.</description>
    </item><item>
      <title>Preventing Tmux Lockups</title>
      <link>https://stelfox.net/blog/2014/03/preventing-tmux-lockups/</link>
      <pubDate>Fri, 28 Mar 2014 12:56:12 -0400</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/blog/2014/03/preventing-tmux-lockups/</guid>
      <description>Anyone that has used SSH, Tmux or Screen for a while will have inevitably dumped excessive output to their terminal. Depending on the size of the output you may have experienced the dreaded lockup. That horrible realization seconds after you hit the command where signals just stop working and you just have to sit there and wait for your terminal to catch up.
There is a piece of remote connection software called Mosh that I&amp;rsquo;ve been told handles this pretty well, but I don&amp;rsquo;t yet trust its security model and it doesn&amp;rsquo;t prevent the same thing from happening locally.</description>
    </item><item>
      <title>Finding Ruby Subclasses</title>
      <link>https://stelfox.net/blog/2014/02/finding-ruby-subclasses/</link>
      <pubDate>Thu, 20 Feb 2014 07:48:24 -0500</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/blog/2014/02/finding-ruby-subclasses/</guid>
      <description>While working through a problem I found it would be immensely useful to be able to enumerate all of the current subclasses of a particular class. After thinking about this for a while I settled on a good old friend of mine, ObjectSpace.
For those not familiar with the ObjectSpace module, it is a means to inspect and access the items being tracked by Ruby&amp;rsquo;s garbage collector. This means it has a hook into every living object, and more dangerously, every near-death object.</description>
    </item><item>
      <title>Creating Crypt Style SHA512 Passwords With Ruby</title>
      <link>https://stelfox.net/blog/2014/02/creating-crypt-style-sha512-passwords-with-ruby/</link>
      <pubDate>Mon, 17 Feb 2014 15:28:27 -0500</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/blog/2014/02/creating-crypt-style-sha512-passwords-with-ruby/</guid>
      <description>I needed to generate crypt-style SHA512 passwords in ruby for an /etc/shadow file. After a bunch of Googling and messing around with the OpenSSL library I finally found a very simple built-in way to handle this.
require &amp;#39;securerandom&amp;#39; &amp;#39;password&amp;#39;.crypt(&amp;#39;$6$&amp;#39; + SecureRandom.random_number(36 ** 8).to_s(36)) You&amp;rsquo;ll get a string that looks like:
$6$4dksjo1b$Lt194Dwy7r/7WbM8MezYZysmGcxjaiisgTrTBbHkyBZFXeqQTG0J5hep4wLM/AmYxlGNLRy0OWATLDZCqjwCk.  If you don&amp;rsquo;t want to use the SecureRandom module you can replace the random call with simply rand(36 ** 8) though this isn&amp;rsquo;t recommended.</description>
    </item><item>
      <title>Setting Linux System Timezone</title>
      <link>https://stelfox.net/blog/2014/02/setting-linux-system-timezone/</link>
      <pubDate>Sat, 01 Feb 2014 13:50:46 -0500</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/blog/2014/02/setting-linux-system-timezone/</guid>
      <description>I change the timezone on the linux systems so rarely that I almost always have to look it up. I&amp;rsquo;m writing it up here for my own personal reference. With any luck it&amp;rsquo;ll also help others.
The system timezone is controlled by the /etc/localtime file and is generally symlinked to locale files stored in /usr/share/zoneinfo. Generally I like to keep my systems on UTC as I my machines are in several timezones and it makes all the logs have consistent times.</description>
    </item><item>
      <title>Starting Puppet Master on Fedora 19</title>
      <link>https://stelfox.net/blog/2014/01/starting-puppetmaster-on-fedora-19/</link>
      <pubDate>Sat, 18 Jan 2014 22:47:37 -0500</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/blog/2014/01/starting-puppetmaster-on-fedora-19/</guid>
      <description>I was trying to get puppet running out of the box on Fedora 19 and found a bug exists in their systemd service file. After installing puppet and puppet-server, whenever I tried to start the server with the following command:
systemctl start puppetmaster.service It would hang for a long time and the following error message would show up in the log:
Jan 19 03:42:18 puppet-01 puppet-master[1166]: Starting Puppet master version 3.</description>
    </item><item>
      <title>Playing With the Linux Bluetooth Stack</title>
      <link>https://stelfox.net/blog/2013/12/playing-with-the-linux-bluetooth-stack/</link>
      <pubDate>Tue, 24 Dec 2013 14:53:27 -0500</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/blog/2013/12/playing-with-the-linux-bluetooth-stack/</guid>
      <description>List all available bluetooth interfaces:
hciconfig -a If you get an error like the following:
Operation not possible due to RF-kill  You&amp;rsquo;ll need to unblock access to the resource using rfkill. You can unblock all blocked devices like so:
rfkill unblock all Before doing any iBeacon stuff you should disable scanning:
hciconfig hci0 noscanhcitool -i hci0 cmd 0x08 0x0008 1E 02 01 1A 1A FF 4C 00 02 15 [ 92 77 83 0A B2 EB 49 0F A1 DD 7F E3 8C 49 2E DE ] [ 00 00 ] [ 00 00 ] C5 00 hcitool -i hci0 leadv LE set advertise enable on hci1 returned status 12  </description>
    </item><item>
      <title>Updating BMC on Dell PowerEdge C6100</title>
      <link>https://stelfox.net/blog/2013/12/updating-bmc-on-dell-poweredge-c6100/</link>
      <pubDate>Mon, 16 Dec 2013 21:26:13 -0500</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/blog/2013/12/updating-bmc-on-dell-poweredge-c6100/</guid>
      <description>I just received my Dell PowerEdge C6100 and found it&amp;rsquo;s software quite a bit outdated. After searching around quite a bit I found the resources lacking for explaining how to perform these updates. So in this post I&amp;rsquo;m going to quickly cover updating the BMC firmware on each blade.
The system I received had four different versions of the BMC software installed, additionally Two were branded as MegaRAC and the others branded as Dell.</description>
    </item><item>
      <title>Updating the BIOS on Dell PowerEdge C6100</title>
      <link>https://stelfox.net/blog/2013/12/updating-the-bios-on-dell-poweredge-c6100/</link>
      <pubDate>Mon, 16 Dec 2013 09:39:02 -0500</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/blog/2013/12/updating-the-bios-on-dell-poweredge-c6100/</guid>
      <description>The BIOS was quite a bit more complicated and there was a few options that I had available to try, all of which require either Windows or DOS environments. I don&amp;rsquo;t have any legal copies of Windows to put on my server and didn&amp;rsquo;t want to go through all that effort`
It really needs to be done within a DOS environment. I downloaded the file PEC6100BIOS017000.exe from Dell&amp;rsquo;s support website (locally hosted copy) as well as the 2.</description>
    </item><item>
      <title>Using Dnsmasq as a Standalone TFTP Server</title>
      <link>https://stelfox.net/blog/2013/12/using-dnsmasq-as-a-standalone-tftp-server/</link>
      <pubDate>Thu, 12 Dec 2013 18:29:46 -0500</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/blog/2013/12/using-dnsmasq-as-a-standalone-tftp-server/</guid>
      <description>If you&amp;rsquo;ve come across this blog post with the intention of setting up TFTP on an modern version of OpenWRT I have a more recent blog post detailing how too configure your system.
I found myself in need of a TFTP server but wanted to avoid having all of the xinet.d packages and services on my system (even if they were disabled). While looking for alternatives I found out that dnsmasq has a built-in read-only TFTP server.</description>
    </item><item>
      <title>Configuring PXE Booting on OpenWRT</title>
      <link>https://stelfox.net/blog/2013/12/configuring-pxe-booting-on-openwrt/</link>
      <pubDate>Wed, 11 Dec 2013 08:40:44 -0500</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/blog/2013/12/configuring-pxe-booting-on-openwrt/</guid>
      <description>I needed to support PXE booting on my home network. I use OpenWRT as my main router and DHCP server and it took me a bit of searching how to configure the BOOTP next server to redirect local clients to my Arch TFTP/NFS server for booting, so I&amp;rsquo;m placing the configuration here to help others who might be looking to do the same thing.
It&amp;rsquo;s worth noting that this isn&amp;rsquo;t a guide on setting up PXE booting completely on an OpenWRT, you&amp;rsquo;ll need another system that is running a configured TFTP server.</description>
    </item><item>
      <title>Running Emails Through Ruby</title>
      <link>https://stelfox.net/blog/2013/12/running-emails-through-ruby/</link>
      <pubDate>Sun, 08 Dec 2013 09:32:05 -0500</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/blog/2013/12/running-emails-through-ruby/</guid>
      <description>Following up on my earlier post where I covered how to backup your Gmail account using fetchmail and procmail; I wanted to cover how I was additionally processing received mail through ruby.
This was part of a larger project where I was doing statistical analysis on my email while evaluating various data stores. To get the emails into the various data stores, I used the ruby script to parse, process and store the emails as they came in.</description>
    </item><item>
      <title>Access GET Parameters With Coffeescript</title>
      <link>https://stelfox.net/blog/2013/12/access-get-parameters-with-coffeescript/</link>
      <pubDate>Sat, 07 Dec 2013 18:20:58 -0500</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/blog/2013/12/access-get-parameters-with-coffeescript/</guid>
      <description>I&amp;rsquo;ve been working on a pure javascript based search engine for this static website and needed to access a get parameter within the URL.
I found a few solutions online but they usually made use of jQuery or weren&amp;rsquo;t in coffeescript. A few others would only extract an individual named parameter at a time. The following will return all of them in Javascript&amp;rsquo;s equivalent of a hash (or dictionary if you prefer) in the form of an object.</description>
    </item><item>
      <title>Downloading Google Mail and Calendar Data</title>
      <link>https://stelfox.net/blog/2013/12/downloading-google-mail-and-calendar-data/</link>
      <pubDate>Thu, 05 Dec 2013 11:04:18 -0500</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/blog/2013/12/downloading-google-mail-and-calendar-data/</guid>
      <description>I recently posted a guide on backing up your Gmail with fetchmail. This unfortunately doesn&amp;rsquo;t include your calendar data. It seems like backing up was a hot enough topic that the Google Gmail team are releasing an official backup method. It&amp;rsquo;s not completely in the wild yet but I definitely look forward to poking around in it.
Now if only Google let you download everything they know about you as well&amp;hellip; Would definitely make for an interesting read.</description>
    </item><item>
      <title>Taking Back the Sky</title>
      <link>https://stelfox.net/blog/2013/12/taking-back-the-sky/</link>
      <pubDate>Wed, 04 Dec 2013 13:18:15 -0500</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/blog/2013/12/taking-back-the-sky/</guid>
      <description>During my daily review of various new sources I came across one particular article that was both concerning and very amusing. Drones have been getting more and more popular, and more accessible. They&amp;rsquo;ve been getting used by the military, law enforcement, recently Amazon (though they&amp;rsquo;ve abandoned that for now), you can even purchase one for your iPhone at airports.
The security of these systems hasn&amp;rsquo;t been thoroughly tested publicly, though there is at least one report of a military drone being stolen already.</description>
    </item><item>
      <title>Fail Fast in Bash Scripts</title>
      <link>https://stelfox.net/blog/2013/11/fail-fast-in-bash-scripts/</link>
      <pubDate>Tue, 26 Nov 2013 15:19:40 -0500</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/blog/2013/11/fail-fast-in-bash-scripts/</guid>
      <description>I found myself writing another bash script that should exit should any of the few commands within it fail to run. As I began writing some error handling after each command, and isolating the sections into bash functions I figured there had to be a better way. After a little Googling and a trip through the bash man pages sure enough:
#!/bin/bash  function error_handler() { echo &amp;#34;Error occurred in script at line: ${1}.</description>
    </item><item>
      <title>Using VIM as Your Password Manager</title>
      <link>https://stelfox.net/blog/2013/11/using-vim-as-your-password-manager/</link>
      <pubDate>Mon, 25 Nov 2013 15:10:46 -0500</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/blog/2013/11/using-vim-as-your-password-manager/</guid>
      <description>There are all kinds of password managers out there. Everything from web services that are quite solid and respectable, to native desktop apps.
A lot of these are simply too heavy for me, involve installing software on a computer to access in addition to sharing the file around, or required you to remember multiple account details before you could get access to any individual password.
Due too the various complexities and lack of matching use cases a couple years ago I set out to develop my own open-source version of PassPack.</description>
    </item><item>
      <title>Backing up Gmail with fetchmail</title>
      <link>https://stelfox.net/blog/2013/11/backing-up-gmail-with-fetchmail/</link>
      <pubDate>Tue, 19 Nov 2013 09:55:40 -0500</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/blog/2013/11/backing-up-gmail-with-fetchmail/</guid>
      <description>This morning I found myself in need of a large set of emails to test a particular set of code. Ideally these emails would be broken out into easily digestible pieces, and it was strictly for my own personal testing so I wasn&amp;rsquo;t concerned with using my own live data for this test (There will probably be another post on this project later on).
Having used fetchmail with good results in the past I decided it was a good idea to take this opportunity to also backup my Gmail account into the common Maildir format (which essentially breaks out emails into individual files meeting my requirements).</description>
    </item><item>
      <title>Ruby&#39;s Option Parser - a More Complete Example</title>
      <link>https://stelfox.net/blog/2012/12/rubys-option-parser-a-more-complete-example/</link>
      <pubDate>Sun, 02 Dec 2012 22:59:00 -0500</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/blog/2012/12/rubys-option-parser-a-more-complete-example/</guid>
      <description>Recently while writing a Ruby program I needed to parse some command line options. Helpfully Ruby provides a module named OptionParser to make this easy. I found a few parts of the documentation ambiguous and a few others down right confusing.
The catch I hit was the required field. In my mind the definition of a required argument is something that needs to be passed on the command line to continue.</description>
    </item><item>
      <title>Keep Your Gems Updated</title>
      <link>https://stelfox.net/blog/2012/11/keep-your-gems-updated/</link>
      <pubDate>Tue, 27 Nov 2012 14:17:00 -0500</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/blog/2012/11/keep-your-gems-updated/</guid>
      <description>I recently went back through my backups recently and found quite a few old abandoned projects. Looking back on the code I see some things I&amp;rsquo;m impressed with, but the majority of the code I wouldn&amp;rsquo;t write today. That&amp;rsquo;s not to say the code is bad, or doesn&amp;rsquo;t function. It did exactly what I wanted to accomplish at the time, just not necessarily in the most efficient way.
This archive of old code made me start wondering how much old code I&amp;rsquo;m using in the projects that I&amp;rsquo;m currently writing.</description>
    </item><item>
      <title>Auditing Heroku SSH Keys</title>
      <link>https://stelfox.net/blog/2012/11/auditing-heroku-ssh-keys/</link>
      <pubDate>Mon, 26 Nov 2012 10:18:00 -0500</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/blog/2012/11/auditing-heroku-ssh-keys/</guid>
      <description>A good friend of mine recently left the organization I work for and the task of resetting our passwords and auditing credentials fell on me. Since we use Heroku for our development platform I needed to not only reset the credentials for the web portion (which conveniently also handles resetting the API key) but also revoke any SSH keys he may have added to access it.
Sadly Heroku does not seem to provide any web interface that I could find for examining what keys were associated with the account.</description>
    </item><item>
      <title>CarrierWave, S3 and Filenames</title>
      <link>https://stelfox.net/blog/2012/08/carrierwave-s3-and-filenames/</link>
      <pubDate>Thu, 09 Aug 2012 20:00:57 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/blog/2012/08/carrierwave-s3-and-filenames/</guid>
      <description>This is going to be a real quick post. I&amp;rsquo;m using the &amp;ldquo;carrier_wave&amp;rdquo; gem with &amp;ldquo;fog&amp;rdquo; for one of my projects and found that when a file is stored on S3 the &amp;ldquo;identifier&amp;rdquo;, and &amp;ldquo;filename&amp;rdquo; methods return nil. I got around this issue in two separate ways neither of which I&amp;rsquo;m particularly happy about.
Outside of the uploader, you can use the File utility and the URL of the object to get the base filename like so:</description>
    </item><item>
      <title>Security Through Obesity</title>
      <link>https://stelfox.net/blog/2012/08/security-through-obesity/</link>
      <pubDate>Wed, 08 Aug 2012 15:06:56 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/blog/2012/08/security-through-obesity/</guid>
      <description>Jeremy Spilman recently proposed changes to how user&amp;rsquo;s hashes are stored in website&amp;rsquo;s and companies databases. This post was originally going to look at some of the issues involved in the scheme he envisioned, however, he rather quickly posted a followup article with a well thought out solution that countered all of the issues that other people and myself were able to come up with. I&amp;rsquo;d strongly recommend reading both if you haven&amp;rsquo;t done so.</description>
    </item><item>
      <title>Adding a Table Prefix to DataMapper Tables</title>
      <link>https://stelfox.net/blog/2012/08/adding-a-table-prefix-to-datamapper-tables/</link>
      <pubDate>Tue, 07 Aug 2012 14:09:33 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/blog/2012/08/adding-a-table-prefix-to-datamapper-tables/</guid>
      <description>So I recently encountered a situation where I needed to define a prefix on the tables used by the &amp;ldquo;data_mapper&amp;rdquo; gem. When I went searching I found quite a bit of information about similar projects in Python, and PHP named DataMapper but nothing about the ruby &amp;ldquo;data_mapper&amp;rdquo;. The search continued eventually ending in my reading through the source of the data_mapper gem only to find that there was no feature for simply defining a prefix.</description>
    </item><item>
      <title>Thoughts on IPv6 Security and Mitigation</title>
      <link>https://stelfox.net/blog/2012/07/thoughts-on-ipv6-security-and-mitigation/</link>
      <pubDate>Sun, 22 Jul 2012 03:07:42 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/blog/2012/07/thoughts-on-ipv6-security-and-mitigation/</guid>
      <description>I setup IPv6 on my home network with an OpenWRT router and Hurricane Electric and now I suddenly have an opinion on the state of IPv6 security. This is something that I&amp;rsquo;ve been meaning to do for some time and have been mulling over in the back of my mind. I&amp;rsquo;ll go over the details from start to finish of setting up hurricane electric on the router in another post as the information to do so is very scattered and disjointed.</description>
    </item><item>
      <title>Ruby&#39;s XMLRPC::Client and SSL</title>
      <link>https://stelfox.net/blog/2012/02/rubys-xmlrpcclient-and-ssl/</link>
      <pubDate>Tue, 14 Feb 2012 18:08:51 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/blog/2012/02/rubys-xmlrpcclient-and-ssl/</guid>
      <description>For the past few days I&amp;rsquo;ve been working on a Ruby project that needed to interact with a remote XMLRPC API. This isn&amp;rsquo;tparticularlyunusual but it was the first time from within a Ruby application. Luckily enough Ruby has a built in XMLRPC client that handles a lot of the messy bits.
The XMLRPC::Client class itself seems fairly simple. There are only a handful of methods, five of which are for opening a new connection in a few different ways, and at least two ways to open each type of connection.</description>
    </item><item>
      <title>Exploration of an ACN Iris 3000</title>
      <link>https://stelfox.net/blog/2011/05/exploration-of-a-acn-iris-3000/</link>
      <pubDate>Sun, 01 May 2011 15:48:08 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/blog/2011/05/exploration-of-a-acn-iris-3000/</guid>
      <description>So I found a dirt cheap video SIP phone (ACN Iris 3000) at a local HAM fest. After looking around I found the vendor has locked in the phone with their specific service with an iron grip and had gone out of business. I guess I should expect that kind of anti-competitive behavior from a business that Donald Trump has a vested interest in.
I&amp;rsquo;ve come across one post on a forum that seems to have been crawled and copied out every where.</description>
    </item><item>
      <title>Linux N Issues &amp; KDE Multi-Monitor Woes</title>
      <link>https://stelfox.net/blog/2011/02/linux-n-issues-kde-multi-monitor-woes/</link>
      <pubDate>Fri, 25 Feb 2011 14:37:39 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/blog/2011/02/linux-n-issues-kde-multi-monitor-woes/</guid>
      <description>So I recently did a fresh install of Fedora 14 with KDE installed (not the KDE spin mind you) on my ThinkPad. I&amp;rsquo;m pleasantly surprised with hows it&amp;rsquo;s working everything seems to be working out the box very stably. I used it without issue for a solid month and a half without a single issue.
Earlier this week I started having issues with my wireless card on some networks, but not at all of them.</description>
    </item><item>
      <title>The Home Network and NAT as a Security Layer</title>
      <link>https://stelfox.net/blog/2011/02/the-home-network-and-nat-as-a-security-layer/</link>
      <pubDate>Thu, 17 Feb 2011 18:15:02 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/blog/2011/02/the-home-network-and-nat-as-a-security-layer/</guid>
      <description>One of the hot-topics for IPv6 (which I have been thinking about a lot lately) is NAT. I normally wouldn&amp;rsquo;t go into detail about specifics that are obvious to people in my field but for the sake of this post I will. NAT or Network Address Translation, is a way for a large number of computers to share a single public IP address.
The router that is handling the NAT will keep track of connections coming in and out of it and re-write the destination IP to an internal address to keep the traffic flowing.</description>
    </item><item>
      <title>Image Crawler Meets rm -f *</title>
      <link>https://stelfox.net/blog/2009/11/image-crawler-meets-rm-f/</link>
      <pubDate>Wed, 04 Nov 2009 21:36:45 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/blog/2009/11/image-crawler-meets-rm-f/</guid>
      <description>I wrote a simple web crawler that archived any images it found from a site with a large number of backgrounds. I wanted to have rolling backgrounds that almost never repeated.
I let my crawler go and stopped it after a 24 hour period. I ran ls on the directory the images were being saved in to see the results and my ssh session locked up&amp;hellip; Or so I thought. I hit Ctrl-C and nothing happened&amp;hellip; So I closed my window and opened a new one.</description>
    </item><item>
      <title>About</title>
      <link>https://stelfox.net/about/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/about/</guid>
      <description>Thank you for taken an interest in me. Professionally I&amp;rsquo;m a systems programmer with over a decade of experience of architecting, configuring, maintaining, and operating both local and cloud services. I&amp;rsquo;ve been a network and systems administrator (Windows &amp;amp; Linux), web developer, security analyst, cloud architect, devops throughout some portion of my career.
Currently I&amp;rsquo;m working at Minim bringing some of my security knowledge to improving the state of home and IoT security.</description>
    </item><item>
      <title>Asterisk</title>
      <link>https://stelfox.net/notes/asterisk/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/notes/asterisk/</guid>
      <description>Note: This page is quite old and is likely out of date. My opinions may have also changed dramatically since this was written. It is here as a reference until I get around to updating it.
Asterisk is a software implementation of a telephone private branch exchange (PBX) originally created in 1999 by Mark Spencer of Digium. Like any PBX, it allows attached telephones to make calls to one another, and to connect to other telephone services including the public switched telephone network (PSTN) and Voice over Internet Protocol (VoIP) services.</description>
    </item><item>
      <title>Beets</title>
      <link>https://stelfox.net/notes/beets/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/notes/beets/</guid>
      <description>Note: This page is quite old and is likely out of date. My opinions may have also changed dramatically since this was written. It is here as a reference until I get around to updating it.
Documentation
Installation sudo yum install python-pip chromaprint-tools -y sudo pip-python install beets sudo pip-python install pyacoustid sudo pip-python install rgain sudo pip-python install pylast  Configure ~/.beetsconfig like so:
[beets] path_format: $artist/$album/$track - $title import_copy: yes import_write: yes import_resume: ask import_art: yes import_quiet_fallback: skip import_timid: no ignore: .</description>
    </item><item>
      <title>Bind</title>
      <link>https://stelfox.net/notes/bind/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/notes/bind/</guid>
      <description>Note: This page is quite old and is likely out of date. My opinions may have also changed dramatically since this was written. It is here as a reference until I get around to updating it.
Firewall Adjustments A DNS server isn&amp;rsquo;t very good unless other machines are able to query it. The following allows incoming DNS queries universally.
-A INPUT -p udp -m udp --dport 53 -j ACCEPT -A INPUT -p tcp -m tcp --dport 53 -j ACCEPT  If you&amp;rsquo;re running named in a chroot you&amp;rsquo;ll also need to add the following line to rsyslog&amp;rsquo;s configuration file so that the chroot doesn&amp;rsquo;t break named&amp;rsquo;s logging.</description>
    </item><item>
      <title>Building a Certificate Authority</title>
      <link>https://stelfox.net/notes/building-a-certificate-authority/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/notes/building-a-certificate-authority/</guid>
      <description>Note: This page is quite old and is likely out of date. My opinions may have also changed dramatically since this was written. It is here as a reference until I get around to updating it.
This page goes through how to create a local PKI infrastructure for use with all the other components listed in my notes and many may not mention it at all. It uses OpenSSL and provides scripts, information about choices made during the process and where to go next.</description>
    </item><item>
      <title>Chronyd</title>
      <link>https://stelfox.net/notes/chronyd/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/notes/chronyd/</guid>
      <description>Note: This page is quite old and is likely out of date. My opinions may have also changed dramatically since this was written. It is here as a reference until I get around to updating it.
Replacement for the ntpd daemon.
Installation yum install chrony -y  After configuration enable the service like so
systemctl enable chronyd.service  Server /etc/chrony.conf bindaddress &amp;lt;Server IP&amp;gt; bindcmdaddress 127.0.0.1 # IPv4/IPv6: server clock.nyc.he.net iburst server clock.</description>
    </item><item>
      <title>DHCPd</title>
      <link>https://stelfox.net/notes/dhcpd/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/notes/dhcpd/</guid>
      <description>Note: This page is quite old and is likely out of date. My opinions may have also changed dramatically since this was written. It is here as a reference until I get around to updating it.
Firewall Adjustments # Accept DHCP requests -A INPUT -m udp -p udp --dport 67 --sport 68 -j ACCEPT  Configuration /etc/dhcp/dhcpd.conf # Default lease time information min-lease-time 300; max-lease-time 86400; default-lease-time 86400; # We are the only DHCP server there should be.</description>
    </item><item>
      <title>Data Recovery</title>
      <link>https://stelfox.net/notes/data-recovery/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/notes/data-recovery/</guid>
      <description>Recovering Data from Swap Sometimes useful bits of information can be recovered from swap. Whether it&amp;rsquo;s encryption keys, documents that were being worked on or anything else that might&amp;rsquo;ve ended up in RAM. To search through the swap for interesting bits (and depending on the size this might take a while) you can execute the following command as root or sudo to do it:
[root@localhost ~]# strings `/bin/swapon -s | tail -1 | awk &#39;{print $1}&#39;` | less  The command above uses the swapon utility to list all of the swap devices in use; look at the last line of the output (most people only have one swap device); extract only the path to the device node.</description>
    </item><item>
      <title>Duplicity</title>
      <link>https://stelfox.net/notes/duplicity/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/notes/duplicity/</guid>
      <description>Note: This page is quite old and is likely out of date. My opinions may have also changed dramatically since this was written. It is here as a reference until I get around to updating it.
Duplicity is a command line backup utility that makes use of the rsync libraries to perform incremental backups. It also can use GPG public/private keypairs to handle backing up and restoring files.
I personally want to use public / private key pairs for my backups and contrary with what I do most of the time I share a single public / private key pair for my backups, with a strong pass string on the private key.</description>
    </item><item>
      <title>EZStream</title>
      <link>https://stelfox.net/notes/ezstream/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/notes/ezstream/</guid>
      <description>Note: This page is quite old and is likely out of date. My opinions may have also changed dramatically since this was written. It is here as a reference until I get around to updating it.
EZStream is a media streamer and re-encoder that can be used to feed Icecast.
Mounting Content I have a Samba share &amp;ldquo;Media&amp;rdquo; setup on the server &amp;ldquo;samba-srv&amp;rdquo; that holds all my media and allows anonymous read access to the content.</description>
    </item><item>
      <title>Festival</title>
      <link>https://stelfox.net/notes/festival/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/notes/festival/</guid>
      <description>Note: This page is quite old and is likely out of date. My opinions may have also changed dramatically since this was written. It is here as a reference until I get around to updating it.
Festival is packaged in a way on Fedora in a standalone mode, it does not come with an init script to startup it&amp;rsquo;s server on boot so the following is an adaptation of another one custom written to handle this.</description>
    </item><item>
      <title>GPIO</title>
      <link>https://stelfox.net/notes/gpio/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/notes/gpio/</guid>
      <description>Note: This page is quite old and is likely out of date. My opinions may have also changed dramatically since this was written. It is here as a reference until I get around to updating it.
I came across this python script that accesses GPIO pins in linux. It&amp;rsquo;s potentially very useful so I&amp;rsquo;m including it here, in it&amp;rsquo;s entirety. I can later on reference this for use in my own programs.</description>
    </item><item>
      <title>GPSd</title>
      <link>https://stelfox.net/notes/gpsd/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/notes/gpsd/</guid>
      <description>Note: This page is quite old and is likely out of date. My opinions may have also changed dramatically since this was written. It is here as a reference until I get around to updating it.
Installation I&amp;rsquo;ve been using a BU-353 which if I remember correctly was ~$20 and has been fairly reliable. It&amp;rsquo;s also got a magnetic base allowing you to attach it to the roof of a car when war-driving.</description>
    </item><item>
      <title>Gatekeeper Script for SSH</title>
      <link>https://stelfox.net/notes/gatekeeper-script-for-ssh/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/notes/gatekeeper-script-for-ssh/</guid>
      <description>If you&amp;rsquo;ve already implemented the SSH keys for authentication and have a password on your key then you&amp;rsquo;ve already achieved multi-factor authentication to a certain degree.
The gatekeeper script is something that I haven&amp;rsquo;t come across on any other systems that other people administer. Perhaps it&amp;rsquo;s too much trouble for them without much gain. I had the idea for this while watching a James Bond movie.
A Russian systems engineer put riddles on one of his machines that you had to go through in order to access the system, while this alone isn&amp;rsquo;t secure, asking the user random questions after authentication couldn&amp;rsquo;t hurt security.</description>
    </item><item>
      <title>Grub</title>
      <link>https://stelfox.net/notes/grub/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/notes/grub/</guid>
      <description>Note: This page is quite old and is likely out of date. My opinions may have also changed dramatically since this was written. It is here as a reference until I get around to updating it.
Security Password Protection If left unchecked a malicious user with console access can add or remove kernel parameters or chain-boot onto another device when booting using grub. You can prevent this by requiring the user to enter a password to modify the run-time configuration of grub on boot.</description>
    </item><item>
      <title>HAProxy</title>
      <link>https://stelfox.net/notes/haproxy/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/notes/haproxy/</guid>
      <description>Note: This page is quite old and is likely out of date. My opinions may have also changed dramatically since this was written. It is here as a reference until I get around to updating it.
Notes on Setup I setup two simple nginx webservers to test this configuration. They both served up a simple static page whose only contents was an indication of which server it was served from.</description>
    </item><item>
      <title>HTTPd</title>
      <link>https://stelfox.net/notes/httpd/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/notes/httpd/</guid>
      <description>Note: This page is quite old and is likely out of date. My opinions may have also changed dramatically since this was written. It is here as a reference until I get around to updating it.
Apache or httpd is a strong and well tested webserver.
Installation To install the Apache web server for this hardening guide on fedora run the following command as root:
[root@localhost] ~# yum install httpd mod_evasive mod_gnutls mod_security \ mod_selinux -y  A few modules I need to look into (TODO):</description>
    </item><item>
      <title>High Availability</title>
      <link>https://stelfox.net/notes/high-availability/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/notes/high-availability/</guid>
      <description>Note: This page is quite old and is likely out of date. My opinions may have also changed dramatically since this was written. It is here as a reference until I get around to updating it.
Packages of interest:
 keepalived ipvsadm pacemaker  IPVS IPVS (IP Virtual Server) is used to present a single address in a high availability scenario for one more services.
Installation / Setup yum install ipvsadm -y  A note about LXC containers: In order to make use of ipvsadm within an LXC container, you will also need to install the ipvsadm package on the LXC host and reboot it (optionally just load the kernel module though I don&amp;rsquo;t know it by name).</description>
    </item><item>
      <title>Hipache</title>
      <link>https://stelfox.net/notes/hipache/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/notes/hipache/</guid>
      <description>Note: This page is quite old and is likely out of date. My opinions may have also changed dramatically since this was written. It is here as a reference until I get around to updating it.
Installing and setting up hipache. To actually install this I had to open up port tcp/9418 outbound on the server.
yum install git npm -y npm install hipache -g  Create an initial configuration file:</description>
    </item><item>
      <title>IceCast</title>
      <link>https://stelfox.net/notes/icecast/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/notes/icecast/</guid>
      <description>Note: This page is quite old and is likely out of date. My opinions may have also changed dramatically since this was written. It is here as a reference until I get around to updating it.
While it&amp;rsquo;s described and primarily used as an audio streaming server, it would be more accurate to describe it as a media streaming server as it&amp;rsquo;s perfectly capable of rebroadcasting video streams with or without audio.</description>
    </item><item>
      <title>Icinga</title>
      <link>https://stelfox.net/notes/icinga/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/notes/icinga/</guid>
      <description>Note: This page is quite old and is likely out of date. My opinions may have also changed dramatically since this was written. It is here as a reference until I get around to updating it.
Icinga is a serious and awesome port of nagios. It properly modernizes it and gives it all the stuff the nagios developers made into an &amp;ldquo;Enterprise only&amp;rdquo; release just to be tool bags. Unfortunately at this time there aren&amp;rsquo;t any handy Fedora packages, but this should be coming soon with any luck.</description>
    </item><item>
      <title>Iodine</title>
      <link>https://stelfox.net/notes/iodine/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/notes/iodine/</guid>
      <description>Note: This page is quite old and is likely out of date. My opinions may have also changed dramatically since this was written. It is here as a reference until I get around to updating it.
On the server side:
yum install iodine-server -y  Edit the /etc/sysconfig/iodine-server file and put the following options in:
OPTIONS=&amp;quot;-P somepassword 172.16.0.1 t.0x378.net&amp;quot;  Create an A or CNAME record for iodine-01.0x378.net pointing at the FQDN of the server running iodine and a NS record pointing at iodine-01.</description>
    </item><item>
      <title>Kerberos</title>
      <link>https://stelfox.net/notes/kerberos/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/notes/kerberos/</guid>
      <description>Note: This page is quite old and is likely out of date. My opinions may have also changed dramatically since this was written. It is here as a reference until I get around to updating it.
Kerberos is a secure network authentication system.
It is very important that system times are all very close for successful authentication. You should configure NTPd or Chronyd to ensure the systems stay in sync.</description>
    </item><item>
      <title>LM Sensors</title>
      <link>https://stelfox.net/notes/lm-sensors/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/notes/lm-sensors/</guid>
      <description>Note: This page is quite old and is likely out of date. My opinions may have also changed dramatically since this was written. It is here as a reference until I get around to updating it.
Useful for monitoring system statistics such as CPU core temperatures. After installing the lm_sensors packages you can run the sensors-detect command that will walk you through loading any kernel modules that may be necessary to read sensor data.</description>
    </item><item>
      <title>Linux Hardening</title>
      <link>https://stelfox.net/notes/linux-hardening/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/notes/linux-hardening/</guid>
      <description>Note: This page is quite old and is likely out of date. My opinions may have also changed dramatically since this was written. It is here as a reference until I get around to updating it.
PLEASE NOTE: This guide was developed for Red Had Based architectures, specifically CentOS 5, and Fedora 16+. A lot of the information here is generally solid principles but you may need to adapt it to your distribution.</description>
    </item><item>
      <title>Linux Virtual Servers</title>
      <link>https://stelfox.net/notes/linux-virtual-servers/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/notes/linux-virtual-servers/</guid>
      <description>Note: This page is quite old and is likely out of date. My opinions may have also changed dramatically since this was written. It is here as a reference until I get around to updating it.
Keepalived My VMs each have three interfaces, eth0 is the &amp;lsquo;public&amp;rsquo; network network, eth1 is the &amp;lsquo;synchronization&amp;rsquo; network, and eth2 is the &amp;lsquo;internal&amp;rsquo; network. This sample configuration will be making use of two directors and two &amp;ldquo;real servers&amp;rdquo;.</description>
    </item><item>
      <title>Logrotate</title>
      <link>https://stelfox.net/notes/logrotate/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/notes/logrotate/</guid>
      <description>Note: This page is quite old and is likely out of date. My opinions may have also changed dramatically since this was written. It is here as a reference until I get around to updating it.
Logrotate is a pretty simple and straight forward program. It&amp;rsquo;s generally run as a nightly cron job testing the various configured file to see if they match their respective criteria for rotation.
After installing logrotate defaults are configured that are generally &amp;lsquo;good enough&amp;rsquo; for most systems and generally include the default system logs in /var/log.</description>
    </item><item>
      <title>Logwatch</title>
      <link>https://stelfox.net/notes/logwatch/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/notes/logwatch/</guid>
      <description> Note: This page is quite old and is likely out of date. My opinions may have also changed dramatically since this was written. It is here as a reference until I get around to updating it.
Configuration /etc/logwatch/conf/logwatch.conf LogDir = /var/log TmpDir = /var/cache/logwatch Output = stdout Format = text Encode = none MailTo = administrator@example.net MailFrom = root@example.net Archives = No Range = yesterday Detail = Med Service = All mailer = &amp;quot;/usr/sbin/sendmail -t&amp;quot; HostLimit = Yes  </description>
    </item><item>
      <title>Mailman</title>
      <link>https://stelfox.net/notes/mailman/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/notes/mailman/</guid>
      <description>Note: This page is quite old and is likely out of date. My opinions may have also changed dramatically since this was written. It is here as a reference until I get around to updating it.
GNU Mailman is a computer software application from the GNU project for managing electronic mailing lists.
Mailman is coded primarily in Python and currently maintained by Barry Warsaw. Mailman is free software, distributed under the GNU General Public License.</description>
    </item><item>
      <title>Memcached</title>
      <link>https://stelfox.net/notes/memcached/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/notes/memcached/</guid>
      <description>Note: This page is quite old and is likely out of date. My opinions may have also changed dramatically since this was written. It is here as a reference until I get around to updating it.
Installation yum install memcached -y  Configuration Memcached doesn&amp;rsquo;t have a whole lot of configuration options. There is the user it&amp;rsquo;s running under, what port it should listen on, what IP address it should bind too and how large it&amp;rsquo;s cache is.</description>
    </item><item>
      <title>Motion</title>
      <link>https://stelfox.net/notes/motion/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/notes/motion/</guid>
      <description>Note: This page is quite old and is likely out of date. My opinions may have also changed dramatically since this was written. It is here as a reference until I get around to updating it.
Installation yum install motion -y  Make sure all your camera&amp;rsquo;s are on and connected.
Configuration SELinux Woes SELinux by default block motion&amp;rsquo;s access to it&amp;rsquo;s logfile /var/log/motion.log, to allow this write the following out to a file motion_log_file_access.</description>
    </item><item>
      <title>MySQL</title>
      <link>https://stelfox.net/notes/mysql/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/notes/mysql/</guid>
      <description>Note: This page is quite old and is likely out of date. My opinions may have also changed dramatically since this was written. It is here as a reference until I get around to updating it.
Server Installation Install the package.
yum install mysql-server -y  Set to start up auto-magically and get it going now.
systemctl enable mysqld.service systemctl start mysqld.service  Run the quick and dirty secure installation script that comes with the server.</description>
    </item><item>
      <title>MySQL Tuning</title>
      <link>https://stelfox.net/notes/mysql-tuning/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/notes/mysql-tuning/</guid>
      <description>Note: This page is quite old and is likely out of date. My opinions may have also changed dramatically since this was written. It is here as a reference until I get around to updating it.
#!/bin/sh  # MySQL performance tuning primer script # # Writen by: Matthew Montgomery # Modified by: Sam Stelfox # Report bugs to: https://bugs.launchpad.net/mysql-tuning-primer # Inspired by: MySQLARd (http://gert.sos.be/demo/mysqlar/) # Version: 1.6-r1 # Released: 2011-08-06 # Updated: 2013-05-23 # # Licenced under GPLv2.</description>
    </item><item>
      <title>NFS</title>
      <link>https://stelfox.net/notes/nfs/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/notes/nfs/</guid>
      <description>Note: This page is quite old and is likely out of date. My opinions may have also changed dramatically since this was written. It is here as a reference until I get around to updating it.
Install packages nfs-utils and nfs4-acl-tools
This installation sets rpcbind, rpcgssd, rpcidmapd and nfslock to all automatically start on boot&amp;hellip; That pisses me off properly, so I set them all too disabled for testing&amp;hellip; I&amp;rsquo;ll turn them back on as needed (hopefully I won&amp;rsquo;t have too).</description>
    </item><item>
      <title>NGinx</title>
      <link>https://stelfox.net/notes/nginx/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/notes/nginx/</guid>
      <description>Note: This page is quite old and is likely out of date. My opinions may have also changed dramatically since this was written. It is here as a reference until I get around to updating it.
Dynamic Backend w/ Fallback Sources:
 http://wiki.nginx.org/HttpRedis2Module http://spin.atomicobject.com/2013/07/08/nignx-load-balancing-reverse-proxy-updated/
upstream redis { # TODO Properly configure this server redis-01.i.0x378.net:6379; keepalive 1024 single; redis2_connect_timeout 100ms; redis2_send_timeout 100ms; redis2_read_timeout 100ms; redis2_pass redis; } server { listen 443; # Include SSL stuff; # Log stuff access_log /var/log/nginx/access.</description>
    </item><item>
      <title>NTPDate</title>
      <link>https://stelfox.net/notes/ntpdate/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/notes/ntpdate/</guid>
      <description>Note: This page is quite old and is likely out of date. My opinions may have also changed dramatically since this was written. It is here as a reference until I get around to updating it.
There are two different means of client configuration. Fedora has a package ntpdate that should be installed instead of ntpd. Whenever it is started it will synchronize the server&amp;rsquo;s clock to any configured time servers.</description>
    </item><item>
      <title>NTPd</title>
      <link>https://stelfox.net/notes/ntpd/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/notes/ntpd/</guid>
      <description>Note: This page is quite old and is likely out of date. My opinions may have also changed dramatically since this was written. It is here as a reference until I get around to updating it.
The Network Time Protocol (NTP) is a protocol for synchronizing the clocks of computer systems over packet-switched, variable-latency data networks. NTP uses UDP on port 123 as its transport layer. It is designed particularly to resist the effects of variable latency by using a jitter buffer.</description>
    </item><item>
      <title>Nagios</title>
      <link>https://stelfox.net/notes/nagios/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/notes/nagios/</guid>
      <description>Note: This page is quite old and is likely out of date. My opinions may have also changed dramatically since this was written. It is here as a reference until I get around to updating it.
yum install nagios nagios-plugins httpd nagios-plugins-load \ nagios-plugins-users nagios-plugins-http nagios-plugins-ping \ nagios-plugins-ssh nagios-plugins-procs nagios-plugins-disk \ nagios-plugins-smtp nagios-plugins-dns nagios-plugins-tcp -y  rm -f /etc/httpd/conf.d/welcome.conf  There is also an undeclared depedency:
yum install perl-Text-ParseWords -y  htpasswd -c /etc/nagios/passwd nagiosadmin  Updates are going to be handled by yum exclusively, so the first change is adjusting check_for_updates=1 to 0, and for good measure bare_update_check=0 to 1 in /etc/nagios/nagios.</description>
    </item><item>
      <title>Network</title>
      <link>https://stelfox.net/notes/network/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/notes/network/</guid>
      <description>Note: This page is quite old and is likely out of date. My opinions may have also changed dramatically since this was written. It is here as a reference until I get around to updating it.
Red Hat Based Systems Simple Static IP Address You&amp;rsquo;ll need to find the interface name of your primary ethernet card. Generally this can be done with the ipaddr show command. The device name will more likely than not be either eth0 or em1, though occasionally I&amp;rsquo;ve seen ethernet addresses along the lines of p12p1 (which is a terrible naming convention that bothers the hell out of me but I understand why the linux developers switched to this naming convention).</description>
    </item><item>
      <title>OpenStack Glance</title>
      <link>https://stelfox.net/notes/openstack-glance/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/notes/openstack-glance/</guid>
      <description>Note: This page is quite old and is likely out of date. My opinions may have also changed dramatically since this was written. It is here as a reference until I get around to updating it.
Installation/Configuration Install the required packages with the following command:
yum install openstack-utils openstack-glance python-glanceclient -y  Generate a long, strong unique password for glance&amp;rsquo;s MySQL user (MySQL should already be setup at this point and bound to 10.</description>
    </item><item>
      <title>OpenVAS</title>
      <link>https://stelfox.net/notes/openvas/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/notes/openvas/</guid>
      <description>Note: This page is quite old and is likely out of date. My opinions may have also changed dramatically since this was written. It is here as a reference until I get around to updating it.
Setup Install the packages nikto, openvas-scanner, openvas-manager, and openvas-client.
Scanner As root run openvas-mkcert like the following:
[root@localhost ~]# openvas-mkcert ------------------------------------------------------------------------------- Creation of the OpenVAS SSL Certificate ------------------------------------------------------------------------------- This script will now ask you the relevant information to create the SSL certificate of OpenVAS.</description>
    </item><item>
      <title>OpenVPN</title>
      <link>https://stelfox.net/notes/openvpn/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/notes/openvpn/</guid>
      <description>Note: This page is quite old and is likely out of date. My opinions may have also changed dramatically since this was written. It is here as a reference until I get around to updating it.
If doing this from within an LXC container you&amp;rsquo;ll need to perform the following two steps (this didnt work):
mkdir /var/lib/libvirt/lxc/${VMNAME}/dev/net mknod /var/lib/libvirt/lxc/${VMNAME}/dev/net/tun c 10 200  yum install openssl openvpn -y mkdir -p /etc/openvpn/keys cd /etc/openvpn/keys openssl dhparam -rand - 1024 &amp;gt; dh1024.</description>
    </item><item>
      <title>Openstack</title>
      <link>https://stelfox.net/notes/openstack/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/notes/openstack/</guid>
      <description>Note: This page is quite old and is likely out of date. My opinions may have also changed dramatically since this was written. It is here as a reference until I get around to updating it.
This is a mostly (95%) script-less installation and setup of OpenStack from scratch on a single host, though done in a way that the services could each be very easily broken out on to their own machines or multiple machines.</description>
    </item><item>
      <title>Openstack Keystone</title>
      <link>https://stelfox.net/notes/openstack-keystone/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/notes/openstack-keystone/</guid>
      <description>Installation/Configuration Install the required packages with the following command:
yum install openstack-utils openstack-keystone python-keystoneclient -y  Generate a long, strong unique password for keystone&amp;rsquo;s MySQL user (MySQL should already be setup at this point and bound to 10.100.0.11 if you&amp;rsquo;re following along from the Openstack page. Open up a MySQL console as the root user and run the following commands:
Important Note: Openstack has a convenient command openstack-db that does the following for you, however, when it creates the user it uses keystone for a password and doesn&amp;rsquo;t restrict the hosts that can use that account (globally available).</description>
    </item><item>
      <title>PAM</title>
      <link>https://stelfox.net/notes/pam/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/notes/pam/</guid>
      <description>Note: This page is quite old and is likely out of date. My opinions may have also changed dramatically since this was written. It is here as a reference until I get around to updating it.
Overview /etc/pam.d/ directory contains the PAM configuration files for each PAM-aware application. Each pam aware configuration file has lines in the format of:
&amp;lt;module interface&amp;gt; &amp;lt;control flag&amp;gt; &amp;lt;module&amp;gt; &amp;lt;module arguments&amp;gt;  Module Interfaces There are only four module interfaces:</description>
    </item><item>
      <title>Partitioning</title>
      <link>https://stelfox.net/notes/partitioning/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/notes/partitioning/</guid>
      <description>Note: This page is quite old and is likely out of date. My opinions may have also changed dramatically since this was written. It is here as a reference until I get around to updating it.
Recommended / Best Practices  /boot 200Mb swap 1.5x times the amount of RAM / /home /tmp /var /var/log /var/log/audit Encrypt all partitions except /boot  Creating an LVM partition Create a Physical Partition  Open the drive in fdisk, create a new primary partition Mark the new partition as type &amp;lsquo;8e&amp;rsquo; or Linux LVM Write the partition table  Create Physical LVM Volume pvcreate /dev/sdc1 (assuming /dev/sdc1 was the partition just created)  Volume Group Creation This point needs a bit of thinking before doing.</description>
    </item><item>
      <title>Password Security</title>
      <link>https://stelfox.net/notes/password-security/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/notes/password-security/</guid>
      <description>Note: This page is quite old and is likely out of date. My opinions may have also changed dramatically since this was written. It is here as a reference until I get around to updating it.
Random Password Generation This little ruby snippet generates a random 31 character string consisting of uppercase letters, lowercase letters, and numbers.
#!/usr/bin/env ruby character_set = [(&amp;#39;a&amp;#39;..&amp;#39;z&amp;#39;),(&amp;#39;A&amp;#39;..&amp;#39;Z&amp;#39;),(0..9)].map do |item| item.to_a end character_set.flatten! password = &amp;#34;&amp;#34; 31.</description>
    </item><item>
      <title>Postfix</title>
      <link>https://stelfox.net/notes/postfix/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/notes/postfix/</guid>
      <description>Note: This page is quite old and is likely out of date. My opinions may have also changed dramatically since this was written. It is here as a reference until I get around to updating it.
By default Fedora/CentOS come with sendmail. Postfix is preferable as it was written with security in mind.
Something that would be good to port over to Fedora/Postfix with a nice Stelfox spin, and it&amp;rsquo;s follow up.</description>
    </item><item>
      <title>Puppet</title>
      <link>https://stelfox.net/notes/puppet/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/notes/puppet/</guid>
      <description>Note: This page is quite old and is likely out of date. My opinions may have also changed dramatically since this was written. It is here as a reference until I get around to updating it.
Puppet Master / Server Installation yum install puppet puppet-server -y  And configure the puppet master like so:
The following file is /etc/puppet/puppet.conf:
[master] confdir = /etc/puppet vardir = /var/lib/puppet logdir = /var/log/puppet # Whether to print stack traces on some errors trace = false # Whether log files should always flush to disk.</description>
    </item><item>
      <title>Qpid</title>
      <link>https://stelfox.net/notes/qpid/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/notes/qpid/</guid>
      <description>Note: This page is quite old and is likely out of date. My opinions may have also changed dramatically since this was written. It is here as a reference until I get around to updating it.
Qpid is an open source AMQP broker, providing transaction management, queuing, distribution, security, management, clustering, and federation.
 http://wiki.openstack.org/QpidSupport http://www.linuxjournal.com/magazine/advanced-message-queuing-protocol-amqp?page=0,1  Installation Fedora provides a package for qpid called qpid-cpp-server which can be installed like so:</description>
    </item><item>
      <title>RPM Build</title>
      <link>https://stelfox.net/notes/rpm-build/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/notes/rpm-build/</guid>
      <description>Note: This page is quite old and is likely out of date. My opinions may have also changed dramatically since this was written. It is here as a reference until I get around to updating it.
Sources:
 https://fedoraproject.org/wiki/How_to_create_an_RPM_package https://fedoraproject.org/wiki/Packaging:Guidelines  Create a build user whose sole purpose is to handle building packages. Do not use root under any circumstances.
As root:
useradd mockbuild echo -n &#39;mockbuild:password&#39; | chpasswd  Its valuable to grant the mockbuild user sudo permissions to allow that user to install missing development packages.</description>
    </item><item>
      <title>RSyslog</title>
      <link>https://stelfox.net/notes/rsyslog/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/notes/rsyslog/</guid>
      <description>Note: This page is quite old and is likely out of date. My opinions may have also changed dramatically since this was written. It is here as a reference until I get around to updating it.
RSyslog RSyslog is a more advanced replacement for the aging klogd and syslogd. It supports useful features such as attribute filtering, multiple protocol support, and logging to databases.
Security Notes RSyslog can log some sensitive information or very useful information for any potential intruder including service names, versions, valid usernames, logon times and quite a bit more.</description>
    </item><item>
      <title>Redis</title>
      <link>https://stelfox.net/notes/redis/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/notes/redis/</guid>
      <description>Note: This page is quite old and is likely out of date. My opinions may have also changed dramatically since this was written. It is here as a reference until I get around to updating it.
Installation yum install redis -y  Configuration Default configuration:
############### GENERAL ############### # Daemonize the Redis process and write out the specified PID file # daemonize no pidfile /var/run/redis/redis.pid # TCP Listen mode, if bind is not specified it will listen on all available # interfaces # bind 127.</description>
    </item><item>
      <title>Router</title>
      <link>https://stelfox.net/notes/router/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/notes/router/</guid>
      <description>Note: This page is quite old and is likely out of date. My opinions may have also changed dramatically since this was written. It is here as a reference until I get around to updating it.
Resources:
 http://www.fclose.com/816/port-forwarding-using-iptables/  This was done as a quick and dirty iptables NAT/gateway for a private LXC network. Create the LXC container using our base templating trick:
cp -ar /var/lib/libvirt/lxc/fedora-19-x86_64-template /var/lib/libvirt/lxc/gateway-01 virt-install --connect lxc:// --name gateway-01 --ram 512 --vcpus 1 \ --filesystem &amp;quot;/var/lib/libvirt/lxc/gateway-01,/&amp;quot; --network=&amp;quot;network=br0&amp;quot; \ --network=&amp;quot;network=isolated&amp;quot; --console &amp;quot;pty&amp;quot; --check-cpu  echo 1 &amp;gt; /proc/sys/net/ipv4/ip_forward echo &#39;net.</description>
    </item><item>
      <title>Ruby</title>
      <link>https://stelfox.net/notes/ruby/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/notes/ruby/</guid>
      <description>Note: This page is quite old and is likely out of date. My opinions may have also changed dramatically since this was written. It is here as a reference until I get around to updating it.
RVM If using Gnome terminal, you have to set the &amp;lsquo;Run command as login shell&amp;rsquo; check box on the Title and Command tab inside of gnome-terminal&amp;rsquo;s Settings page to run the bashrc file upon opening the terminal.</description>
    </item><item>
      <title>SSHd</title>
      <link>https://stelfox.net/notes/sshd/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/notes/sshd/</guid>
      <description>Note: This page is quite old and is likely out of date. My opinions may have also changed dramatically since this was written. It is here as a reference until I get around to updating it.
Secure Shell or SSH is a network protocol that allows data to be exchanged using a secure channel between two networked devices. Used primarily on GNU/Linux and Unix based systems to access shell accounts, SSH was designed as a replacement for Telnet and other insecure remote shells, which send information, notably passwords, in plaintext, rendering them susceptible to packet analysis.</description>
    </item><item>
      <title>Samba</title>
      <link>https://stelfox.net/notes/samba/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/notes/samba/</guid>
      <description>Note: This page is quite old and is likely out of date. My opinions may have also changed dramatically since this was written. It is here as a reference until I get around to updating it.
FEAR FOR THOSE WHO TREAD THESE WATERS FOR THEY ARE DEEP AND EVIL.
SELinux Adjustments SELinux hates Samba and with good reason. To allow authenticated clients to access the contents of a samba share you need to label the share.</description>
    </item><item>
      <title>Security Acknowledgements</title>
      <link>https://stelfox.net/security/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/security/</guid>
      <description>Thank you for taking the time to consider the security of other people! If you&amp;rsquo;ve found a security vulnerability with any of my infrastructure, I&amp;rsquo;d greatly appreciate an email. If the vulnerability is sensitive enough, please consider encrypting the contents with my public key.
For additional confidence that key is controlled by me, I encourage you to check the proofs I&amp;rsquo;ve published on Keybase.
As soon as I receive any reports, I&amp;rsquo;ll respond as soon as possible then begin confirming it myself.</description>
    </item><item>
      <title>Sendmail</title>
      <link>https://stelfox.net/notes/sendmail/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/notes/sendmail/</guid>
      <description>Note: This page is quite old and is likely out of date. My opinions may have also changed dramatically since this was written. It is here as a reference until I get around to updating it.
Consider Postfix instead. It was written with security in mind.
 http://www.sendmail.com/sm/open_source/docs/m4/tweaking_config.html http://etutorials.org/Linux+systems/red+hat+linux+bible+fedora+enterprise+edition/Part+IV+Red+Hat+Linux+Network+and+Server+Setup/Chapter+19+Setting+Up+a+Mail+Server/Configuring+sendmail/ http://www.fredshack.com/docs/sendmail.html  Installation yum install sendmail -y  Configure Any configuration changes need to be re-compiled by the m4 processor. This is available in the sendmail-cf package which can be install using the following command:</description>
    </item><item>
      <title>Session Recording</title>
      <link>https://stelfox.net/notes/session-recording/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/notes/session-recording/</guid>
      <description>Note: This page is quite old and is likely out of date. My opinions may have also changed dramatically since this was written. It is here as a reference until I get around to updating it.
Bash Builtins The script utility which I&amp;rsquo;ve found in Fedora as a default package (or it&amp;rsquo;s a bash builtin). You can record a session and the timing data about it exit and then view it like an in console video.</description>
    </item><item>
      <title>Site License Information</title>
      <link>https://stelfox.net/licenses/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/licenses/</guid>
      <description>Unless otherwise noted all code samples on this site are licensed under the MIT license. Code referenced on other sites or where attribution is directly provided may be under alternative licenses and it is up to the consumer of the content to verify they are compliant with the external licenses.
Post and page prose of this site is licensed under the Creative Commons Attribution 4.0 International License.</description>
    </item><item>
      <title>Snort</title>
      <link>https://stelfox.net/notes/snort/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/notes/snort/</guid>
      <description>Note: This page is quite old and is likely out of date. My opinions may have also changed dramatically since this was written. It is here as a reference until I get around to updating it.
Suricata might be a better option and has packages for Fedora 15.
Useful software that can complement an IDS/IPS: OpenFPC, Snorby
Notes Alright this is frustrating, Fedora 15 doesn&amp;rsquo;t have snort packages so we&amp;rsquo;re compiling from source.</description>
    </item><item>
      <title>Software RAID</title>
      <link>https://stelfox.net/notes/software-raid/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/notes/software-raid/</guid>
      <description>Note: This page is quite old and is likely out of date. My opinions may have also changed dramatically since this was written. It is here as a reference until I get around to updating it.
Installation The mdadm package is required for software RAID:
yum install mdadm -y  Array Creation mdadm --create /dev/md0 --verbose --level=1 --raid-devices=2 /dev/sda /dev/sdb  Shorthand:
mdadm -Cv /dev/md0 -l1 -n2 /dev/sd[ab]  Note: If you use a RAID 0 and want to put ZFS on top of be sure to set a chunk size &amp;lt;= 256 (maybe even 128 if you&amp;rsquo;re still getting errors) otherwise ZFS will warn about issues creating it&amp;rsquo;s partitions.</description>
    </item><item>
      <title>Squid</title>
      <link>https://stelfox.net/notes/squid/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/notes/squid/</guid>
      <description>Note: This page is quite old and is likely out of date. My opinions may have also changed dramatically since this was written. It is here as a reference until I get around to updating it.
 http://klaubert.wordpress.com/2008/01/09/squid-kerberos-authentication-and-ldap-authorization-in-active-directory/ http://gofedora.com/how-to-configure-squid-proxy-server/ http://rosincore.blogspot.com/2010/01/dansguardian-content-filtering-with-ad.html http://eu.squid-cache.org/ConfigExamples/Authenticate/Kerberos http://wiki.squid-cache.org/Features/NegotiateAuthentication http://www.squid-cache.org/Versions/v3/3.2/cfgman/  For URL filtering please refer to the SquidGuard page.
yum install squid -y  Before configuring squid we mind as well get the authentication credentials in place.</description>
    </item><item>
      <title>Squid Guard</title>
      <link>https://stelfox.net/notes/squid-guard/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/notes/squid-guard/</guid>
      <description>Note: This page is quite old and is likely out of date. My opinions may have also changed dramatically since this was written. It is here as a reference until I get around to updating it.
Squid Guard is officially a &amp;ldquo;URL Rewrite Program&amp;rdquo;. It takes information about the requested page coming in and checks it against a series of ACLs, blacklists, and whitelists in an order specified by the administrator.</description>
    </item><item>
      <title>Suricata</title>
      <link>https://stelfox.net/notes/suricata/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/notes/suricata/</guid>
      <description>Note: This page is quite old and is likely out of date. My opinions may have also changed dramatically since this was written. It is here as a reference until I get around to updating it.
Installation yum install suricata -y  Configuration Network Configuration for IPS I purchased a dedicated two NIC PCIe card to make use of Suricata in IPS mode. When connected these interfaces were reported to me as devices p1p1 and p2p1.</description>
    </item><item>
      <title>Swap</title>
      <link>https://stelfox.net/notes/swap/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/notes/swap/</guid>
      <description>Note: This page is quite old and is likely out of date. My opinions may have also changed dramatically since this was written. It is here as a reference until I get around to updating it.
Security If at any point a decryption key is needed to access a file, it will be stored in RAM. If an otherwise encrypted file is edited it will get stored in RAM before being saved.</description>
    </item><item>
      <title>Tails Setup Notes</title>
      <link>https://stelfox.net/notes/tails-setup-notes/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/notes/tails-setup-notes/</guid>
      <description>This is relevant for TAILS version 2.5 and basically follows their install guide.
I needed 2 USB sticks each at least 4Gb in size, and a spare laptop to take these notes on and read the instructions.
I downloaded a copy of the Tails GPG key from several machines located on wildly disparate internet connections like so:
curl -s https://tails.boum.org/tails-signing.key -o tails-signing-local.key for i in ircp io proc; do ssh $i &amp;#39;curl -s https://tails.</description>
    </item><item>
      <title>Tmux</title>
      <link>https://stelfox.net/notes/tmux/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/notes/tmux/</guid>
      <description>Note: This page is quite old and is likely out of date. My opinions may have also changed dramatically since this was written. It is here as a reference until I get around to updating it.
Installation yum install tmux -y  Shared Session Configuration The idea behind this was to allow easy pair programming in a fairly secure way using a separate unprivileged account to host the session. I&amp;rsquo;ve used a combination of tmux, some bash scripts, and sudo to accomplish this environment.</description>
    </item><item>
      <title>Transmission Daemon</title>
      <link>https://stelfox.net/notes/transmission-daemon/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/notes/transmission-daemon/</guid>
      <description>Note: This page is quite old and is likely out of date. My opinions may have also changed dramatically since this was written. It is here as a reference until I get around to updating it.
Configuration First install the transmission-daemon like so:
[root@localhost ~]# yum install transmission-daemon -y  The init script that comes with transmission-daemon uses the utility which which is not in the minimal install. As such you&amp;rsquo;ll need to edit the init file to point at the binary as it should be doing in the first place.</description>
    </item><item>
      <title>Trim</title>
      <link>https://stelfox.net/notes/trim/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/notes/trim/</guid>
      <description>Note: This page is quite old and is likely out of date. My opinions may have also changed dramatically since this was written. It is here as a reference until I get around to updating it.
Configuring This page is referring to TRIM support for SSDs. To enable it add noatime,discard to the options on all of the fstab partition entries that live on the drive. Be sure to disable any swap partitions that live on that drive as well.</description>
    </item><item>
      <title>Wireless Troubleshouting</title>
      <link>https://stelfox.net/notes/wireless-troubleshouting/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/notes/wireless-troubleshouting/</guid>
      <description>Note: This page is quite old and is likely out of date. My opinions may have also changed dramatically since this was written. It is here as a reference until I get around to updating it.
BCM4311 There is a known issue with Fedora 15+ and BCM4311 wireless cards where the wireless will connect, stay connected for a few minutes, then disconnect until either the machine is rebooted or wpa_supplicant and NetworkManager are rebooted.</description>
    </item><item>
      <title>fail2ban</title>
      <link>https://stelfox.net/notes/fail2ban/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/notes/fail2ban/</guid>
      <description>Note: This page is quite old and is likely out of date. My opinions may have also changed dramatically since this was written. It is here as a reference until I get around to updating it.
fail2ban provides a vital service of blocking troublesome IPs from attempting brute force logins.
My immediate issue is that it requires a few packages off the bat that I do not want on my system.</description>
    </item><item>
      <title>iSCSI</title>
      <link>https://stelfox.net/notes/iscsi/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/notes/iscsi/</guid>
      <description>Note: This page is quite old and is likely out of date. My opinions may have also changed dramatically since this was written. It is here as a reference until I get around to updating it.
This is the client configuration for iSCSI, please refer to iSCSId for the server portion.
Configuration yum install iscsi-initiator-utils -y
iscsid.startup = /etc/rc.d/init.d/iscsid force-start node.startup = automatic node.session.auth.authmethod = CHAP node.session.auth.username = client1 node.</description>
    </item><item>
      <title>iSCSId</title>
      <link>https://stelfox.net/notes/iscsid/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/notes/iscsid/</guid>
      <description>Note: This page is quite old and is likely out of date. My opinions may have also changed dramatically since this was written. It is here as a reference until I get around to updating it.
This is the server configuration for iSCSI, please refer to iSCSI for the client portion.
Configuration Install the package scsi-target-utils.
Example config:
default-driver iscsi initiator-address 10.0.0.100 #ignore-errors yes &amp;lt;target iqm.2011-09.net.bedroomprogrammers.lab:example-srv.storage&amp;gt; backing-store /dev/vdb incominguser client1 XXXXXXXXXXXX incominguser client2 XXXXXXXXXXXX write-cache off vendor_id Bedroom Programmers &amp;lt;/target&amp;gt;  [root@localhost ~]# chkconfig tgtd on [root@localhost ~]# service tgtd start  References  http://fedoraproject.</description>
    </item><item>
      <title>libvirtd</title>
      <link>https://stelfox.net/notes/libvirtd/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/notes/libvirtd/</guid>
      <description>Note: This page is quite old and is likely out of date. My opinions may have also changed dramatically since this was written. It is here as a reference until I get around to updating it.
libvirt is an open source API and management tool for managing platform virtualization. It is used to manage Linux KVM and Xen virtual machines through graphical interfaces such as Virtual Machine Manager and higher level tools such as oVirt.</description>
    </item></channel>
</rss>

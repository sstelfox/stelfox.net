<!doctype html><html lang=en><head><meta charset=UTF-8><meta http-equiv=X-UA-Compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=author content><meta name=description content="Note: This page is quite old and is likely out of date. My opinions may have also changed dramatically since this was written. It is here as a reference until I get around to updating it.
Festival is packaged in a way on Fedora in a standalone mode, it does not come with an init script to startup it's server on boot so the following is an adaptation of another one custom written to handle this."><meta name=keywords content="blog,programming,linux,systems,personal,rust,philosophy"><meta name=robots content="noodp"><meta name=theme-color content><link rel=canonical href=https://stelfox.net/notes/festival/><title>Festival :: ./Sam_Stelfox.sh â€” A simple place for my collected thoughts and notes.
</title><link rel=stylesheet href=/main.949191c1dcc9c4a887997048b240354e47152016d821198f89448496ba42e491.css integrity="sha256-lJGRwdzJxKiHmXBIskA1TkcVIBbYIRmPiUSElrpC5JE="><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><link rel="shortcut icon" href=/favicon.ico><meta itemprop=name content="Festival"><meta itemprop=description content="Note: This page is quite old and is likely out of date. My opinions may have also changed dramatically since this was written. It is here as a reference until I get around to updating it.
Festival is packaged in a way on Fedora in a standalone mode, it does not come with an init script to startup it's server on boot so the following is an adaptation of another one custom written to handle this."><meta itemprop=datePublished content="2013-01-01T00:00:01+00:00"><meta itemprop=dateModified content="2013-01-01T00:00:01+00:00"><meta itemprop=wordCount content="334"><meta name=twitter:card content="summary"><meta name=twitter:title content="Festival"><meta name=twitter:description content="Note: This page is quite old and is likely out of date. My opinions may have also changed dramatically since this was written. It is here as a reference until I get around to updating it.
Festival is packaged in a way on Fedora in a standalone mode, it does not come with an init script to startup it's server on boot so the following is an adaptation of another one custom written to handle this."><meta property="article:published_time" content="2013-01-01 00:00:01 +0000 UTC"></head><body><div class=container><header class=header><span class=header__inner><a href=/ style=text-decoration:none><div class=logo><span class=logo__mark>></span>
<span class=logo__text>./Sam_Stelfox.sh</span>
<span class=logo__cursor></span></div></a><span class=header__right><nav class=menu><ul class=menu__inner><li><a href=/about/>About</a></li><li><a href=/notes/>Notes</a></li><li><a href=/blog/>Posts</a></li></ul></nav><span class=menu-trigger><svg viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg></span></span></span></header><div class=content><main class=post><div class=post-info></p></div><article><h2 class=post-title><a href=https://stelfox.net/notes/festival/>Festival</a></h2><div class=post-content><p><em><strong>Note: This page is quite old and is likely out of date. My opinions may have
also changed dramatically since this was written. It is here as a reference
until I get around to updating it.</strong></em></p><p>Festival is packaged in a way on Fedora in a standalone mode, it does not come
with an init script to startup it's server on boot so the following is an
adaptation of another one custom written to handle this. It's primarily used in
Fedora for Gnome's usability support which doesn't run the server as a daemon.</p><p>Listening to the samples of the stock voices, I've found that <code>ked</code> sounds the
best in my opinion and at least until we here try and make our own diphone
database this is the voice that I'm going to use.</p><p>Packages:</p><ul><li>festival</li><li>asterisk-festival</li><li>festvox-ked-diphone</li></ul><p>In Fedora the voices are stored in the directory
<code>/usr/share/festival/lib/voices/*/</code> directories. These are the voice that you
have to choose from when configuring festival. The configuration files live in
<code>/etc/festival/</code>.</p><p>We're only interested in <code>/etc/festival/festival.scm</code> which doesn't exist by
default. The following file has the <code>ked</code> voice set to be the default. I left
the other voice in there commented out in case I wanted to switch back some
other time.</p><pre tabindex=0><code>(defvar server_home &#34;.&#34;)

;; Enable access to localhost so asterisk can connect (no one else needs to connect)
(set! server_access_list &#39;(&#34;[^.]+&#34; &#34;127.0.0.1&#34; &#34;localhost.*&#34; &#34;argus.lounge.gentlemenslounge.org&#34;))

(cd server_home)
(set! default_access_strategy &#39;direct)

;; Set the voice to &#39;ked&#39; the other one is left in case I wish to switch later
(set! voice_default &#39;voice_ked_diphone)
;(set! voice_default &#39;voice_nitech_us_awb_arctic_hts)

; Preload ked voice to make the server more responsive
(voice_ked_diphone)

;; Asterisk command
&#34;(define (tts_textasterisk STRING MODE)
Apply tts to STRING. This function is specifically designed for use in
server mode so a single function call may synthesize the string. This function
name may be added to the server safe functions.&#34;
(let ((wholeutt (utt.synth (eval (list &#39;Utterance &#39;Text string)))))
(utt.wave.resample wholeutt 8000)
(utt.wave.rescale wholeutt 5)
(utt.send.wave.client.wholeutt)))
;; End Asterisk command

;(provide &#39;siteinit)
</code></pre></div></article><hr><div class=post-info><p><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-git-commit"><circle cx="12" cy="12" r="4"/><line x1="1.05" y1="12" x2="7" y2="12"/><line x1="17.01" y1="12" x2="22.96" y2="12"/></svg><a href=e0ae306a5897bc6892dbaa3e409f62aac8e8d735 target=_blank rel=noopener>e0ae306a</a> @ 2024-07-15</p></div></main></div><footer class=footer></footer></div><script type=text/javascript src=/bundle.min.e89fda0f29b95d33f6f4224dd9e5cf69d84aff3818be2b0d73e731689cc374261b016d17d46f8381962fb4a1577ba3017b1f23509d894f6e66431f988c00889e.js integrity="sha512-6J/aDym5XTP29CJN2eXPadhK/zgYvisNc+cxaJzDdCYbAW0X1G+DgZYvtKFXe6MBex8jUJ2JT25mQx+YjACIng=="></script></body></html>
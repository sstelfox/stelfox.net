<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, viewport-fit=cover">

    <title>Sam Stelfox&#x27;s Thoughts &amp; Notes</title>
    <link rel="stylesheet" href="https://stelfox.net/colors-dark.css">

    

    
    
  </head>
  <body>
    <header id="header">
      <h1><a href="https:&#x2F;&#x2F;stelfox.net">Sam Stelfox&#x27;s Thoughts &amp; Notes</a></h1>
      <p>Thought&#x27;s from a software engineer, systems architect, and Linux gubernƒÅre.</p>
    </header>
    <div id="page">
      <div id="sidebar">
        
          
          <nav>
            <ul class="nav">
              
                
                  <li>
                    <a href="&#x2F;"><span>Home</span></a>
                  </li>
                
                  <li>
                    <a href="&#x2F;about&#x2F;"><span>About</span></a>
                  </li>
                
                  <li>
                    <a href="&#x2F;blog&#x2F;"><span>Blog</span></a>
                  </li>
                
                  <li>
                    <a href="&#x2F;projects&#x2F;"><span>Projects</span></a>
                  </li>
                
                  <li>
                    <a href="&#x2F;notes&#x2F;"><span>Various Notes</span></a>
                  </li>
                
              
            </ul>
          </nav>
          
        
      </div>
      <div id="content">
        
<article class="post">
  <h1>EZStream</h1><div class="post-content"><p>EZStream is a media streamer and re-encoder that can be used to feed
<a href="https://stelfox.net/notes/icecast/">Icecast</a>.</p>
<span id="continue-reading"></span><h2 id="mounting-content">Mounting Content</h2>
<p>I have a <a href="https://stelfox.net/notes/samba/">Samba</a> share &quot;Media&quot; setup on the server &quot;samba-srv&quot; that holds
all my media and allows anonymous read access to the content. You'll need to
install <code>cifs-utils</code> to mount the samba share. To make it available to my
stream server I've performed the following:</p>
<pre><code>mkdir /media/content
mount -t cifs -o username=guest /samba-srv/Media /media/content
</code></pre>
<p>The above command could be added to an init script like an <code>rc.local</code> or
alternatively you can do it right and add it to the fstab file to be mounted
automatically. You'll want to add the following to <code>/etc/fstab</code>:</p>
<pre><code>/samba-srv/Media  /media/content  cifs  auto,guest,_netdev  0 0
</code></pre>
<p>Nice and easy.</p>
<h2 id="installation-configuration">Installation &amp; Configuration</h2>
<p>Quick and Easy:</p>
<pre><code>yum install ezstream -y
</code></pre>
<p>ezstream.xml</p>
<pre data-lang="xml" class="language-xml "><code class="language-xml" data-lang="xml"><ezstream>
  <url>http://127.0.0.1:8000/automation.ogg</url>

  <sourceuser>automation</sourceuser>
  <sourcepassword>hackme</sourcepassword>

  <format>VORBIS</format>

  <filename>./song_request.rb</filename>
  <playlist_program>1</playlist_program>

  <svrinfobitrate>128</svrinfobitrate>
  <svrinfochannels>2</svrinfochannels>
  <svrinfosamplerate>44100</svrinfosamplerate>

  <metadata_format>@a@ - @t@</metadata_format>

  <reencode>
    <enable>1</enable>
    <encdec>
      <format>FLAC</format>
      <match>.flac</match>
      <decode>flac -s -d --force-raw-format --sign=signed --endian=little -o - "@T@"</decode>
      <encode>Not supported Yet</encode>
    </encdec>
    <encdec>
      <format>MP3</format>
      <match>.mp3</match>
      <decode>madplay -b 16 -R 44100 -S -o raw:- "@T@"</decode>
      <encode>Not supported Yet</encode>
    </encdec>
    <encdec>
      <format>VORBIS</format>
      <match>.ogg</match>
      <decode>oggdec -R -b 16 -e 0 -s 1 -o - "@T@"</decode>
      <encode>oggenc -r -B 16 -C 2 -R 44100 --raw-endianness 0 -q 1.5 -t "@M@" -</encode>
    </encdec>
  </reencode>
</ezstream>
</code></pre>
</div>
</article>

      </div>
      <footer id="footer">
        <p class="copyright">
          
          &copy; 2011 &ndash; 2021 Sam Stelfox | <a href="https://stelfox.net/licenses/">Site Content Licenses</a>
          
        </p>
      </footer>
    </div>
  </body>
</html>

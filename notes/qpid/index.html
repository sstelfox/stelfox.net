<!doctype html><html lang=en><head><meta charset=UTF-8><meta http-equiv=X-UA-Compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=author content><meta name=description content="Note: This page is quite old and is likely out of date. My opinions may have also changed dramatically since this was written. It is here as a reference until I get around to updating it.
Qpid is an open source AMQP broker, providing transaction management, queuing, distribution, security, management, clustering, and federation.
http://wiki.openstack.org/QpidSupport http://www.linuxjournal.com/magazine/advanced-message-queuing-protocol-amqp?page=0,1 InstallationFedora provides a package for qpid called qpid-cpp-server which can be installed like so:
yum install qpid-cpp-server qpid-cpp-server-ssl qpid-cpp-server-store \ qpid-cpp-server-ha -yAdditional packages that may be of use:"><meta name=keywords content="blog,programming,linux,systems,personal,rust,philosophy"><meta name=robots content="noodp"><meta name=theme-color content><link rel=canonical href=https://stelfox.net/notes/qpid/><title>Qpid :: Sam Stelfox â€” A simple place for my collected thoughts and notes.
</title><link rel=stylesheet href=/main.c8c76086c15b9d686ec1778dcf935d2ad37f3bb9c23165d2bd157ba7b18e5aec.css integrity="sha256-yMdghsFbnWhuwXeNz5NdKtN/O7nCMWXSvRV7p7GOWuw="><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/safari-pinned-tab.svg color><link rel="shortcut icon" href=/favicon.ico><meta name=msapplication-TileColor content><meta itemprop=name content="Qpid"><meta itemprop=description content="Note: This page is quite old and is likely out of date. My opinions may have also changed dramatically since this was written. It is here as a reference until I get around to updating it.
Qpid is an open source AMQP broker, providing transaction management, queuing, distribution, security, management, clustering, and federation.
http://wiki.openstack.org/QpidSupport http://www.linuxjournal.com/magazine/advanced-message-queuing-protocol-amqp?page=0,1 InstallationFedora provides a package for qpid called qpid-cpp-server which can be installed like so:
yum install qpid-cpp-server qpid-cpp-server-ssl qpid-cpp-server-store \ qpid-cpp-server-ha -yAdditional packages that may be of use:"><meta itemprop=datePublished content="2018-10-30T20:24:15-04:00"><meta itemprop=dateModified content="2018-10-30T20:24:15-04:00"><meta itemprop=wordCount content="1573"><meta name=twitter:card content="summary"><meta name=twitter:title content="Qpid"><meta name=twitter:description content="Note: This page is quite old and is likely out of date. My opinions may have also changed dramatically since this was written. It is here as a reference until I get around to updating it.
Qpid is an open source AMQP broker, providing transaction management, queuing, distribution, security, management, clustering, and federation.
http://wiki.openstack.org/QpidSupport http://www.linuxjournal.com/magazine/advanced-message-queuing-protocol-amqp?page=0,1 InstallationFedora provides a package for qpid called qpid-cpp-server which can be installed like so:
yum install qpid-cpp-server qpid-cpp-server-ssl qpid-cpp-server-store \ qpid-cpp-server-ha -yAdditional packages that may be of use:"></head><body><div class=container><header class=header><span class=header__inner><a href=/ style=text-decoration:none><div class=logo><span class=logo__mark>></span>
<span class=logo__text>./Sam_Stelfox.sh</span>
<span class=logo__cursor></span></div></a><span class=header__right><nav class=menu><ul class=menu__inner><li><a href=/blog/>Posts</a></li><li><a href=/notes/>Notes</a></li><li><a href=/about/>About Me</a></li></ul></nav><span class=menu-trigger><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg></span></span></span></header><div class=content><main class=post><div class=post-info></p></div><article><h2 class=post-title><a href=https://stelfox.net/notes/qpid/>Qpid</a></h2><div class=post-content><p><em><strong>Note: This page is quite old and is likely out of date. My opinions may have
also changed dramatically since this was written. It is here as a reference
until I get around to updating it.</strong></em></p><p>Qpid is an open source AMQP broker, providing transaction management, queuing,
distribution, security, management, clustering, and federation.</p><ul><li><a href=http://wiki.openstack.org/QpidSupport>http://wiki.openstack.org/QpidSupport</a></li><li><a href="http://www.linuxjournal.com/magazine/advanced-message-queuing-protocol-amqp?page=0,1">http://www.linuxjournal.com/magazine/advanced-message-queuing-protocol-amqp?page=0,1</a></li></ul><h2 id=installation>Installation</h2><p>Fedora provides a package for qpid called <code>qpid-cpp-server</code> which can be
installed like so:</p><pre tabindex=0><code>yum install qpid-cpp-server qpid-cpp-server-ssl qpid-cpp-server-store \
  qpid-cpp-server-ha -y</code></pre><p>Additional packages that may be of use:</p><ul><li>qpid-tools</li><li>qpid-qmf</li></ul><h2 id=configuration>Configuration</h2><p>The following configuration file assumes the rest of the configuration on this
page. You&rsquo;ll want to replace the existing configuration at <code>/etc/qpidd.conf</code>
with the following:</p><div class=highlight><div style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-1><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-1>  1</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-2><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-2>  2</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-3><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-3>  3</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-4><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-4>  4</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-5><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-5>  5</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-6><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-6>  6</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-7><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-7>  7</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-8><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-8>  8</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-9><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-9>  9</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-10><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-10> 10</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-11><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-11> 11</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-12><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-12> 12</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-13><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-13> 13</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-14><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-14> 14</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-15><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-15> 15</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-16><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-16> 16</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-17><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-17> 17</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-18><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-18> 18</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-19><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-19> 19</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-20><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-20> 20</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-21><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-21> 21</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-22><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-22> 22</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-23><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-23> 23</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-24><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-24> 24</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-25><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-25> 25</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-26><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-26> 26</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-27><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-27> 27</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-28><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-28> 28</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-29><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-29> 29</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-30><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-30> 30</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-31><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-31> 31</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-32><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-32> 32</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-33><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-33> 33</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-34><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-34> 34</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-35><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-35> 35</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-36><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-36> 36</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-37><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-37> 37</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-38><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-38> 38</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-39><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-39> 39</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-40><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-40> 40</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-41><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-41> 41</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-42><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-42> 42</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-43><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-43> 43</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-44><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-44> 44</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-45><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-45> 45</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-46><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-46> 46</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-47><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-47> 47</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-48><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-48> 48</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-49><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-49> 49</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-50><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-50> 50</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-51><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-51> 51</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-52><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-52> 52</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-53><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-53> 53</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-54><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-54> 54</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-55><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-55> 55</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-56><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-56> 56</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-57><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-57> 57</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-58><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-58> 58</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-59><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-59> 59</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-60><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-60> 60</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-61><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-61> 61</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-62><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-62> 62</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-63><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-63> 63</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-64><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-64> 64</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-65><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-65> 65</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-66><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-66> 66</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-67><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-67> 67</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-68><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-68> 68</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-69><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-69> 69</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-70><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-70> 70</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-71><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-71> 71</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-72><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-72> 72</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-73><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-73> 73</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-74><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-74> 74</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-75><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-75> 75</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-76><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-76> 76</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-77><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-77> 77</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-78><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-78> 78</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-79><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-79> 79</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-80><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-80> 80</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-81><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-81> 81</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-82><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-82> 82</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-83><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-83> 83</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-84><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-84> 84</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-85><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-85> 85</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-86><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-86> 86</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-87><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-87> 87</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-88><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-88> 88</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-89><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-89> 89</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-90><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-90> 90</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-91><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-91> 91</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-92><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-92> 92</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-93><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-93> 93</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-94><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-94> 94</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-95><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-95> 95</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-96><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-96> 96</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-97><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-97> 97</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-98><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-98> 98</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-99><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-99> 99</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-100><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-100>100</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-101><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-101>101</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-102><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-102>102</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-103><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-103>103</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-104><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-104>104</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-105><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-105>105</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-106><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-106>106</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-107><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-107>107</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-108><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-108>108</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-109><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-109>109</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-110><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-110>110</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-111><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-111>111</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-112><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-112>112</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-113><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-113>113</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-114><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-114>114</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-115><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-115>115</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-116><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-116>116</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-117><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-117>117</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-118><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-118>118</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-119><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-119>119</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-120><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-120>120</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-c2e687b-121><a style=outline:none;text-decoration:none;color:inherit href=#code-c2e687b-121>121</a>
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ini data-lang=ini><span style=display:flex><span><span style=color:#8b949e;font-style:italic>##### General Configuration #####</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># Directory to contain persistent data</span>
</span></span><span style=display:flex><span>data-dir<span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>/var/lib/qpidd/</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>worker-threads<span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>3</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic>##### Queue Configuration #####</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># Set queue events async, used for services like replication</span>
</span></span><span style=display:flex><span>async-queue-events<span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>no</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># How often to attempt purging expired messages from the queues</span>
</span></span><span style=display:flex><span>queue-purge-interval<span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>600</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># Default storage limit of any given queue</span>
</span></span><span style=display:flex><span>default-queue-limit<span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>104857600</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># The ratio of any specified queue limit at which an event will be raised</span>
</span></span><span style=display:flex><span>default-event-threshold-ratio<span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>80</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># Percent of queues maximum capacity at which flow control is activated and</span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># deactivated.</span>
</span></span><span style=display:flex><span>default-flow-stop-threshold<span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>80</span>
</span></span><span style=display:flex><span>default-flow-resume-threshold<span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>70</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># Group identifier to assign to messages delivered to a message group queue that</span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># do not contain an identifier.</span>
</span></span><span style=display:flex><span>default-message-group<span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>qpid.no-group</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># Add current time to each received message</span>
</span></span><span style=display:flex><span>enable-timestamp<span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>yes</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic>##### Management Options #####</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># Enable management, publishing data every 10 seconds, with QMF protocol 1 and</span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># 2</span>
</span></span><span style=display:flex><span>mgmt-enable<span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>yes</span>
</span></span><span style=display:flex><span>mgmt-publish<span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>yes</span>
</span></span><span style=display:flex><span>mgmt-pub-interval<span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>10</span>
</span></span><span style=display:flex><span>mgmt-qmf1<span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>yes</span>
</span></span><span style=display:flex><span>mgmt-qmf2<span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>yes</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic>##### Networking Configuration #####</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>connection-backlog<span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>10</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>link-heartbeat-interval<span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>120</span>
</span></span><span style=display:flex><span>link-maintenace-interval<span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>2</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># Maximum time a connection can take to send the initial protocol negotiation</span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># (in milliseconds).</span>
</span></span><span style=display:flex><span>max-negotiate-time<span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>2000</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># Port to listen on for unencrypted connections</span>
</span></span><span style=display:flex><span>port<span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>5672</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># Set TCP_NODELAY on TCP connections</span>
</span></span><span style=display:flex><span>tcp-nodelay<span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>yes</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic>##### Logging Options #####</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>log-enable<span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>info+</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>log-category<span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>yes</span>
</span></span><span style=display:flex><span>log-level<span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>yes</span>
</span></span><span style=display:flex><span>log-time<span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>no</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>log-to-stderr<span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>no</span>
</span></span><span style=display:flex><span>log-to-stdout<span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>no</span>
</span></span><span style=display:flex><span>log-to-syslog<span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>yes</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic>##### Persistent Storage Options #####</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># Number of pages in each journal (1 page is 64Kb)</span>
</span></span><span style=display:flex><span>jfile-size-pgs<span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>24</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># Default number of files for each journal instance (queue)</span>
</span></span><span style=display:flex><span>num-jfiles<span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>8</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>truncate<span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>no</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># Size of the pages in the write page cache in Kb, allowable values are powers</span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># of 2</span>
</span></span><span style=display:flex><span>wcache-page-size<span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>32</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic>##### Authentication &amp; Authorization Configurations #####</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># Enable authentication, and configured to use the QPID realm</span>
</span></span><span style=display:flex><span>auth<span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>yes</span>
</span></span><span style=display:flex><span>realm<span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>QPID</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># Get SASL configuration from standard redhat location</span>
</span></span><span style=display:flex><span>sasl-config<span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>/etc/sasl2/</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># The policy file to load from, loaded from the data dir</span>
</span></span><span style=display:flex><span>acl-file<span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>qpid.acl</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># Maximum combined number of connections allowed (0 is no limit)</span>
</span></span><span style=display:flex><span>max-connections<span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>500</span>
</span></span><span style=display:flex><span>max-connections-per-user<span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>0</span>
</span></span><span style=display:flex><span>max-connections-per-ip<span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>0</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic>##### SSL Settings #####</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>ssl-port<span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>5671</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># File containing password to use for accessing the certificate database</span>
</span></span><span style=display:flex><span>ssl-cert-password-file<span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>/var/lib/qpidd/ssl-db-pass</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># Where the cert database is stored, the data directory is as good as any</span>
</span></span><span style=display:flex><span>ssl-cert-db<span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>/var/lib/qpidd</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># Name of the cerificate to use (usually the hostname)</span>
</span></span><span style=display:flex><span>ssl-cert-name<span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>agni</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># Whether or not the server will accept unencrypted connections, there is of</span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># course overhead to encrypted connections and if the only services that will</span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># be talking to it will be the localhost then there is no need to require it...</span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># External connections should of course be encrypted wherever possible.</span>
</span></span><span style=display:flex><span>require-encryption<span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>no</span></span></span></code></pre></td></tr></table></div></div><p>You&rsquo;ll want to enable and start the service once the configuration is complete.</p><pre tabindex=0><code>systemctl enable qpidd.service
systemctl start qpidd.service</code></pre><h3 id=enabling-userpass-authentication>Enabling User/Pass Authentication</h3><p>By default only ANONYMOUS authentication is enabled which isn&rsquo;t good for any
production systems&mldr; Qpid uses SASL for user authentication and that is how we
need to configure what system to make use of. Open up the file
<code>/etc/sasl2/qpidd.conf</code> and replace it&rsquo;s contents with the following:</p><pre tabindex=0><code>auxprop_plugin: sasldb
mech_list: DIGEST-MD5 PLAIN+SSL
pwcheck_method: auxprop
sasldb_path: /var/lib/qpidd/qpidd.sasldb
sql_select: dummy select</code></pre><h3 id=creating-users>Creating Users</h3><p>I&rsquo;ve named the SASL authentication realm after the service that uses it, in
this case Qpid (makes sense no?). You&rsquo;ll need to create at least one user to
make use of authentication, I chose to make one user for administration tasks
(admin), and one per server named after the server (in this case the server is
named openstack after the service I mainly use Qpid for).</p><p>Create the user&rsquo;s as root:</p><pre tabindex=0><code>saslpasswd2 -f /var/lib/qpidd/qpidd.sasldb -u QPID admin
saslpasswd2 -f /var/lib/qpidd/qpidd.sasldb -u QPID openstack</code></pre><p>Set STRONG passwords for both as arbitrary instructions can be provided to
various openstack services through this service.</p><p>The saslpasswd2 command will additionally create the password file, but with
incorrect permissions. Set the ownership and strengthen the permissions like
so:</p><pre tabindex=0><code>chown qpidd:qpidd /var/lib/qpidd/qpidd.sasldb
chmod 0640 /var/lib/qpidd/qpidd.sasldb</code></pre><p>If you have started Qpid with <code>auth=yes</code> configured before creating the account
it will automatically create this file and add a user with the username and
password &lsquo;guest&rsquo;.</p><h3 id=listing-users>Listing Users</h3><p>You can list all the configured realm / username combinations with the
following command:</p><pre tabindex=0><code>sasldblistusers2 -f /var/lib/qpidd/qpidd.sasldb</code></pre><h3 id=user-acls>User ACLs</h3><p>The ACL files are pretty straight-forward and plain text. The file lives at
<code>/var/lib/qpidd/qpid.acl</code> which doesn&rsquo;t exist initially and will need to be
created. This is a solid initial ACL allowing the admin and openstack access to
any permissions they need while preventing anything else.</p><p>In the future I&rsquo;ll need to make this more fine-grained. This is more useful
when using Kerberos as the back end which would have more users you wouldn&rsquo;t
want to have access.</p><pre tabindex=0><code># Define the admins and let them do whatever they want
group admins admin@Qpid
acl allow admins all all

# Define the server accounts and set their permissions
group servers openstack@Qpid
acl allow servers all all

# Default deny with logging on any other attempts
acl deny-log all all</code></pre><p>Ensure the ownership and permissions on the file are appropriate:</p><pre tabindex=0><code>chown qpidd:qpidd /var/lib/qpidd/qpid.acl
chmod 0640 /var/lib/qpidd/qpid.acl</code></pre><h4 id=acl-bml-syntax>ACL BML Syntax</h4><p>ACLs are case-insensitve, all white space is essentially ignored except when
delimiting between syntax types. Lines can be wrapped by ending the line with a
backslash.</p><pre tabindex=0><code>user = username[/domain[@realm]]
user-list = user1 user2 user3 ...
group-name-list = group1 group2 group3 ...

group &lt;group-name&gt; = [user-list] [group-name-list]

permission = [allow|allow-log|deny|deny-log]
action = [consume|publish|create|access|bind|unbind|delete|purge|update]
object = [virtualhost|queue|exchange|broker|link|route|method]
property = [name|durable|owner|routingkey|autodelete|exclusive|
            type|alternate|queuename|schemapackage|schemaclass|
            queuemaxsizelowerlimit|queuemaxsizeupperlimit|
            queuemaxcountlowerlimit|queuemaxcountupperlimit]

acl permission {&lt;group-name&gt;|&lt;user-name&gt;|&#34;all&#34;} {action|&#34;all&#34;} [object|&#34;all&#34; 
            [property=&lt;property-value&gt; ...]]</code></pre><h4 id=action-listing>Action Listing</h4><table><thead><tr><th>Action</th><th>Description</th></tr></thead><tbody><tr><td>consume</td><td>Applied when subscriptions are created</td></tr><tr><td>publish</td><td>Applied on a per message basis on publish message transfers, this rule consumes the most resources</td></tr><tr><td>create</td><td>Applied when an object is created, such as bindings, queues, exchanges, links</td></tr><tr><td>access</td><td>Applied when an object is read or accessed</td></tr><tr><td>bind</td><td>Applied when objects are bound together</td></tr><tr><td>unbind</td><td>Applied when objects are unbound</td></tr><tr><td>delete</td><td>Applied when objects are deleted</td></tr><tr><td>purge</td><td>Similar to delete but the action is performed on more than one object</td></tr><tr><td>update</td><td>Applied when an object is updated</td></tr></tbody></table><h4 id=object-listing>Object Listing</h4><table><thead><tr><th>Object</th><th>Description</th></tr></thead><tbody><tr><td>queue</td><td>A queue</td></tr><tr><td>exchange</td><td>An exchange</td></tr><tr><td>broker</td><td>The broker</td></tr><tr><td>link</td><td>A federation or inter-broker link</td></tr><tr><td>method</td><td>Management or agent or broker method</td></tr></tbody></table><h4 id=property-listing>Property Listing</h4><table><thead><tr><th>Property</th><th>Type</th><th>Description</th><th>Usage</th></tr></thead><tbody><tr><td>name</td><td>String</td><td>Object name, such as a queue name or exchange name.</td><td></td></tr><tr><td>durable</td><td>Boolean</td><td>Indicates the object is durable</td><td>CREATE QUEUE, CREATE EXCHANGE</td></tr><tr><td>routingkey</td><td>String</td><td>Specifies routing key</td><td>BIND EXCHANGE, UNBIND EXCHANGE, ACCESS EXCHANGE</td></tr><tr><td>autodelete</td><td>Boolean</td><td>Indicates whether or not the object gets deleted when the connection is closed</td><td>CREATE QUEUE</td></tr><tr><td>exclusive</td><td>Boolean</td><td>Indicates the presence of an exclusive flag</td><td>CREATE QUEUE</td></tr><tr><td>type</td><td>String</td><td>Type of exchange, such as topic, fanout, or xml</td><td>CREATE EXCHANGE</td></tr><tr><td>alternate</td><td>String</td><td>Name of the alternate exchange</td><td>CREATE EXCHANGE, CREATE QUEUE</td></tr><tr><td>queuename</td><td>String</td><td>Name of the queue</td><td>ACCESS EXCHANGE</td></tr><tr><td>schemapackage</td><td>String</td><td>QMF schema package name</td><td>ACCESS METHOD</td></tr><tr><td>schemaclass</td><td>String</td><td>QMF schema class name</td><td>ACCESS METHOD</td></tr><tr><td>queuemaxsizelowerlimit</td><td>Integer</td><td>Minimum value for queue.max_size</td><td>CREATE QUEUE</td></tr><tr><td>queuemaxsizeupperlimit</td><td>Integer</td><td>Maximum value for queue.max_size</td><td>CREATE QUEUE</td></tr><tr><td>queuemaxcountlowerlimit</td><td>Integer</td><td>Minimum value for queue.max_count</td><td>CREATE QUEUE</td></tr><tr><td>queuemaxcountupperlimit</td><td>Integer</td><td>Maximum value for queue.max_count</td><td>CREATE QUEUE</td></tr></tbody></table><h3 id=ssl>SSL</h3><p>Unfortunately SSL for Qpid isn&rsquo;t as easy as generating PEM certificates and
pointing the config at them. Qpid makes use of a Mozilla Network Security
Services database. These databases can be created using certutil.</p><p>First we&rsquo;ll need to initialize the database:</p><pre tabindex=0><code>certutil -N -d /var/lib/qpidd/</code></pre><p>Provide a strong password to the database and put a copy in the file
<code>/var/lib/qpidd/ssl-db-pass</code> on it&rsquo;s own with no newline.</p><p>I already have PKI in place and a trusted <a href=https://stelfox.net/notes/building-a-certificate-authority/>Certificate Authority</a>, so I
just have to import my trusted certificate authority chain. Generate a
certificate for this server and import it&rsquo;s certificate and chain.</p><p>Import the CA cert:</p><pre tabindex=0><code>certutil -A -n cert-authority -t &#34;TC,,&#34; -i ca.crt -d /var/lib/qpidd</code></pre><p>The server certificate is a bit trickier, before we can import an OpenSSL
generated PEM format key set we&rsquo;ll need to convert it to a pkcs12 file, luckily
OpenSSL plays well with others:</p><pre tabindex=0><code>openssl pkcs12 -export -out qpid.pfx -inkey qpid.key -in qpid.crt -certfile ca.crt</code></pre><p>Import the newly generate pkcs12 file, it will firstly ask for the password for
the database, and then the password for the pkcs12 file:</p><pre tabindex=0><code>pk12util -d /var/lib/qpidd/ -i qpid.pfx</code></pre><p>And be sure to clean up after yourself:</p><pre tabindex=0><code>rm qpid.pfx</code></pre><p>Set the permissions on all of the files we just created:</p><pre tabindex=0><code>chown qpidd:qpidd /var/lib/qpidd/{cert8.db,key3.db,ssl-db-pass}
chmod 0640 /var/lib/qpidd/{cert8.db,key3.db,ssl-db-pass}</code></pre><h3 id=firewall>Firewall</h3><pre tabindex=0><code># Encrypted Qpid connections (Unencrypted are 5672 but those shouldn&#39;t be
# accessed remotely)
-A SERVICE -m tcp -p tcp --dport 5671 -j ACCEPT</code></pre></div></article><hr><div class=post-info><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-git-commit"><circle cx="12" cy="12" r="4"/><line x1="1.05" y1="12" x2="7" y2="12"/><line x1="17.01" y1="12" x2="22.96" y2="12"/></svg><a href=73f7e533ca46dadf707b92cf4c86a28caf5eac1a target=_blank rel=noopener>73f7e533</a> @ 2018-10-30</p></div></main></div><footer class=footer></footer></div><script type=text/javascript src=/bundle.min.85fad2de4f13fec3bcb3b3cb10430cdb44a7b4a9749b32938241a5c6e77718df7624f1002b880521fdc26e24ec1077fda214bf1cb36ee3045510760d09638cae.js integrity="sha512-hfrS3k8T/sO8s7PLEEMM20SntKl0mzKTgkGlxud3GN92JPEAK4gFIf3CbiTsEHf9ohS/HLNu4wRVEHYNCWOMrg=="></script></body></html>
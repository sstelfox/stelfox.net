<!doctype html><html lang=en><head><meta charset=UTF-8><meta http-equiv=X-UA-Compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=author content><meta name=description content="Note: This page is quite old and is likely out of date. My opinions may have also changed dramatically since this was written. It is here as a reference until I get around to updating it.
There are two different means of client configuration. Fedora has a package ntpdate that should be installed instead of ntpd. Whenever it is started it will synchronize the server's clock to any configured time servers."><meta name=keywords content="blog,programming,linux,systems,personal,rust,philosophy"><meta name=robots content="noodp"><meta name=theme-color content><link rel=canonical href=https://stelfox.net/notes/ntpdate/><title>NTPDate :: ./Sam_Stelfox.sh â€” A simple place for my collected thoughts and notes.
</title><link rel=stylesheet href=/main.949191c1dcc9c4a887997048b240354e47152016d821198f89448496ba42e491.css integrity="sha256-lJGRwdzJxKiHmXBIskA1TkcVIBbYIRmPiUSElrpC5JE="><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><link rel="shortcut icon" href=/favicon.ico><meta itemprop=name content="NTPDate"><meta itemprop=description content="Note: This page is quite old and is likely out of date. My opinions may have also changed dramatically since this was written. It is here as a reference until I get around to updating it.
There are two different means of client configuration. Fedora has a package ntpdate that should be installed instead of ntpd. Whenever it is started it will synchronize the server's clock to any configured time servers."><meta itemprop=datePublished content="2013-01-01T00:00:01+00:00"><meta itemprop=dateModified content="2013-01-01T00:00:01+00:00"><meta itemprop=wordCount content="253"><meta name=twitter:card content="summary"><meta name=twitter:title content="NTPDate"><meta name=twitter:description content="Note: This page is quite old and is likely out of date. My opinions may have also changed dramatically since this was written. It is here as a reference until I get around to updating it.
There are two different means of client configuration. Fedora has a package ntpdate that should be installed instead of ntpd. Whenever it is started it will synchronize the server's clock to any configured time servers."><meta property="article:published_time" content="2013-01-01 00:00:01 +0000 UTC"></head><body><div class=container><header class=header><span class=header__inner><a href=/ style=text-decoration:none><div class=logo><span class=logo__mark>></span>
<span class=logo__text>./Sam_Stelfox.sh</span>
<span class=logo__cursor></span></div></a><span class=header__right><nav class=menu><ul class=menu__inner><li><a href=/about/>About</a></li><li><a href=/notes/>Notes</a></li><li><a href=/blog/>Posts</a></li></ul></nav><span class=menu-trigger><svg viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg></span></span></span></header><div class=content><main class=post><div class=post-info></p></div><article><h2 class=post-title><a href=https://stelfox.net/notes/ntpdate/>NTPDate</a></h2><div class=post-content><p><em><strong>Note: This page is quite old and is likely out of date. My opinions may have
also changed dramatically since this was written. It is here as a reference
until I get around to updating it.</strong></em></p><p>There are two different means of client configuration. Fedora has a package
<code>ntpdate</code> that should be installed instead of <a href=https://stelfox.net/notes/ntpd/>ntpd</a>. Whenever it is started
it will synchronize the server's clock to any configured time servers. It
needs to be told about time servers it should be synchronizing to in the
<code>/etc/ntp/step-tickers</code>. It then needs to be turned on using the following
command:</p><pre tabindex=0><code>[root@localhost ~]# chkconfig --level 345 ntpdate on
</code></pre><p>If the server doesn't have the ntpdate service (ntpdate seems like it's being
deprecated though I can't imagine why) than the same thing can be accomplished
by installing <a href=https://stelfox.net/notes/ntpd/>ntpd</a> and adding a cron job to synchronize the time.</p><p>The following command will add a cron entry that will get run hourly and
synchronize the time against the time server configured for the ntp daemon
(You'll want to reference <a href=https://stelfox.net/notes/ntpd/>ntpd</a> for that configuration.</p><pre tabindex=0><code>echo &#39;0 * * * * root /usr/sbin/ntpd -q -u ntp:ntp&#39; &gt; /etc/cron.d/ntpd
</code></pre><h2 id=etcntpstep-tickers>/etc/ntp/step-tickers</h2><p>By default this file is empty and ntpdate will have no servers to get it's time
from. This file should include one server per line that are either a FQDN or an
IP address. If there is one or more local time servers they should be the only
ones listed. If there aren't then use the following for the config file:</p><pre tabindex=0><code>0.pool.ntp.org
1.pool.ntp.org
</code></pre></div></article><hr><div class=post-info><p><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-git-commit"><circle cx="12" cy="12" r="4"/><line x1="1.05" y1="12" x2="7" y2="12"/><line x1="17.01" y1="12" x2="22.96" y2="12"/></svg><a href=e0ae306a5897bc6892dbaa3e409f62aac8e8d735 target=_blank rel=noopener>e0ae306a</a> @ 2024-07-15</p></div></main></div><footer class=footer></footer></div><script type=text/javascript src=/bundle.min.e89fda0f29b95d33f6f4224dd9e5cf69d84aff3818be2b0d73e731689cc374261b016d17d46f8381962fb4a1577ba3017b1f23509d894f6e66431f988c00889e.js integrity="sha512-6J/aDym5XTP29CJN2eXPadhK/zgYvisNc+cxaJzDdCYbAW0X1G+DgZYvtKFXe6MBex8jUJ2JT25mQx+YjACIng=="></script></body></html>
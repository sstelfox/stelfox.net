<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, viewport-fit=cover">

    <title>Sam Stelfox&#x27;s Thoughts &amp; Notes</title>
    <link rel="stylesheet" href="https://stelfox.net/colors-dark.css">

    

    
    
  </head>
  <body>
    <header id="header">
      <h1><a href="https:&#x2F;&#x2F;stelfox.net">Sam Stelfox&#x27;s Thoughts &amp; Notes</a></h1>
      <p>Thought&#x27;s from a software engineer, systems architect, and Linux gubernƒÅre.</p>
    </header>
    <div id="page">
      <div id="sidebar">
        
          
          <nav>
            <ul class="nav">
              
                
                  <li>
                    <a href="&#x2F;"><span>Home</span></a>
                  </li>
                
                  <li>
                    <a href="&#x2F;about&#x2F;"><span>About</span></a>
                  </li>
                
                  <li>
                    <a href="&#x2F;blog&#x2F;"><span>Blog</span></a>
                  </li>
                
                  <li>
                    <a href="&#x2F;projects&#x2F;"><span>Projects</span></a>
                  </li>
                
                  <li>
                    <a href="&#x2F;notes&#x2F;"><span>Various Notes</span></a>
                  </li>
                
              
            </ul>
          </nav>
          
        
      </div>
      <div id="content">
        
<article class="post">
  <h1>NTPDate</h1><div class="post-content"><p>There are two different means of client configuration. Fedora has a package
<code>ntpdate</code> that should be installed instead of <a href="https://stelfox.net/notes/ntpd/">ntpd</a>. Whenever it is started
it will synchronize the server's clock to any configured time servers.  It
needs to be told about time servers it should be synchronizing to in the
<code>/etc/ntp/step-tickers</code>. It then needs to be turned on using the following
command:</p>
<pre><code>[root@localhost ~]# chkconfig --level 345 ntpdate on
</code></pre>
<p>If the server doesn't have the ntpdate service (ntpdate seems like it's being
deprecated though I can't imagine why) than the same thing can be accomplished
by installing <a href="https://stelfox.net/notes/ntpd/">ntpd</a> and adding a cron job to synchronize the time.</p>
<p>The following command will add a cron entry that will get run hourly and
synchronize the time against the time server configured for the ntp daemon
(You'll want to reference <a href="https://stelfox.net/notes/ntpd/">ntpd</a> for that configuration.</p>
<pre><code>echo '0 * * * * root /usr/sbin/ntpd -q -u ntp:ntp' > /etc/cron.d/ntpd
</code></pre>
<h2 id="etc-ntp-step-tickers">/etc/ntp/step-tickers</h2>
<p>By default this file is empty and ntpdate will have no servers to get it's time
from. This file should include one server per line that are either a FQDN or an
IP address. If there is one or more local time servers they should be the only
ones listed. If there aren't then use the following for the config file:</p>
<pre><code>0.pool.ntp.org
1.pool.ntp.org
</code></pre>
</div>
</article>

      </div>
      <footer id="footer">
        <p class="copyright">
          
          &copy; 2011 &ndash; 2021 Sam Stelfox | <a href="https://stelfox.net/licenses/">Site Content Licenses</a>
          
        </p>
      </footer>
    </div>
  </body>
</html>

<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Lvm on Sam Stelfox</title><link>https://stelfox.net/tags/lvm/</link><description>Recent content in Lvm on Sam Stelfox</description><generator>Hugo</generator><language>en-US</language><lastBuildDate>Sun, 23 Feb 2020 20:09:02 -0400</lastBuildDate><atom:link href="https://stelfox.net/tags/lvm/index.xml" rel="self" type="application/rss+xml"/><item><title>Logical Volume in Use</title><link>https://stelfox.net/blog/2020-02-23-logical-volume-in-use/</link><pubDate>Sun, 23 Feb 2020 20:09:02 -0400</pubDate><guid>https://stelfox.net/blog/2020-02-23-logical-volume-in-use/</guid><description>While attempting to automate some filesytem creation that involved LVM I kept running into an issue occasionally with some holding open the logical volumes. I would attempt to disable the volume using the following command:
$ lvchange -an system/storage Logical volume system/storage contains a filesystem in use. All of the mounts for the filesystems that were on the volume were unmounted, so it must have been a process. The trick to finding this out is to query all the processes mount files to find out what is holding this open.</description></item><item><title>Investigating LVM From Dracut</title><link>https://stelfox.net/blog/2017-10-24-investigating-lvm-from-dracut/</link><pubDate>Tue, 24 Oct 2017 11:45:07 -0400</pubDate><guid>https://stelfox.net/blog/2017-10-24-investigating-lvm-from-dracut/</guid><description>In my my last post, I covered finding logical volumes that were missing from LVM from within a live CD (which is effectively a whole standard environment). Working with dracut is quite a bit more limited.
Turns out that the commands I&amp;rsquo;m normally used to for operating and inspecting LVM volumes can all be accessed as a second parameter to the lvm tool like so:
$ lvm vgscan $ lvm pvscan $ lvm lvscan For my particular issue, it led me to notice that block device of my root filesystem was missing due to a missing kernel driver&amp;hellip;</description></item><item><title>Visible Yet Missing Logical Volumes</title><link>https://stelfox.net/blog/2017-10-24-visible-yet-missing-logical-volumes/</link><pubDate>Tue, 24 Oct 2017 10:58:12 -0400</pubDate><guid>https://stelfox.net/blog/2017-10-24-visible-yet-missing-logical-volumes/</guid><description>While working on an automated install script for an embedded board, I hit an issue with the logical volumes never showing up in /dev/mapper, and in turn unable to be mounted. This left me in the dracut emergency shell (after about three minutes), with little to go on beyond the following error:
[187.508531] dracut Warning: Could not boot. [187.510560] dracut Warning: /dev/disk/by-uuid/5681-902D does not exist [187.512534] dracut Warning: /dev/mapper/system-root does not exit [187.</description></item></channel></rss>
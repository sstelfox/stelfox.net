<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Diagnostics on Sam Stelfox</title><link>https://stelfox.net/tags/diagnostics/</link><description>Recent content in Diagnostics on Sam Stelfox</description><generator>Hugo</generator><language>en-US</language><lastBuildDate>Fri, 25 Oct 2019 11:26:31 -0500</lastBuildDate><atom:link href="https://stelfox.net/tags/diagnostics/index.xml" rel="self" type="application/rss+xml"/><item><title>Fixing Hung Nginx Workers</title><link>https://stelfox.net/blog/2019/10/fixing-hung-nginx-workers/</link><pubDate>Fri, 25 Oct 2019 11:26:31 -0500</pubDate><guid>https://stelfox.net/blog/2019/10/fixing-hung-nginx-workers/</guid><description>While cleaning up some tech debt, a curious issue cropped up. Nginx was running in an alpine container as a front end load balancer. It had a dynamic config that got periodically updated by a sidecar, and had filebeat shipping logs out to a central collector but otherwise was just a very simple Nginx config.
Every now and then the container would crash, it would automatically recover fast enough no alarms were lost and the clients would just resend their requests.</description></item></channel></rss>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>ruby - Sam Stelfox&#39;s Thoughts &amp; Notes</title>
    <link>https://stelfox.net/tags/ruby/</link>
    <description>Recent content in ruby - Sam Stelfox&#39;s Thoughts &amp; Notes</description>
    <language>en-US</language>
    <managingEditor>Sam Stelfox</managingEditor>
    <webMaster>Sam Stelfox</webMaster><atom:link href="https://stelfox.net/tags/ruby/atom.xml" rel="self" type="application/rss+xml" /><item>
      <title>Parsing HTTP Responses in Ruby</title>
      <link>https://stelfox.net/blog/2018/05/parsing-http-responses-in-ruby/</link>
      <pubDate>Wed, 23 May 2018 07:53:19 -0600</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/blog/2018/05/parsing-http-responses-in-ruby/</guid>
      <description>Normally handling HTTP responses in Ruby is rather straight forward. There is a native library in Ruby that handles HTTP requests which parses the responses into a neat data structure that you can then operate on. What if you want to work on stored HTTP responses outside of a connection though? This was the situation I found myself in and thanks to a series of unusual decisions in the Ruby core library I found myself left out in the cold.</description>
    </item><item>
      <title>Sharing Context Between Dependent Rake Tasks</title>
      <link>https://stelfox.net/blog/2016/02/sharing-context-between-dependent-rake-tasks/</link>
      <pubDate>Thu, 18 Feb 2016 15:46:12 -0500</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/blog/2016/02/sharing-context-between-dependent-rake-tasks/</guid>
      <description>I use Rakefiles quite a bit like traditional Makefiles, in that I specify immediate dependencies for an individual task and Rake will execute all of them. If a file or directory is the dependency and it exists, the task that creates it will be skipped. A contrived Rakefile example might look like:
file &amp;#39;sample&amp;#39; do |t| puts &amp;#39;Creating sample directory&amp;#39; Dir.mkdir(t.name) end file &amp;#39;sample/population.txt&amp;#39; =&amp;gt; [&amp;#39;sample&amp;#39;] do |t| puts &amp;#39;Creating sample population file.</description>
    </item><item>
      <title>Ruby Code Quality Metrics</title>
      <link>https://stelfox.net/blog/2015/04/ruby-code-quality-metrics/</link>
      <pubDate>Wed, 22 Apr 2015 16:47:10 -0400</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/blog/2015/04/ruby-code-quality-metrics/</guid>
      <description>I like getting unopinionated feedback on the quality of the code I write. Sometimes I can get this from other developers but they tend to get annoyed being asked after every commit whether they consider it an improvement.
There are a few utilities for Ruby codebases such as flay, flog, and rubocop as well as hosted services such as Code Climate that can help you identify chunks of code that can use some work.</description>
    </item><item>
      <title>PG::Error: ERROR: Type &#39;Hstore&#39; Does Not Exist</title>
      <link>https://stelfox.net/blog/2014/05/pg-error-error-type-hstore-does-not-exist/</link>
      <pubDate>Wed, 28 May 2014 18:00:55 -0400</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/blog/2014/05/pg-error-error-type-hstore-does-not-exist/</guid>
      <description>I&#39;ve been using the PostgreSQL&#39;s hstore extension in a Rails application lately and kept encountering the error that is this post&#39;s namesake. It would specifically happen when a database had been dropped, recreated and I freshly ran the migrations.
It seems that while Rails 4 supports the HStore datatype, it doesn&#39;t enable the extension itself. I&#39;ve found two ways too solve this issue in wildly different ways.
First Solution: Enable HStore by Default This is the common solution that is recommended too solve this issue.</description>
    </item><item>
      <title>Calculating RSA Key Fingerprints in Ruby</title>
      <link>https://stelfox.net/blog/2014/04/calculating-rsa-key-fingerprints-in-ruby/</link>
      <pubDate>Mon, 21 Apr 2014 18:37:04 -0400</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/blog/2014/04/calculating-rsa-key-fingerprints-in-ruby/</guid>
      <description>I regularly find myself working on projects that involve the manipulation and storage of RSA keys. In the past I&#39;ve never had to worry about identification or presentation of these keys. Normally I&#39;ve only got one too three pairs at most that I&#39;m manipulating (server, certificate authority, client).
I&#39;ve not found myself working on a project that involves presenting the certificates to users for selection and comparison. The obvious way too do this is take a page out of other developer&#39;s books and present the key&#39;s fingerprint.</description>
    </item><item>
      <title>Finding Ruby Subclasses</title>
      <link>https://stelfox.net/blog/2014/02/finding-ruby-subclasses/</link>
      <pubDate>Thu, 20 Feb 2014 07:48:24 -0500</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/blog/2014/02/finding-ruby-subclasses/</guid>
      <description>While working through a problem I found it would be immensely useful to be able to enumerate all of the current subclasses of a particular class. After thinking about this for a while I settled on a good old friend of mine, ObjectSpace.
For those not familiar with the ObjectSpace module, it is a means to inspect and access the items being tracked by Ruby&#39;s garbage collector. This means it has a hook into every living object, and more dangerously, every near-death object.</description>
    </item><item>
      <title>Creating Crypt Style SHA512 Passwords With Ruby</title>
      <link>https://stelfox.net/blog/2014/02/creating-crypt-style-sha512-passwords-with-ruby/</link>
      <pubDate>Mon, 17 Feb 2014 15:28:27 -0500</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/blog/2014/02/creating-crypt-style-sha512-passwords-with-ruby/</guid>
      <description>I needed to generate crypt-style SHA512 passwords in ruby for an /etc/shadow file. After a bunch of Googling and messing around with the OpenSSL library I finally found a very simple built-in way to handle this.
require &amp;#39;securerandom&amp;#39; &amp;#39;password&amp;#39;.crypt(&amp;#39;$6$&amp;#39; + SecureRandom.random_number(36 ** 8).to_s(36)) You&#39;ll get a string that looks like:
$6$4dksjo1b$Lt194Dwy7r/7WbM8MezYZysmGcxjaiisgTrTBbHkyBZFXeqQTG0J5hep4wLM/AmYxlGNLRy0OWATLDZCqjwCk. If you don&#39;t want to use the SecureRandom module you can replace the random call with simply rand(36 ** 8) though this isn&#39;t recommended.</description>
    </item><item>
      <title>Running Emails Through Ruby</title>
      <link>https://stelfox.net/blog/2013/12/running-emails-through-ruby/</link>
      <pubDate>Sun, 08 Dec 2013 09:32:05 -0500</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/blog/2013/12/running-emails-through-ruby/</guid>
      <description>Following up on my earlier post where I covered how to backup your Gmail account using fetchmail and procmail; I wanted to cover how I was additionally processing received mail through ruby.
This was part of a larger project where I was doing statistical analysis on my email while evaluating various data stores. To get the emails into the various data stores, I used the ruby script to parse, process and store the emails as they came in.</description>
    </item><item>
      <title>Ruby&#39;s Option Parser - a More Complete Example</title>
      <link>https://stelfox.net/blog/2012/12/rubys-option-parser-a-more-complete-example/</link>
      <pubDate>Sun, 02 Dec 2012 22:59:00 -0500</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/blog/2012/12/rubys-option-parser-a-more-complete-example/</guid>
      <description>Recently while writing a Ruby program I needed to parse some command line options. Helpfully Ruby provides a module named OptionParser to make this easy. I found a few parts of the documentation ambiguous and a few others down right confusing.
The catch I hit was the required field. In my mind the definition of a required argument is something that needs to be passed on the command line to continue.</description>
    </item><item>
      <title>Keep Your Gems Updated</title>
      <link>https://stelfox.net/blog/2012/11/keep-your-gems-updated/</link>
      <pubDate>Tue, 27 Nov 2012 14:17:00 -0500</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/blog/2012/11/keep-your-gems-updated/</guid>
      <description>I recently went back through my backups recently and found quite a few old abandoned projects. Looking back on the code I see some things I&#39;m impressed with, but the majority of the code I wouldn&#39;t write today. That&#39;s not to say the code is bad, or doesn&#39;t function. It did exactly what I wanted to accomplish at the time, just not necessarily in the most efficient way.
This archive of old code made me start wondering how much old code I&#39;m using in the projects that I&#39;m currently writing.</description>
    </item><item>
      <title>Auditing Heroku SSH Keys</title>
      <link>https://stelfox.net/blog/2012/11/auditing-heroku-ssh-keys/</link>
      <pubDate>Mon, 26 Nov 2012 10:18:00 -0500</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/blog/2012/11/auditing-heroku-ssh-keys/</guid>
      <description>A good friend of mine recently left the organization I work for and the task of resetting our passwords and auditing credentials fell on me. Since we use Heroku for our development platform I needed to not only reset the credentials for the web portion (which conveniently also handles resetting the API key) but also revoke any SSH keys he may have added to access it.
Sadly Heroku does not seem to provide any web interface that I could find for examining what keys were associated with the account.</description>
    </item><item>
      <title>CarrierWave, S3 and Filenames</title>
      <link>https://stelfox.net/blog/2012/08/carrierwave-s3-and-filenames/</link>
      <pubDate>Thu, 09 Aug 2012 20:00:57 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/blog/2012/08/carrierwave-s3-and-filenames/</guid>
      <description>This is going to be a real quick post. I&#39;m using the &amp;ldquo;carrier_wave&amp;rdquo; gem with &amp;ldquo;fog&amp;rdquo; for one of my projects and found that when a file is stored on S3 the &amp;ldquo;identifier&amp;rdquo;, and &amp;ldquo;filename&amp;rdquo; methods return nil. I got around this issue in two separate ways neither of which I&#39;m particularly happy about.
Outside of the uploader, you can use the File utility and the URL of the object to get the base filename like so:</description>
    </item><item>
      <title>Security Through Obesity</title>
      <link>https://stelfox.net/blog/2012/08/security-through-obesity/</link>
      <pubDate>Wed, 08 Aug 2012 15:06:56 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/blog/2012/08/security-through-obesity/</guid>
      <description>Jeremy Spilman recently proposed changes to how user&#39;s hashes are stored in website&#39;s and companies databases. This post was originally going to look at some of the issues involved in the scheme he envisioned, however, he rather quickly posted a followup article with a well thought out solution that countered all of the issues that other people and myself were able to come up with. I&#39;d strongly recommend reading both if you haven&#39;t done so.</description>
    </item><item>
      <title>Adding a Table Prefix to DataMapper Tables</title>
      <link>https://stelfox.net/blog/2012/08/adding-a-table-prefix-to-datamapper-tables/</link>
      <pubDate>Tue, 07 Aug 2012 14:09:33 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/blog/2012/08/adding-a-table-prefix-to-datamapper-tables/</guid>
      <description>So I recently encountered a situation where I needed to define a prefix on the tables used by the &amp;ldquo;data_mapper&amp;rdquo; gem. When I went searching I found quite a bit of information about similar projects in Python, and PHP named DataMapper but nothing about the ruby &amp;ldquo;data_mapper&amp;rdquo;. The search continued eventually ending in my reading through the source of the data_mapper gem only to find that there was no feature for simply defining a prefix.</description>
    </item><item>
      <title>Ruby&#39;s XMLRPC::Client and SSL</title>
      <link>https://stelfox.net/blog/2012/02/rubys-xmlrpcclient-and-ssl/</link>
      <pubDate>Tue, 14 Feb 2012 18:08:51 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/blog/2012/02/rubys-xmlrpcclient-and-ssl/</guid>
      <description>For the past few days I&#39;ve been working on a Ruby project that needed to interact with a remote XMLRPC API. This isn&#39;t particularly unusual but it was the first time from within a Ruby application. Luckily enough Ruby has a built in XMLRPC client that handles a lot of the messy bits.
The XMLRPC::Client class itself seems fairly simple. There are only a handful of methods, five of which are for opening a new connection in a few different ways, and at least two ways to open each type of connection.</description>
    </item></channel>
</rss>

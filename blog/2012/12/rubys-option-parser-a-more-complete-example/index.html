<!doctype html><html lang=en><head><meta charset=UTF-8><meta http-equiv=X-UA-Compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=author content><meta name=description content="found top level header in &amp;#34;/blog/2012/12/rubys-option-parser-a-more-complete-example/&amp;#34; that didn&amp;#39;t match meta title (&amp;#34;Ruby&amp;amp;rsquo;s Option Parser - A More Complete Example&amp;#34; != &amp;#34;Ruby&amp;#39;s Option Parser - a More Complete Example&amp;#34;)Recently while writing a Ruby program I needed to parse some command line options. Helpfully Ruby provides a module named OptionParser to make this easy. I found a few parts of the documentation ambiguous and a few others down right confusing.
The catch I hit was the required field."><meta name=keywords content="blog,programming,linux,systems,personal,rust,philosophy,development,ruby"><meta name=robots content="noodp"><meta name=theme-color content><link rel=canonical href=https://stelfox.net/blog/2012/12/rubys-option-parser-a-more-complete-example/><title>Ruby's Option Parser - a More Complete Example :: Sam Stelfox â€” A simple place for my collected thoughts and notes.
</title><link rel=stylesheet href=/main.c8c76086c15b9d686ec1778dcf935d2ad37f3bb9c23165d2bd157ba7b18e5aec.css integrity="sha256-yMdghsFbnWhuwXeNz5NdKtN/O7nCMWXSvRV7p7GOWuw="><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/safari-pinned-tab.svg color><link rel="shortcut icon" href=/favicon.ico><meta name=msapplication-TileColor content><meta itemprop=name content="Ruby's Option Parser - a More Complete Example"><meta itemprop=description content='found top level header in "/blog/2012/12/rubys-option-parser-a-more-complete-example/" that didn&#39;t match meta title ("Ruby&amp;rsquo;s Option Parser - A More Complete Example" != "Ruby&#39;s Option Parser - a More Complete Example")Recently while writing a Ruby program I needed to parse some command line options. Helpfully Ruby provides a module named OptionParser to make this easy. I found a few parts of the documentation ambiguous and a few others down right confusing.
The catch I hit was the required field.'><meta itemprop=datePublished content="2012-12-02T22:59:00-05:00"><meta itemprop=dateModified content="2012-12-02T22:59:00-05:00"><meta itemprop=wordCount content="824"><meta itemprop=keywords content="Development,Ruby"><meta name=twitter:card content="summary"><meta name=twitter:title content="Ruby's Option Parser - a More Complete Example"><meta name=twitter:description content='found top level header in "/blog/2012/12/rubys-option-parser-a-more-complete-example/" that didn&#39;t match meta title ("Ruby&amp;rsquo;s Option Parser - A More Complete Example" != "Ruby&#39;s Option Parser - a More Complete Example")Recently while writing a Ruby program I needed to parse some command line options. Helpfully Ruby provides a module named OptionParser to make this easy. I found a few parts of the documentation ambiguous and a few others down right confusing.
The catch I hit was the required field.'><meta property="article:published_time" content="2012-12-02 22:59:00 -0500 EST"></head><body><div class=container><header class=header><span class=header__inner><a href=/ style=text-decoration:none><div class=logo><span class=logo__mark>></span>
<span class=logo__text>./Sam_Stelfox.sh</span>
<span class=logo__cursor></span></div></a><span class=header__right><nav class=menu><ul class=menu__inner><li><a href=/blog/>Posts</a></li><li><a href=/notes/>Notes</a></li><li><a href=/about/>About Me</a></li></ul></nav><span class=menu-trigger><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg></span></span></span></header><div class=content><main class=post><div class=post-info></p></div><article><h2 class=post-title><a href=https://stelfox.net/blog/2012/12/rubys-option-parser-a-more-complete-example/>Ruby&rsquo;s Option Parser - a More Complete Example</a></h2><div class=post-content>found top level header in "/blog/2012/12/rubys-option-parser-a-more-complete-example/" that didn't match meta title ("Ruby&amp;rsquo;s Option Parser - A More Complete Example" != "Ruby's Option Parser - a More Complete Example")<p>Recently while writing a Ruby program I needed to parse some command line options. Helpfully Ruby provides a module named <code>OptionParser</code> to make this easy. I found a few parts of the documentation ambiguous and a few others down right confusing.</p><p>The catch I hit was the required field. In my mind the definition of a required argument is something that needs to be passed on the command line to continue. What<code>OptionParser</code> actually means is that a value isn&rsquo;t required when the argument is passed.<code>OptionParser</code> already provides boolean switches, so when someone would use an optional switch is beyond me.</p><p>To make it a little more clear and to have something to work from in the future I created the following chunk of code that includes a Configuration singleton that can be used anywhere within your codebase to access the run-time configuration, a sample parser with a wide range of different types of options, and it will load configuration from a file named &ldquo;config.yml&rdquo; in the same directory.</p><p>I feel like the following is a much more complete explanation of how <code>OptionParser</code> is supposed to be used with supporting code.</p><div class=highlight><div style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-1><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-1>  1</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-2><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-2>  2</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-3><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-3>  3</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-4><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-4>  4</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-5><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-5>  5</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-6><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-6>  6</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-7><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-7>  7</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-8><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-8>  8</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-9><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-9>  9</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-10><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-10> 10</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-11><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-11> 11</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-12><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-12> 12</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-13><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-13> 13</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-14><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-14> 14</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-15><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-15> 15</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-16><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-16> 16</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-17><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-17> 17</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-18><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-18> 18</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-19><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-19> 19</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-20><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-20> 20</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-21><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-21> 21</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-22><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-22> 22</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-23><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-23> 23</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-24><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-24> 24</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-25><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-25> 25</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-26><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-26> 26</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-27><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-27> 27</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-28><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-28> 28</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-29><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-29> 29</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-30><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-30> 30</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-31><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-31> 31</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-32><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-32> 32</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-33><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-33> 33</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-34><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-34> 34</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-35><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-35> 35</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-36><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-36> 36</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-37><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-37> 37</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-38><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-38> 38</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-39><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-39> 39</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-40><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-40> 40</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-41><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-41> 41</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-42><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-42> 42</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-43><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-43> 43</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-44><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-44> 44</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-45><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-45> 45</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-46><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-46> 46</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-47><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-47> 47</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-48><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-48> 48</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-49><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-49> 49</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-50><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-50> 50</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-51><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-51> 51</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-52><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-52> 52</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-53><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-53> 53</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-54><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-54> 54</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-55><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-55> 55</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-56><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-56> 56</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-57><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-57> 57</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-58><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-58> 58</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-59><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-59> 59</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-60><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-60> 60</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-61><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-61> 61</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-62><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-62> 62</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-63><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-63> 63</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-64><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-64> 64</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-65><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-65> 65</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-66><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-66> 66</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-67><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-67> 67</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-68><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-68> 68</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-69><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-69> 69</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-70><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-70> 70</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-71><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-71> 71</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-72><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-72> 72</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-73><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-73> 73</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-74><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-74> 74</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-75><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-75> 75</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-76><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-76> 76</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-77><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-77> 77</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-78><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-78> 78</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-79><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-79> 79</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-80><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-80> 80</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-81><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-81> 81</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-82><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-82> 82</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-83><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-83> 83</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-84><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-84> 84</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-85><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-85> 85</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-86><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-86> 86</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-87><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-87> 87</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-88><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-88> 88</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-89><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-89> 89</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-90><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-90> 90</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-91><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-91> 91</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-92><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-92> 92</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-93><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-93> 93</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-94><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-94> 94</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-95><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-95> 95</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-96><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-96> 96</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-97><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-97> 97</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-98><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-98> 98</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-99><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-99> 99</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-100><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-100>100</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-101><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-101>101</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-102><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-102>102</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-103><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-103>103</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-104><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-104>104</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-105><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-105>105</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-106><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-106>106</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-107><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-107>107</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-108><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-108>108</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-109><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-109>109</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-110><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-110>110</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-111><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-111>111</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-112><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-112>112</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-113><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-113>113</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-114><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-114>114</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-115><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-115>115</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-116><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-116>116</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-117><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-117>117</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-118><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-118>118</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-119><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-119>119</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-120><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-120>120</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-121><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-121>121</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-122><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-122>122</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-123><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-123>123</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-835c8df-124><a style=outline:none;text-decoration:none;color:inherit href=#code-835c8df-124>124</a>
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ruby data-lang=ruby><span style=display:flex><span><span style=color:#8b949e;font-style:italic>#!/usr/bin/env ruby</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># This file provides an example of creating a command line application with a</span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># wide variety of command line options, parsing and the like as well as global</span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># configuration singleton that can be relied on throughout a program.</span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic>#</span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># This entire setup lives within the &#34;Example&#34; module. These are really common</span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># names and it would be a shame to override required functionality in other code</span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># that wasn&#39;t properly namespaced.</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>require <span style=color:#a5d6ff>&#39;optparse&#39;</span>
</span></span><span style=display:flex><span>require <span style=color:#a5d6ff>&#39;singleton&#39;</span>
</span></span><span style=display:flex><span>require <span style=color:#a5d6ff>&#39;yaml&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff7b72>module</span> <span style=color:#ff7b72>Example</span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic># Defines the available configuration options for the configuration</span>
</span></span><span style=display:flex><span>  <span style=color:#79c0ff;font-weight:700>ConfigurationStruct</span> <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#79c0ff;font-weight:700>Struct</span><span style=color:#ff7b72;font-weight:700>.</span>new(<span style=color:#a5d6ff>:enum</span>, <span style=color:#a5d6ff>:list</span>, <span style=color:#a5d6ff>:required</span>, <span style=color:#a5d6ff>:optional</span>, <span style=color:#a5d6ff>:verbose</span>, <span style=color:#a5d6ff>:float</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>class</span> <span style=color:#f0883e;font-weight:700>Configuration</span>
</span></span><span style=display:flex><span>    <span style=color:#79c0ff>include</span> <span style=color:#79c0ff;font-weight:700>Singleton</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic># Initialize the configuration and set defaults:</span>
</span></span><span style=display:flex><span>    @@config <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#79c0ff;font-weight:700>ConfigurationStruct</span><span style=color:#ff7b72;font-weight:700>.</span>new
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic># This is where the defaults are being set</span>
</span></span><span style=display:flex><span>    @@config<span style=color:#ff7b72;font-weight:700>.</span>enum <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>:one</span>
</span></span><span style=display:flex><span>    @@config<span style=color:#ff7b72;font-weight:700>.</span>list <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#ff7b72;font-weight:700>[]</span>
</span></span><span style=display:flex><span>    @@config<span style=color:#ff7b72;font-weight:700>.</span>optional <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#79c0ff>nil</span>
</span></span><span style=display:flex><span>    @@config<span style=color:#ff7b72;font-weight:700>.</span>verbose <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#79c0ff>false</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>def</span> <span style=color:#f0883e;font-weight:700>self</span><span style=color:#ff7b72;font-weight:700>.</span><span style=color:#d2a8ff;font-weight:700>config</span>
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>yield</span>(@@config) <span style=color:#ff7b72>if</span> block_given?
</span></span><span style=display:flex><span>      @@config
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic># Loads a YAML configuration file and sets each of the configuration values to</span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic># whats in the file.</span>
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>def</span> <span style=color:#f0883e;font-weight:700>self</span><span style=color:#ff7b72;font-weight:700>.</span><span style=color:#d2a8ff;font-weight:700>load</span>(file)
</span></span><span style=display:flex><span>      <span style=color:#79c0ff;font-weight:700>YAML</span><span style=color:#ff7b72;font-weight:700>::</span>load_file(file)<span style=color:#ff7b72;font-weight:700>.</span>each <span style=color:#ff7b72>do</span> <span style=color:#ff7b72;font-weight:700>|</span>key, value<span style=color:#ff7b72;font-weight:700>|</span>
</span></span><span style=display:flex><span>        self<span style=color:#ff7b72;font-weight:700>.</span>send(<span style=color:#a5d6ff>&#34;</span><span style=color:#a5d6ff>#{</span>key<span style=color:#a5d6ff>}</span><span style=color:#a5d6ff>=&#34;</span>, value)
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>end</span>
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic># This provides an easy way to dump the configuration as a hash</span>
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>def</span> <span style=color:#f0883e;font-weight:700>self</span><span style=color:#ff7b72;font-weight:700>.</span><span style=color:#d2a8ff;font-weight:700>to_hash</span>
</span></span><span style=display:flex><span>      <span style=color:#79c0ff;font-weight:700>Hash</span><span style=color:#ff7b72;font-weight:700>[</span>@@config<span style=color:#ff7b72;font-weight:700>.</span>each_pair<span style=color:#ff7b72;font-weight:700>.</span>to_a<span style=color:#ff7b72;font-weight:700>]</span>
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic># Pass any other calls (most likely attribute setters/getters on to the</span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic># configuration as a way to easily set/get attribute values </span>
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>def</span> <span style=color:#f0883e;font-weight:700>self</span><span style=color:#ff7b72;font-weight:700>.</span><span style=color:#d2a8ff;font-weight:700>method_missing</span>(method, <span style=color:#ff7b72;font-weight:700>*</span>args, <span style=color:#ff7b72;font-weight:700>&amp;</span>block)
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>if</span> @@config<span style=color:#ff7b72;font-weight:700>.</span>respond_to?(method)
</span></span><span style=display:flex><span>        @@config<span style=color:#ff7b72;font-weight:700>.</span>send(method, <span style=color:#ff7b72;font-weight:700>*</span>args, <span style=color:#ff7b72;font-weight:700>&amp;</span>block)
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>else</span>
</span></span><span style=display:flex><span>        <span style=color:#ff7b72>raise</span> <span style=color:#79c0ff;font-weight:700>NoMethodError</span>
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>end</span>
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic># Handles validating the configuration that has been loaded/configured</span>
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>def</span> <span style=color:#f0883e;font-weight:700>self</span><span style=color:#ff7b72;font-weight:700>.</span><span style=color:#d2a8ff;font-weight:700>validate!</span>
</span></span><span style=display:flex><span>      valid <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#79c0ff>true</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      valid <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#79c0ff>false</span> <span style=color:#ff7b72>if</span> <span style=color:#79c0ff;font-weight:700>Configuration</span><span style=color:#ff7b72;font-weight:700>.</span>required<span style=color:#ff7b72;font-weight:700>.</span>nil?
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>raise</span> <span style=color:#79c0ff;font-weight:700>ArgumentError</span> <span style=color:#ff7b72>unless</span> valid
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>end</span>
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>class</span> <span style=color:#f0883e;font-weight:700>ConfigurationParser</span>
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>def</span> <span style=color:#f0883e;font-weight:700>self</span><span style=color:#ff7b72;font-weight:700>.</span><span style=color:#d2a8ff;font-weight:700>parse</span>(args)
</span></span><span style=display:flex><span>      opts <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#79c0ff;font-weight:700>OptionParser</span><span style=color:#ff7b72;font-weight:700>.</span>new <span style=color:#ff7b72>do</span> <span style=color:#ff7b72;font-weight:700>|</span>parser<span style=color:#ff7b72;font-weight:700>|</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        parser<span style=color:#ff7b72;font-weight:700>.</span>separator <span style=color:#a5d6ff>&#34;&#34;</span>
</span></span><span style=display:flex><span>        parser<span style=color:#ff7b72;font-weight:700>.</span>separator <span style=color:#a5d6ff>&#34;Specific options:&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        parser<span style=color:#ff7b72;font-weight:700>.</span>on(<span style=color:#a5d6ff>&#34;--enum ENUM&#34;</span>, <span style=color:#ff7b72;font-weight:700>[</span><span style=color:#a5d6ff>:one</span>, <span style=color:#a5d6ff>:two</span>, <span style=color:#a5d6ff>:three</span><span style=color:#ff7b72;font-weight:700>]</span>, <span style=color:#a5d6ff>&#34;This field requires one of a set of predefined values be&#34;</span>, <span style=color:#a5d6ff>&#34;set. If wrapped in brackets this option can be set to nil.&#34;</span>) <span style=color:#ff7b72>do</span> <span style=color:#ff7b72;font-weight:700>|</span>setting<span style=color:#ff7b72;font-weight:700>|</span>
</span></span><span style=display:flex><span>          <span style=color:#79c0ff;font-weight:700>Configuration</span><span style=color:#ff7b72;font-weight:700>.</span>enum <span style=color:#ff7b72;font-weight:700>=</span> setting
</span></span><span style=display:flex><span>        <span style=color:#ff7b72>end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        parser<span style=color:#ff7b72;font-weight:700>.</span>on(<span style=color:#a5d6ff>&#34;-l&#34;</span>, <span style=color:#a5d6ff>&#34;--list x,y&#34;</span>, Array, <span style=color:#a5d6ff>&#34;This command flag takes a comma separated list (without&#34;</span>, <span style=color:#a5d6ff>&#34;spaces) of values and turns it into an array. This requires&#34;</span>, <span style=color:#a5d6ff>&#34;at least one argument.&#34;</span>) <span style=color:#ff7b72>do</span> <span style=color:#ff7b72;font-weight:700>|</span>setting<span style=color:#ff7b72;font-weight:700>|</span>
</span></span><span style=display:flex><span>          <span style=color:#79c0ff;font-weight:700>Configuration</span><span style=color:#ff7b72;font-weight:700>.</span>list <span style=color:#ff7b72;font-weight:700>=</span> setting
</span></span><span style=display:flex><span>        <span style=color:#ff7b72>end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        parser<span style=color:#ff7b72;font-weight:700>.</span>on(<span style=color:#a5d6ff>&#34;--[no-]verbose&#34;</span>, <span style=color:#a5d6ff>&#34;This is a common boolean flag, setting verbosity to either&#34;</span>, <span style=color:#a5d6ff>&#34;true or false.&#34;</span>) <span style=color:#ff7b72>do</span> <span style=color:#ff7b72;font-weight:700>|</span>setting<span style=color:#ff7b72;font-weight:700>|</span>
</span></span><span style=display:flex><span>          <span style=color:#79c0ff;font-weight:700>Configuration</span><span style=color:#ff7b72;font-weight:700>.</span>verbose <span style=color:#ff7b72;font-weight:700>=</span> setting
</span></span><span style=display:flex><span>        <span style=color:#ff7b72>end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        parser<span style=color:#ff7b72;font-weight:700>.</span>on(<span style=color:#a5d6ff>&#34;--optional [STR]&#34;</span>, <span style=color:#a5d6ff>&#34;This command doesn&#39;t require a string to be passed to it, if&#34;</span>, <span style=color:#a5d6ff>&#34;nothing is passed it will be nil. No error will be raised if&#34;</span>, <span style=color:#a5d6ff>&#34;nothing is passed to it that logic needs to be handled&#34;</span>, <span style=color:#a5d6ff>&#34;yourself.&#34;</span>) <span style=color:#ff7b72>do</span> <span style=color:#ff7b72;font-weight:700>|</span>setting<span style=color:#ff7b72;font-weight:700>|</span>
</span></span><span style=display:flex><span>          <span style=color:#79c0ff;font-weight:700>Configuration</span><span style=color:#ff7b72;font-weight:700>.</span>optional <span style=color:#ff7b72;font-weight:700>=</span> setting
</span></span><span style=display:flex><span>        <span style=color:#ff7b72>end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        parser<span style=color:#ff7b72;font-weight:700>.</span>on(<span style=color:#a5d6ff>&#34;-r&#34;</span>, <span style=color:#a5d6ff>&#34;--required STR&#34;</span>, <span style=color:#a5d6ff>&#34;This command requires a string to be passed to it.&#34;</span>) <span style=color:#ff7b72>do</span> <span style=color:#ff7b72;font-weight:700>|</span>setting<span style=color:#ff7b72;font-weight:700>|</span>
</span></span><span style=display:flex><span>          <span style=color:#79c0ff;font-weight:700>Configuration</span><span style=color:#ff7b72;font-weight:700>.</span>required <span style=color:#ff7b72;font-weight:700>=</span> setting
</span></span><span style=display:flex><span>        <span style=color:#ff7b72>end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        parser<span style=color:#ff7b72;font-weight:700>.</span>on(<span style=color:#a5d6ff>&#34;--float NUM&#34;</span>, Float, <span style=color:#a5d6ff>&#34;This command will only accept an integer or a float.&#34;</span>) <span style=color:#ff7b72>do</span> <span style=color:#ff7b72;font-weight:700>|</span>setting<span style=color:#ff7b72;font-weight:700>|</span>
</span></span><span style=display:flex><span>          <span style=color:#79c0ff;font-weight:700>Configuration</span><span style=color:#ff7b72;font-weight:700>.</span>float <span style=color:#ff7b72;font-weight:700>=</span> setting
</span></span><span style=display:flex><span>        <span style=color:#ff7b72>end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        parser<span style=color:#ff7b72;font-weight:700>.</span>on_tail(<span style=color:#a5d6ff>&#34;-h&#34;</span>, <span style=color:#a5d6ff>&#34;--help&#34;</span>, <span style=color:#a5d6ff>&#34;--usage&#34;</span>, <span style=color:#a5d6ff>&#34;Show this usage message and quit.&#34;</span>) <span style=color:#ff7b72>do</span> <span style=color:#ff7b72;font-weight:700>|</span>setting<span style=color:#ff7b72;font-weight:700>|</span>
</span></span><span style=display:flex><span>          puts parser<span style=color:#ff7b72;font-weight:700>.</span>help
</span></span><span style=display:flex><span>          exit
</span></span><span style=display:flex><span>        <span style=color:#ff7b72>end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        parser<span style=color:#ff7b72;font-weight:700>.</span>on_tail(<span style=color:#a5d6ff>&#34;-v&#34;</span>, <span style=color:#a5d6ff>&#34;--version&#34;</span>, <span style=color:#a5d6ff>&#34;Show version information about this program and quit.&#34;</span>) <span style=color:#ff7b72>do</span>
</span></span><span style=display:flex><span>          puts <span style=color:#a5d6ff>&#34;Option Parser Example v1.0.0&#34;</span>
</span></span><span style=display:flex><span>          exit
</span></span><span style=display:flex><span>        <span style=color:#ff7b72>end</span>
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      opts<span style=color:#ff7b72;font-weight:700>.</span>parse!(args)
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>end</span>
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>end</span>
</span></span><span style=display:flex><span><span style=color:#ff7b72>end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff7b72>if</span> <span style=color:#79c0ff;font-weight:700>File</span><span style=color:#ff7b72;font-weight:700>.</span>exists?(<span style=color:#a5d6ff>&#34;config.yml&#34;</span>)
</span></span><span style=display:flex><span>  <span style=color:#79c0ff;font-weight:700>Example</span><span style=color:#ff7b72;font-weight:700>::</span><span style=color:#79c0ff;font-weight:700>Configuration</span><span style=color:#ff7b72;font-weight:700>.</span>load(<span style=color:#a5d6ff>&#34;config.yml&#34;</span>)
</span></span><span style=display:flex><span><span style=color:#ff7b72>end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#79c0ff;font-weight:700>Example</span><span style=color:#ff7b72;font-weight:700>::</span><span style=color:#79c0ff;font-weight:700>ConfigurationParser</span><span style=color:#ff7b72;font-weight:700>.</span>parse(<span style=color:#79c0ff;font-weight:700>ARGV</span>)
</span></span><span style=display:flex><span><span style=color:#79c0ff;font-weight:700>Example</span><span style=color:#ff7b72;font-weight:700>::</span><span style=color:#79c0ff;font-weight:700>Configuration</span><span style=color:#ff7b72;font-weight:700>.</span>validate!
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>require <span style=color:#a5d6ff>&#34;json&#34;</span>
</span></span><span style=display:flex><span>puts <span style=color:#79c0ff;font-weight:700>JSON</span><span style=color:#ff7b72;font-weight:700>.</span>pretty_generate(<span style=color:#79c0ff;font-weight:700>Example</span><span style=color:#ff7b72;font-weight:700>::</span><span style=color:#79c0ff;font-weight:700>Configuration</span><span style=color:#ff7b72;font-weight:700>.</span>to_hash)</span></span></code></pre></td></tr></table></div></div></div></article><hr><div class=post-info><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon"><path d="M20.59 13.41l-7.17 7.17a2 2 0 01-2.83.0L2 12V2h10l8.59 8.59a2 2 0 010 2.82z"/><line x1="7" y1="7" x2="7" y2="7"/></svg>
<span class=tag><a href=https://stelfox.net/tags/development/>development</a></span>
<span class=tag><a href=https://stelfox.net/tags/ruby/>ruby</a></span></p><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-git-commit"><circle cx="12" cy="12" r="4"/><line x1="1.05" y1="12" x2="7" y2="12"/><line x1="17.01" y1="12" x2="22.96" y2="12"/></svg><a href=5cc61bddb3608f4b520ea01481747b9e2f886434 target=_blank rel=noopener>5cc61bdd</a> @ 2024-07-15</p></div></main></div><footer class=footer></footer></div><script type=text/javascript src=/bundle.min.85fad2de4f13fec3bcb3b3cb10430cdb44a7b4a9749b32938241a5c6e77718df7624f1002b880521fdc26e24ec1077fda214bf1cb36ee3045510760d09638cae.js integrity="sha512-hfrS3k8T/sO8s7PLEEMM20SntKl0mzKTgkGlxud3GN92JPEAK4gFIf3CbiTsEHf9ohS/HLNu4wRVEHYNCWOMrg=="></script></body></html>
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="author" content="sam@stelfox.net Sam Stelfox ">
<meta name="description" content="Recently while writing a Ruby program I needed to parse some command line options. Helpfully Ruby provides a module named OptionParser to make this easy. I found a few parts of the documentation ambiguous and a few others down right confusing.
The catch I hit was the required field. In my mind the definition of a required argument is something that needs to be passed on the command line to continue." />
<meta name="keywords" content="blog, programming, linux, systems, personal, development, ruby" />
<meta name="robots" content="noodp" />
<meta name="theme-color" content="" />
<link rel="canonical" href="https://stelfox.net/blog/2012/12/rubys-option-parser-a-more-complete-example/" />


    <title>
        
            Ruby&#39;s Option Parser - a More Complete Example :: Sam Stelfox 
        
    </title>




<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.5.0/css/flag-icon.min.css" integrity="sha512-Cv93isQdFwaKBV+Z4X8kaVBYWHST58Xb/jVOcV9aRsGSArZsgAnFIhMpDoMDcFNoUtday1hdjn0nGp3+KZyyFw==" crossorigin="anonymous" referrerpolicy="no-referrer" />



<link rel="stylesheet" href="/main.2a064c455b0ecbd6b1481b3bf9df2441e95838691022f40a5338c2cb1244f075.css" integrity="sha256-KgZMRVsOy9axSBs7&#43;d8kQelYOGkQIvQKUzjCyxJE8HU=">



    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="">
    <link rel="shortcut icon" href="/favicon.ico">
    <meta name="msapplication-TileColor" content="">


<meta itemprop="name" content="Ruby&#39;s Option Parser - a More Complete Example">
<meta itemprop="description" content="Recently while writing a Ruby program I needed to parse some command line options. Helpfully Ruby provides a module named OptionParser to make this easy. I found a few parts of the documentation ambiguous and a few others down right confusing.
The catch I hit was the required field. In my mind the definition of a required argument is something that needs to be passed on the command line to continue."><meta itemprop="datePublished" content="2012-12-02T22:59:00-05:00" />
<meta itemprop="dateModified" content="2012-12-02T22:59:00-05:00" />
<meta itemprop="wordCount" content="673">
<meta itemprop="keywords" content="development,ruby," />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Ruby&#39;s Option Parser - a More Complete Example"/>
<meta name="twitter:description" content="Recently while writing a Ruby program I needed to parse some command line options. Helpfully Ruby provides a module named OptionParser to make this easy. I found a few parts of the documentation ambiguous and a few others down right confusing.
The catch I hit was the required field. In my mind the definition of a required argument is something that needs to be passed on the command line to continue."/>



    <meta property="og:title" content="Ruby&#39;s Option Parser - a More Complete Example" />
<meta property="og:description" content="Recently while writing a Ruby program I needed to parse some command line options. Helpfully Ruby provides a module named OptionParser to make this easy. I found a few parts of the documentation ambiguous and a few others down right confusing.
The catch I hit was the required field. In my mind the definition of a required argument is something that needs to be passed on the command line to continue." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://stelfox.net/blog/2012/12/rubys-option-parser-a-more-complete-example/" /><meta property="article:section" content="blog" />
<meta property="article:published_time" content="2012-12-02T22:59:00-05:00" />
<meta property="article:modified_time" content="2012-12-02T22:59:00-05:00" />






    <meta property="article:published_time" content="2012-12-02 22:59:00 -0500 EST" />










    </head>

    
        <body>
    
    
        <div class="container">
            <header class="header">
    <span class="header__inner">
        <a href="/" style="text-decoration: none;">
    <div class="logo">
        
            <span class="logo__mark">></span>
            <span class="logo__text ">
                ./Sam_Stelfox.sh</span>
            <span class="logo__cursor" style=
                  "
                   
                   ">
            </span>
        
    </div>
</a>


        <span class="header__right">
            
                <nav class="menu">
    <ul class="menu__inner"><li><a href="/">Home</a></li><li><a href="/about/">About</a></li><li><a href="/blog/">Blog Posts</a></li><li><a href="/notes/">Various Notes</a></li>
    </ul>
</nav>

                <span class="menu-trigger">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M0 0h24v24H0z" fill="none"/>
                        <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
                    </svg>
                </span>
            
        </span>
    </span>
</header>


            <div class="content">
                
    <main class="post">

        <div class="post-info">
            
            </p>
        </div>

        <article>
            <h2 class="post-title"><a href="https://stelfox.net/blog/2012/12/rubys-option-parser-a-more-complete-example/">Ruby&rsquo;s Option Parser - a More Complete Example</a></h2>

            
            
            

            <div class="post-content">
                <p>Recently while writing a Ruby program I needed to parse some command line
options. Helpfully Ruby provides a module named <code>OptionParser</code> to make this
easy. I found a few parts of the documentation ambiguous and a few others down
right confusing.</p>
<p>The catch I hit was the required field. In my mind the definition of a required
argument is something that needs to be passed on the command line to continue.
What<code>OptionParser</code> actually means is that a value isn&rsquo;t required when the
argument is passed.<code>OptionParser</code> already provides boolean switches, so when
someone would use an optional switch is beyond me.</p>
<p>To make it a little more clear and to have something to work from in the future
I created the following chunk of code that includes a Configuration singleton
that can be used anywhere within your codebase to access the run-time
configuration, a sample parser with a wide range of different types of options,
and it will load configuration from a file named <code>config.yml</code> in the same
directory.</p>
<p>I feel like the following is a much more complete explanation of how
<code>OptionParser</code> is supposed to be used with supporting code.</p>
<div class="highlight"><pre tabindex="0" style="color:#c9d1d9;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ruby" data-lang="ruby"><span style="display:flex;"><span><span style="color:#8b949e;font-style:italic">#!/usr/bin/env ruby</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8b949e;font-style:italic"># This file provides an example of creating a command line application with a</span>
</span></span><span style="display:flex;"><span><span style="color:#8b949e;font-style:italic"># wide variety of command line options, parsing and the like as well as global</span>
</span></span><span style="display:flex;"><span><span style="color:#8b949e;font-style:italic"># configuration singleton that can be relied on throughout a program.</span>
</span></span><span style="display:flex;"><span><span style="color:#8b949e;font-style:italic">#</span>
</span></span><span style="display:flex;"><span><span style="color:#8b949e;font-style:italic"># This entire setup lives within the &#34;Example&#34; module. These are really common</span>
</span></span><span style="display:flex;"><span><span style="color:#8b949e;font-style:italic"># names and it would be a shame to override required functionality in other code</span>
</span></span><span style="display:flex;"><span><span style="color:#8b949e;font-style:italic"># that wasn&#39;t properly namespaced.</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>require <span style="color:#a5d6ff">&#39;optparse&#39;</span>
</span></span><span style="display:flex;"><span>require <span style="color:#a5d6ff">&#39;singleton&#39;</span>
</span></span><span style="display:flex;"><span>require <span style="color:#a5d6ff">&#39;yaml&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff7b72">module</span> <span style="color:#ff7b72">Example</span>
</span></span><span style="display:flex;"><span>  <span style="color:#8b949e;font-style:italic"># Defines the available configuration options for the configuration</span>
</span></span><span style="display:flex;"><span>  <span style="color:#79c0ff;font-weight:bold">ConfigurationStruct</span> <span style="color:#ff7b72;font-weight:bold">=</span> <span style="color:#79c0ff;font-weight:bold">Struct</span><span style="color:#ff7b72;font-weight:bold">.</span>new(<span style="color:#a5d6ff">:enum</span>, <span style="color:#a5d6ff">:list</span>, <span style="color:#a5d6ff">:required</span>, <span style="color:#a5d6ff">:optional</span>, <span style="color:#a5d6ff">:verbose</span>, <span style="color:#a5d6ff">:float</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff7b72">class</span> <span style="color:#f0883e;font-weight:bold">Configuration</span>
</span></span><span style="display:flex;"><span>    <span style="color:#79c0ff">include</span> <span style="color:#79c0ff;font-weight:bold">Singleton</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#8b949e;font-style:italic"># Initialize the configuration and set defaults:</span>
</span></span><span style="display:flex;"><span>    @@config <span style="color:#ff7b72;font-weight:bold">=</span> <span style="color:#79c0ff;font-weight:bold">ConfigurationStruct</span><span style="color:#ff7b72;font-weight:bold">.</span>new
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#8b949e;font-style:italic"># This is where the defaults are being set</span>
</span></span><span style="display:flex;"><span>    @@config<span style="color:#ff7b72;font-weight:bold">.</span>enum <span style="color:#ff7b72;font-weight:bold">=</span> <span style="color:#a5d6ff">:one</span>
</span></span><span style="display:flex;"><span>    @@config<span style="color:#ff7b72;font-weight:bold">.</span>list <span style="color:#ff7b72;font-weight:bold">=</span> <span style="color:#ff7b72;font-weight:bold">[]</span>
</span></span><span style="display:flex;"><span>    @@config<span style="color:#ff7b72;font-weight:bold">.</span>optional <span style="color:#ff7b72;font-weight:bold">=</span> <span style="color:#79c0ff">nil</span>
</span></span><span style="display:flex;"><span>    @@config<span style="color:#ff7b72;font-weight:bold">.</span>verbose <span style="color:#ff7b72;font-weight:bold">=</span> <span style="color:#79c0ff">false</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff7b72">def</span> <span style="color:#f0883e;font-weight:bold">self</span><span style="color:#ff7b72;font-weight:bold">.</span><span style="color:#d2a8ff;font-weight:bold">config</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ff7b72">yield</span>(@@config) <span style="color:#ff7b72">if</span> block_given?
</span></span><span style="display:flex;"><span>      @@config
</span></span><span style="display:flex;"><span>    <span style="color:#ff7b72">end</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#8b949e;font-style:italic"># Loads a YAML configuration file and sets each of the configuration values to</span>
</span></span><span style="display:flex;"><span>    <span style="color:#8b949e;font-style:italic"># whats in the file.</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff7b72">def</span> <span style="color:#f0883e;font-weight:bold">self</span><span style="color:#ff7b72;font-weight:bold">.</span><span style="color:#d2a8ff;font-weight:bold">load</span>(file)
</span></span><span style="display:flex;"><span>      <span style="color:#79c0ff;font-weight:bold">YAML</span><span style="color:#ff7b72;font-weight:bold">::</span>load_file(file)<span style="color:#ff7b72;font-weight:bold">.</span>each <span style="color:#ff7b72">do</span> <span style="color:#ff7b72;font-weight:bold">|</span>key, value<span style="color:#ff7b72;font-weight:bold">|</span>
</span></span><span style="display:flex;"><span>        self<span style="color:#ff7b72;font-weight:bold">.</span>send(<span style="color:#a5d6ff">&#34;</span><span style="color:#a5d6ff">#{</span>key<span style="color:#a5d6ff">}</span><span style="color:#a5d6ff">=&#34;</span>, value)
</span></span><span style="display:flex;"><span>      <span style="color:#ff7b72">end</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff7b72">end</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#8b949e;font-style:italic"># This provides an easy way to dump the configuration as a hash</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff7b72">def</span> <span style="color:#f0883e;font-weight:bold">self</span><span style="color:#ff7b72;font-weight:bold">.</span><span style="color:#d2a8ff;font-weight:bold">to_hash</span>
</span></span><span style="display:flex;"><span>      <span style="color:#79c0ff;font-weight:bold">Hash</span><span style="color:#ff7b72;font-weight:bold">[</span>@@config<span style="color:#ff7b72;font-weight:bold">.</span>each_pair<span style="color:#ff7b72;font-weight:bold">.</span>to_a<span style="color:#ff7b72;font-weight:bold">]</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff7b72">end</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#8b949e;font-style:italic"># Pass any other calls (most likely attribute setters/getters on to the</span>
</span></span><span style="display:flex;"><span>    <span style="color:#8b949e;font-style:italic"># configuration as a way to easily set/get attribute values </span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff7b72">def</span> <span style="color:#f0883e;font-weight:bold">self</span><span style="color:#ff7b72;font-weight:bold">.</span><span style="color:#d2a8ff;font-weight:bold">method_missing</span>(method, <span style="color:#ff7b72;font-weight:bold">*</span>args, <span style="color:#ff7b72;font-weight:bold">&amp;</span>block)
</span></span><span style="display:flex;"><span>      <span style="color:#ff7b72">if</span> @@config<span style="color:#ff7b72;font-weight:bold">.</span>respond_to?(method)
</span></span><span style="display:flex;"><span>        @@config<span style="color:#ff7b72;font-weight:bold">.</span>send(method, <span style="color:#ff7b72;font-weight:bold">*</span>args, <span style="color:#ff7b72;font-weight:bold">&amp;</span>block)
</span></span><span style="display:flex;"><span>      <span style="color:#ff7b72">else</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ff7b72">raise</span> <span style="color:#79c0ff;font-weight:bold">NoMethodError</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ff7b72">end</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff7b72">end</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#8b949e;font-style:italic"># Handles validating the configuration that has been loaded/configured</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff7b72">def</span> <span style="color:#f0883e;font-weight:bold">self</span><span style="color:#ff7b72;font-weight:bold">.</span><span style="color:#d2a8ff;font-weight:bold">validate!</span>
</span></span><span style="display:flex;"><span>      valid <span style="color:#ff7b72;font-weight:bold">=</span> <span style="color:#79c0ff">true</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      valid <span style="color:#ff7b72;font-weight:bold">=</span> <span style="color:#79c0ff">false</span> <span style="color:#ff7b72">if</span> <span style="color:#79c0ff;font-weight:bold">Configuration</span><span style="color:#ff7b72;font-weight:bold">.</span>required<span style="color:#ff7b72;font-weight:bold">.</span>nil?
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      <span style="color:#ff7b72">raise</span> <span style="color:#79c0ff;font-weight:bold">ArgumentError</span> <span style="color:#ff7b72">unless</span> valid
</span></span><span style="display:flex;"><span>    <span style="color:#ff7b72">end</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff7b72">end</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff7b72">class</span> <span style="color:#f0883e;font-weight:bold">ConfigurationParser</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff7b72">def</span> <span style="color:#f0883e;font-weight:bold">self</span><span style="color:#ff7b72;font-weight:bold">.</span><span style="color:#d2a8ff;font-weight:bold">parse</span>(args)
</span></span><span style="display:flex;"><span>      opts <span style="color:#ff7b72;font-weight:bold">=</span> <span style="color:#79c0ff;font-weight:bold">OptionParser</span><span style="color:#ff7b72;font-weight:bold">.</span>new <span style="color:#ff7b72">do</span> <span style="color:#ff7b72;font-weight:bold">|</span>parser<span style="color:#ff7b72;font-weight:bold">|</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        parser<span style="color:#ff7b72;font-weight:bold">.</span>separator <span style="color:#a5d6ff">&#34;&#34;</span>
</span></span><span style="display:flex;"><span>        parser<span style="color:#ff7b72;font-weight:bold">.</span>separator <span style="color:#a5d6ff">&#34;Specific options:&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        parser<span style="color:#ff7b72;font-weight:bold">.</span>on(<span style="color:#a5d6ff">&#34;--enum ENUM&#34;</span>, <span style="color:#ff7b72;font-weight:bold">[</span><span style="color:#a5d6ff">:one</span>, <span style="color:#a5d6ff">:two</span>, <span style="color:#a5d6ff">:three</span><span style="color:#ff7b72;font-weight:bold">]</span>, <span style="color:#a5d6ff">&#34;This field requires one of a set of predefined values be&#34;</span>, <span style="color:#a5d6ff">&#34;set. If wrapped in brackets this option can be set to nil.&#34;</span>) <span style="color:#ff7b72">do</span> <span style="color:#ff7b72;font-weight:bold">|</span>setting<span style="color:#ff7b72;font-weight:bold">|</span>
</span></span><span style="display:flex;"><span>          <span style="color:#79c0ff;font-weight:bold">Configuration</span><span style="color:#ff7b72;font-weight:bold">.</span>enum <span style="color:#ff7b72;font-weight:bold">=</span> setting
</span></span><span style="display:flex;"><span>        <span style="color:#ff7b72">end</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        parser<span style="color:#ff7b72;font-weight:bold">.</span>on(<span style="color:#a5d6ff">&#34;-l&#34;</span>, <span style="color:#a5d6ff">&#34;--list x,y&#34;</span>, Array, <span style="color:#a5d6ff">&#34;This command flag takes a comma separated list (without&#34;</span>, <span style="color:#a5d6ff">&#34;spaces) of values and turns it into an array. This requires&#34;</span>, <span style="color:#a5d6ff">&#34;at least one argument.&#34;</span>) <span style="color:#ff7b72">do</span> <span style="color:#ff7b72;font-weight:bold">|</span>setting<span style="color:#ff7b72;font-weight:bold">|</span>
</span></span><span style="display:flex;"><span>          <span style="color:#79c0ff;font-weight:bold">Configuration</span><span style="color:#ff7b72;font-weight:bold">.</span>list <span style="color:#ff7b72;font-weight:bold">=</span> setting
</span></span><span style="display:flex;"><span>        <span style="color:#ff7b72">end</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        parser<span style="color:#ff7b72;font-weight:bold">.</span>on(<span style="color:#a5d6ff">&#34;--[no-]verbose&#34;</span>, <span style="color:#a5d6ff">&#34;This is a common boolean flag, setting verbosity to either&#34;</span>, <span style="color:#a5d6ff">&#34;true or false.&#34;</span>) <span style="color:#ff7b72">do</span> <span style="color:#ff7b72;font-weight:bold">|</span>setting<span style="color:#ff7b72;font-weight:bold">|</span>
</span></span><span style="display:flex;"><span>          <span style="color:#79c0ff;font-weight:bold">Configuration</span><span style="color:#ff7b72;font-weight:bold">.</span>verbose <span style="color:#ff7b72;font-weight:bold">=</span> setting
</span></span><span style="display:flex;"><span>        <span style="color:#ff7b72">end</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        parser<span style="color:#ff7b72;font-weight:bold">.</span>on(<span style="color:#a5d6ff">&#34;--optional [STR]&#34;</span>, <span style="color:#a5d6ff">&#34;This command doesn&#39;t require a string to be passed to it, if&#34;</span>, <span style="color:#a5d6ff">&#34;nothing is passed it will be nil. No error will be raised if&#34;</span>, <span style="color:#a5d6ff">&#34;nothing is passed to it that logic needs to be handled&#34;</span>, <span style="color:#a5d6ff">&#34;yourself.&#34;</span>) <span style="color:#ff7b72">do</span> <span style="color:#ff7b72;font-weight:bold">|</span>setting<span style="color:#ff7b72;font-weight:bold">|</span>
</span></span><span style="display:flex;"><span>          <span style="color:#79c0ff;font-weight:bold">Configuration</span><span style="color:#ff7b72;font-weight:bold">.</span>optional <span style="color:#ff7b72;font-weight:bold">=</span> setting
</span></span><span style="display:flex;"><span>        <span style="color:#ff7b72">end</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        parser<span style="color:#ff7b72;font-weight:bold">.</span>on(<span style="color:#a5d6ff">&#34;-r&#34;</span>, <span style="color:#a5d6ff">&#34;--required STR&#34;</span>, <span style="color:#a5d6ff">&#34;This command requires a string to be passed to it.&#34;</span>) <span style="color:#ff7b72">do</span> <span style="color:#ff7b72;font-weight:bold">|</span>setting<span style="color:#ff7b72;font-weight:bold">|</span>
</span></span><span style="display:flex;"><span>          <span style="color:#79c0ff;font-weight:bold">Configuration</span><span style="color:#ff7b72;font-weight:bold">.</span>required <span style="color:#ff7b72;font-weight:bold">=</span> setting
</span></span><span style="display:flex;"><span>        <span style="color:#ff7b72">end</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        parser<span style="color:#ff7b72;font-weight:bold">.</span>on(<span style="color:#a5d6ff">&#34;--float NUM&#34;</span>, Float, <span style="color:#a5d6ff">&#34;This command will only accept an integer or a float.&#34;</span>) <span style="color:#ff7b72">do</span> <span style="color:#ff7b72;font-weight:bold">|</span>setting<span style="color:#ff7b72;font-weight:bold">|</span>
</span></span><span style="display:flex;"><span>          <span style="color:#79c0ff;font-weight:bold">Configuration</span><span style="color:#ff7b72;font-weight:bold">.</span>float <span style="color:#ff7b72;font-weight:bold">=</span> setting
</span></span><span style="display:flex;"><span>        <span style="color:#ff7b72">end</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        parser<span style="color:#ff7b72;font-weight:bold">.</span>on_tail(<span style="color:#a5d6ff">&#34;-h&#34;</span>, <span style="color:#a5d6ff">&#34;--help&#34;</span>, <span style="color:#a5d6ff">&#34;--usage&#34;</span>, <span style="color:#a5d6ff">&#34;Show this usage message and quit.&#34;</span>) <span style="color:#ff7b72">do</span> <span style="color:#ff7b72;font-weight:bold">|</span>setting<span style="color:#ff7b72;font-weight:bold">|</span>
</span></span><span style="display:flex;"><span>          puts parser<span style="color:#ff7b72;font-weight:bold">.</span>help
</span></span><span style="display:flex;"><span>          exit
</span></span><span style="display:flex;"><span>        <span style="color:#ff7b72">end</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        parser<span style="color:#ff7b72;font-weight:bold">.</span>on_tail(<span style="color:#a5d6ff">&#34;-v&#34;</span>, <span style="color:#a5d6ff">&#34;--version&#34;</span>, <span style="color:#a5d6ff">&#34;Show version information about this program and quit.&#34;</span>) <span style="color:#ff7b72">do</span>
</span></span><span style="display:flex;"><span>          puts <span style="color:#a5d6ff">&#34;Option Parser Example v1.0.0&#34;</span>
</span></span><span style="display:flex;"><span>          exit
</span></span><span style="display:flex;"><span>        <span style="color:#ff7b72">end</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ff7b72">end</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      opts<span style="color:#ff7b72;font-weight:bold">.</span>parse!(args)
</span></span><span style="display:flex;"><span>    <span style="color:#ff7b72">end</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff7b72">end</span>
</span></span><span style="display:flex;"><span><span style="color:#ff7b72">end</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff7b72">if</span> <span style="color:#79c0ff;font-weight:bold">File</span><span style="color:#ff7b72;font-weight:bold">.</span>exists?(<span style="color:#a5d6ff">&#34;config.yml&#34;</span>)
</span></span><span style="display:flex;"><span>  <span style="color:#79c0ff;font-weight:bold">Example</span><span style="color:#ff7b72;font-weight:bold">::</span><span style="color:#79c0ff;font-weight:bold">Configuration</span><span style="color:#ff7b72;font-weight:bold">.</span>load(<span style="color:#a5d6ff">&#34;config.yml&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#ff7b72">end</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#79c0ff;font-weight:bold">Example</span><span style="color:#ff7b72;font-weight:bold">::</span><span style="color:#79c0ff;font-weight:bold">ConfigurationParser</span><span style="color:#ff7b72;font-weight:bold">.</span>parse(<span style="color:#79c0ff;font-weight:bold">ARGV</span>)
</span></span><span style="display:flex;"><span><span style="color:#79c0ff;font-weight:bold">Example</span><span style="color:#ff7b72;font-weight:bold">::</span><span style="color:#79c0ff;font-weight:bold">Configuration</span><span style="color:#ff7b72;font-weight:bold">.</span>validate!
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>require <span style="color:#a5d6ff">&#34;json&#34;</span>
</span></span><span style="display:flex;"><span>puts <span style="color:#79c0ff;font-weight:bold">JSON</span><span style="color:#ff7b72;font-weight:bold">.</span>pretty_generate(<span style="color:#79c0ff;font-weight:bold">Example</span><span style="color:#ff7b72;font-weight:bold">::</span><span style="color:#79c0ff;font-weight:bold">Configuration</span><span style="color:#ff7b72;font-weight:bold">.</span>to_hash)
</span></span></code></pre></div>
            </div>
        </article>

        <hr />

        <div class="post-info">
            
    <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7" y2="7"></line></svg>

        <span class="tag"><a href="https://stelfox.net/tags/development/">development</a></span>
        <span class="tag"><a href="https://stelfox.net/tags/ruby/">ruby</a></span>
        
    </p>

            
  		</div>
    </main>

            </div>

            
                <footer class="footer">
    
    
</footer>

            
        </div>

        



<script type="text/javascript" src="/bundle.min.c90b8161416b87c69a8e02683b54ddd6edb90aea699648bf655e6cbc45b419b8e465d196e715772463dba35a6faf5decb2eb247480d38680484d54645b434570.js" integrity="sha512-yQuBYUFrh8aajgJoO1Td1u25Cupplki/ZV5svEW0GbjkZdGW5xV3JGPbo1pvr13ssuskdIDThoBITVRkW0NFcA=="></script>



    </body>
</html>

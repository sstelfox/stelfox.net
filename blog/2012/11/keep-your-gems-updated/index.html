<!DOCTYPE html>
<html lang='en'><head>
  <meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='description' content='I recently went back through my backups recently and found quite a few old abandoned projects. Looking back on the code I see some things I&rsquo;m impressed with, but the majority of the code I wouldn&rsquo;t write today. That&rsquo;s not to say the code is bad, or doesn&rsquo;t function. It did exactly what I wanted to accomplish at the time, just not necessarily in the most efficient way.
This archive of old code made me start wondering how much old code I&rsquo;m using in the projects that I&rsquo;m currently writing.'>
<meta name='theme-color' content='#ffcd00'>

<meta property='og:title' content='Keep Your Gems Updated • Sam Stelfox&#39;s Thoughts &amp; Notes'>
<meta property='og:description' content='I recently went back through my backups recently and found quite a few old abandoned projects. Looking back on the code I see some things I&rsquo;m impressed with, but the majority of the code I wouldn&rsquo;t write today. That&rsquo;s not to say the code is bad, or doesn&rsquo;t function. It did exactly what I wanted to accomplish at the time, just not necessarily in the most efficient way.
This archive of old code made me start wondering how much old code I&rsquo;m using in the projects that I&rsquo;m currently writing.'>
<meta property='og:url' content='https://stelfox.net/blog/2012/11/keep-your-gems-updated/'>
<meta property='og:site_name' content='Sam Stelfox&#39;s Thoughts &amp; Notes'>
<meta property='og:type' content='article'><meta property='article:section' content='blog'><meta property='article:tag' content='ruby'><meta property='article:tag' content='security'><meta property='article:published_time' content='2012-11-27T14:17:00-05:00'/><meta property='article:modified_time' content='2012-11-27T14:17:00-05:00'/><meta name='twitter:card' content='summary'>

<meta name="generator" content="Hugo 0.50-DEV" />

  <title>Keep Your Gems Updated • Sam Stelfox&#39;s Thoughts &amp; Notes</title>
  <link rel='canonical' href='https://stelfox.net/blog/2012/11/keep-your-gems-updated/'>
  
  
  <link rel='icon' href='/favicon.ico'>
<link rel='stylesheet' href='/assets/css/main.dd2efce5.css'><style>
:root{--color-accent:#ffcd00;}
</style>

<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-32188490-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

  

</head>
<body class='page type-blog'>

  <div class='site'><a class='screen-reader-text' href='#content'>Skip to Content</a><div class='main'><nav id='main-menu' class='menu main-menu' aria-label='Main Menu'>
  <div class='container'>
    
    <ul><li class='item'>
        <a href='/'>Home</a>
      </li><li class='item'>
        <a href='/about/'>About</a>
      </li><li class='item'>
        <a href='/blog/'>Blog Posts</a>
      </li><li class='item'>
        <a href='/notes/'>Various Notes</a>
      </li></ul>
  </div>
</nav><div class='header-widgets'>
        <div class='container'></div>
      </div>

      <header id='header' class='header site-header'>
        <div class='container sep-after'>
          <div class='header-info'><p class='site-title title'>Sam Stelfox&#39;s Thoughts &amp; Notes</p><p class='desc site-desc'>Thoughts from a software engineer, systems architect and Linux gubernāre.</p>
          </div>
        </div>
      </header>

      <main id='content'>


<article lang='en' class='entry'>
  <header class='header entry-header'>
  <div class='container sep-after'>
    <div class='header-info'>
      <h1 class='title'>Keep Your Gems Updated</h1>
      

    </div>
    <div class='entry-meta'>
  <span class='posted-on'><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
  <line x1="16" y1="2" x2="16" y2="6"/>
  <line x1="8" y1="2" x2="8" y2="6"/>
  <line x1="3" y1="10" x2="21" y2="10"/>
  
</svg>
<span class='screen-reader-text'>Posted on </span>
  <time class='entry-date' datetime='2012-11-27T14:17:00-05:00'>2012, Nov 27</time>
</span>

  
  
<span class='reading-time'><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <circle cx="12" cy="12" r="10"/>
  <polyline points="12 6 12 12 15 15"/>
  
</svg>
3 mins read
</span>


</div>


  </div>
</header>

  
  

  <div class='container entry-content'>
  <p>I recently went back through my backups recently and found quite a few old
abandoned projects. Looking back on the code I see some things I&rsquo;m impressed
with, but the majority of the code I wouldn&rsquo;t write today. That&rsquo;s not to say
the code is bad, or doesn&rsquo;t function. It did exactly what I wanted to
accomplish at the time, just not necessarily in the most efficient way.</p>

<p>This archive of old code made me start wondering how much old code I&rsquo;m using in
the projects that I&rsquo;m currently writing. Not code that I&rsquo;ve written but code
that I&rsquo;m depending on, specifically gems. As of this writing I have 26 active
ruby projects in various states of development all of which make use of RVM and
<code>bundler</code>.</p>

<p>Conveniently enough, <code>bundler</code> provides an easy way to update all the gems
installed in a project unless specific version information was provided in the
<code>Gemfile</code>. None of my projects have had a version directly specified in the
<code>Gemfile</code> with the exception of Rails. Each project also has solid test
coverage (though I must admit it&rsquo;s usually not complete).</p>

<p>For each project I went through and ran <code>bundle update</code> and kept track of the
results. I did not keep track of unique gems so the four Rails projects
probably had a lot of duplicate gems each one more or less likely to have
different versions of different gems installed depending on when I started the
project.</p>

<p>Across all of the different projects I had 2214 gems installed. Of those 813
had updates. My initial plan was to go through the updates and see how many of
those updates were security or bug fixes, how many were added features, or
performance improvements, but I wasn&rsquo;t counting on the shear number of gems
that my projects were depending on.</p>

<p>The big question for myself after I updated the Gems was how much will this be
now? Running through the thousands of tests in all of the projects I had
exactly 7 tests that were now failing and they were all due too projects that
removed or renamed a piece of functionality that I was making use of. In one
case I had to extend the core Hash method to replace the functionality. All in
all it took me about a quarter of an hour to fix all the tests after updating
my Gems.</p>

<p>Since I didn&rsquo;t actually go through all of the gems I don&rsquo;t know for sure that
my projects are in anyway more secure, faster, or more stable but I can&rsquo;t
imagine they&rsquo;re in a worse state. If you have test coverage on your projects
you should try and update the gems and see for yourself.</p>

</div>

  
<footer class='entry-footer'>
  <div class='container sep-before'><div class='tags'><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <path d="M20.59,13.41l-7.17,7.17a2,2,0,0,1-2.83,0L2,12V2H12l8.59,8.59A2,2,0,0,1,20.59,13.41Z"/>
  <line x1="7" y1="7" x2="7" y2="7"/>
  
</svg>
<span class='screen-reader-text'>Tags: </span><a class='tag' href='/tags/ruby/'>ruby</a>, <a class='tag' href='/tags/security/'>security</a></div>

  </div>
</footer>


</article>

<nav class='entry-nav'>
  <div class='container'><div class='prev-entry sep-before'>
      <a href='/blog/2012/11/auditing-heroku-ssh-keys/'>
        <span aria-hidden='true'><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <line x1="20" y1="12" x2="4" y2="12"/>
  <polyline points="10 18 4 12 10 6"/>
  
</svg>
 Previous</span>
        <span class='screen-reader-text'>Previous post: </span>Auditing Heroku SSH Keys</a>
    </div><div class='next-entry sep-before'>
      <a href='/blog/2012/12/rubys-option-parser-a-more-complete-example/'>
        <span class='screen-reader-text'>Next post: </span>Ruby&#39;s Option Parser - a More Complete Example<span aria-hidden='true'>Next <svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <line x1="4" y1="12" x2="20" y2="12"/>
  <polyline points="14 6 20 12 14 18"/>
  
</svg>
</span>
      </a>
    </div></div>
</nav>




      </main>

      <footer id='footer' class='footer'>
        <div class='container sep-before'><div class='copyright'>
  <p> &copy; 2011-2019 Sam Stelfox | <a rel='license' href='/licenses/'>Licensing</a></p>
</div>

        </div>
      </footer>

    </div>
  </div><script>window.__public_path__='\/assets\/js\/'</script>

<script src='/assets/js/main.00df04b7.js'></script>

</body>

</html>


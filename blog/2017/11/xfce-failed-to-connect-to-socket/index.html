<!doctype html><html lang=en><head><meta charset=UTF-8><meta http-equiv=X-UA-Compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=author content><meta name=description content="While trying to build up a minimal Gentoo graphical environment I kept running into an error every time I logged into XFCE from lightdm (I didn't try starting up XFCE any other way). There are tons of blog posts that relate to systemd, ubuntu, or crouton but none related to Gentoo.
The first error message that pops up is:
1 2 3 Unable to contact settings server Failed to connect to socket /tmp/dbus-xxxxxxxxx: Connection refused Once you click through there was a second error message, but I believe it was due to the previous error and not actually an issue:"><meta name=keywords content="blog,programming,linux,systems,personal,rust,philosophy,gentoo,linux,xfce"><meta name=robots content="noodp"><meta name=theme-color content><link rel=canonical href=https://stelfox.net/blog/2017/11/xfce-failed-to-connect-to-socket/><title>XFCE Failed to Connect to Socket :: ./Sam_Stelfox.sh â€” A simple place for my collected thoughts and notes.
</title><link rel=stylesheet href=/main.949191c1dcc9c4a887997048b240354e47152016d821198f89448496ba42e491.css integrity="sha256-lJGRwdzJxKiHmXBIskA1TkcVIBbYIRmPiUSElrpC5JE="><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><link rel="shortcut icon" href=/favicon.ico><meta itemprop=name content="XFCE Failed to Connect to Socket"><meta itemprop=description content="While trying to build up a minimal Gentoo graphical environment I kept running into an error every time I logged into XFCE from lightdm (I didn't try starting up XFCE any other way). There are tons of blog posts that relate to systemd, ubuntu, or crouton but none related to Gentoo.
The first error message that pops up is:
1 2 3 Unable to contact settings server Failed to connect to socket /tmp/dbus-xxxxxxxxx: Connection refused Once you click through there was a second error message, but I believe it was due to the previous error and not actually an issue:"><meta itemprop=datePublished content="2017-11-27T17:23:09+05:00"><meta itemprop=dateModified content="2017-11-27T17:23:09+05:00"><meta itemprop=wordCount content="180"><meta itemprop=keywords content="Gentoo,Linux,Xfce"><meta name=twitter:card content="summary"><meta name=twitter:title content="XFCE Failed to Connect to Socket"><meta name=twitter:description content="While trying to build up a minimal Gentoo graphical environment I kept running into an error every time I logged into XFCE from lightdm (I didn't try starting up XFCE any other way). There are tons of blog posts that relate to systemd, ubuntu, or crouton but none related to Gentoo.
The first error message that pops up is:
1 2 3 Unable to contact settings server Failed to connect to socket /tmp/dbus-xxxxxxxxx: Connection refused Once you click through there was a second error message, but I believe it was due to the previous error and not actually an issue:"><meta property="article:published_time" content="2017-11-27 17:23:09 +0500 +0500"></head><body><div class=container><header class=header><span class=header__inner><a href=/ style=text-decoration:none><div class=logo><span class=logo__mark>></span>
<span class=logo__text>./Sam_Stelfox.sh</span>
<span class=logo__cursor></span></div></a><span class=header__right><nav class=menu><ul class=menu__inner><li><a href=/about/>About</a></li><li><a href=/notes/>Notes</a></li><li><a href=/blog/>Posts</a></li></ul></nav><span class=menu-trigger><svg viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg></span></span></span></header><div class=content><main class=post><div class=post-info></p></div><article><h2 class=post-title><a href=https://stelfox.net/blog/2017/11/xfce-failed-to-connect-to-socket/>XFCE Failed to Connect to Socket</a></h2><div class=post-content><p>While trying to build up a minimal Gentoo graphical environment I kept running into an error every time I logged into XFCE from lightdm (I didn't try starting up XFCE any other way). There are tons of blog posts that relate to systemd, ubuntu, or crouton but none related to Gentoo.</p><p>The first error message that pops up is:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-0-1><a class=lnlinks href=#hl-0-1>1</a>
</span><span class=lnt id=hl-0-2><a class=lnlinks href=#hl-0-2>2</a>
</span><span class=lnt id=hl-0-3><a class=lnlinks href=#hl-0-3>3</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>Unable to contact settings server
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Failed to connect to socket /tmp/dbus-xxxxxxxxx: Connection refused
</span></span></code></pre></td></tr></table></div></div><p>Once you click through there was a second error message, but I believe it was due to the previous error and not actually an issue:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-1-1><a class=lnlinks href=#hl-1-1>1</a>
</span><span class=lnt id=hl-1-2><a class=lnlinks href=#hl-1-2>2</a>
</span><span class=lnt id=hl-1-3><a class=lnlinks href=#hl-1-3>3</a>
</span><span class=lnt id=hl-1-4><a class=lnlinks href=#hl-1-4>4</a>
</span><span class=lnt id=hl-1-5><a class=lnlinks href=#hl-1-5>5</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>Unable to load a failsafe session
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Unable to determine failsafe session name. Possible causes: xfconfd isn&#39;t
</span></span><span class=line><span class=cl>running (D-Bus setup problem), environment variable $XDG_CONFIG_DIRS is set
</span></span><span class=line><span class=cl>incorrectly (must include &#34;/etc&#34;), or xfce4-session is installed incorrectly.
</span></span></code></pre></td></tr></table></div></div><p>Where the x's are replaced with a random string. My issue ultimately was dbus not being compiled with the 'X' use flag. Adding that flag to "sys-apps/dbus" and re-emerging with the new flags got me to a clean desktop. Great success.</p></div></article><hr><div class=post-info><p><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon"><path d="M20.59 13.41l-7.17 7.17a2 2 0 01-2.83.0L2 12V2h10l8.59 8.59a2 2 0 010 2.82z"/><line x1="7" y1="7" x2="7" y2="7"/></svg>
<span class=tag><a href=https://stelfox.net/tags/gentoo/>gentoo</a></span>
<span class=tag><a href=https://stelfox.net/tags/linux/>linux</a></span>
<span class=tag><a href=https://stelfox.net/tags/xfce/>xfce</a></span></p><p><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-git-commit"><circle cx="12" cy="12" r="4"/><line x1="1.05" y1="12" x2="7" y2="12"/><line x1="17.01" y1="12" x2="22.96" y2="12"/></svg><a href=bd9e1ab3269fdee0856f80854c902432ef10f201 target=_blank rel=noopener>bd9e1ab3</a> @ 2024-07-14</p></div></main></div><footer class=footer></footer></div><script type=text/javascript src=/bundle.min.e89fda0f29b95d33f6f4224dd9e5cf69d84aff3818be2b0d73e731689cc374261b016d17d46f8381962fb4a1577ba3017b1f23509d894f6e66431f988c00889e.js integrity="sha512-6J/aDym5XTP29CJN2eXPadhK/zgYvisNc+cxaJzDdCYbAW0X1G+DgZYvtKFXe6MBex8jUJ2JT25mQx+YjACIng=="></script></body></html>
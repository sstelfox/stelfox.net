<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="author" content="sam@stelfox.net Sam Stelfox ">
<meta name="description" content="While trying to build up a minimal Gentoo graphical environment I kept running into an error every time I logged into XFCE from lightdm (I didn&amp;rsquo;t try starting up XFCE any other way). There are tons of blog posts that relate to systemd, ubuntu, or crouton but none related to Gentoo.
The first error message that pops up is:
Unable to contact settings server Failed to connect to socket /tmp/dbus-xxxxxxxxx: Connection refused Once you click through there was a second error message, but I believe it was due to the previous error and not actually an issue:" />
<meta name="keywords" content="blog, programming, linux, systems, personal, linux, gentoo, xfce" />
<meta name="robots" content="noodp" />
<meta name="theme-color" content="" />
<link rel="canonical" href="https://stelfox.net/blog/2017/11/xfce-failed-to-connect-to-socket/" />


    <title>
        
            XFCE Failed to Connect to Socket :: Sam Stelfox 
        
    </title>




<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.5.0/css/flag-icon.min.css" integrity="sha512-Cv93isQdFwaKBV+Z4X8kaVBYWHST58Xb/jVOcV9aRsGSArZsgAnFIhMpDoMDcFNoUtday1hdjn0nGp3+KZyyFw==" crossorigin="anonymous" referrerpolicy="no-referrer" />



<link rel="stylesheet" href="/main.2a064c455b0ecbd6b1481b3bf9df2441e95838691022f40a5338c2cb1244f075.css" integrity="sha256-KgZMRVsOy9axSBs7&#43;d8kQelYOGkQIvQKUzjCyxJE8HU=">



    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="">
    <link rel="shortcut icon" href="/favicon.ico">
    <meta name="msapplication-TileColor" content="">


<meta itemprop="name" content="XFCE Failed to Connect to Socket">
<meta itemprop="description" content="While trying to build up a minimal Gentoo graphical environment I kept running into an error every time I logged into XFCE from lightdm (I didn&rsquo;t try starting up XFCE any other way). There are tons of blog posts that relate to systemd, ubuntu, or crouton but none related to Gentoo.
The first error message that pops up is:
Unable to contact settings server Failed to connect to socket /tmp/dbus-xxxxxxxxx: Connection refused Once you click through there was a second error message, but I believe it was due to the previous error and not actually an issue:"><meta itemprop="datePublished" content="2017-11-27T17:23:09+05:00" />
<meta itemprop="dateModified" content="2017-11-27T17:23:09+05:00" />
<meta itemprop="wordCount" content="172">
<meta itemprop="keywords" content="linux,gentoo,xfce," />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="XFCE Failed to Connect to Socket"/>
<meta name="twitter:description" content="While trying to build up a minimal Gentoo graphical environment I kept running into an error every time I logged into XFCE from lightdm (I didn&rsquo;t try starting up XFCE any other way). There are tons of blog posts that relate to systemd, ubuntu, or crouton but none related to Gentoo.
The first error message that pops up is:
Unable to contact settings server Failed to connect to socket /tmp/dbus-xxxxxxxxx: Connection refused Once you click through there was a second error message, but I believe it was due to the previous error and not actually an issue:"/>



    <meta property="og:title" content="XFCE Failed to Connect to Socket" />
<meta property="og:description" content="While trying to build up a minimal Gentoo graphical environment I kept running into an error every time I logged into XFCE from lightdm (I didn&rsquo;t try starting up XFCE any other way). There are tons of blog posts that relate to systemd, ubuntu, or crouton but none related to Gentoo.
The first error message that pops up is:
Unable to contact settings server Failed to connect to socket /tmp/dbus-xxxxxxxxx: Connection refused Once you click through there was a second error message, but I believe it was due to the previous error and not actually an issue:" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://stelfox.net/blog/2017/11/xfce-failed-to-connect-to-socket/" /><meta property="article:section" content="blog" />
<meta property="article:published_time" content="2017-11-27T17:23:09+05:00" />
<meta property="article:modified_time" content="2017-11-27T17:23:09+05:00" />






    <meta property="article:published_time" content="2017-11-27 17:23:09 &#43;0500 &#43;0500" />










    </head>

    
        <body>
    
    
        <div class="container">
            <header class="header">
    <span class="header__inner">
        <a href="/" style="text-decoration: none;">
    <div class="logo">
        
            <span class="logo__mark">></span>
            <span class="logo__text ">
                ./Sam_Stelfox.sh</span>
            <span class="logo__cursor" style=
                  "
                   
                   ">
            </span>
        
    </div>
</a>


        <span class="header__right">
            
                <nav class="menu">
    <ul class="menu__inner"><li><a href="/about/">About</a></li><li><a href="/blog/">Blog Posts</a></li><li><a href="/notes/">Various Notes</a></li>
    </ul>
</nav>

                <span class="menu-trigger">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M0 0h24v24H0z" fill="none"/>
                        <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
                    </svg>
                </span>
            
        </span>
    </span>
</header>


            <div class="content">
                
    <main class="post">

        <div class="post-info">
            
            </p>
        </div>

        <article>
            <h2 class="post-title"><a href="https://stelfox.net/blog/2017/11/xfce-failed-to-connect-to-socket/">XFCE Failed to Connect to Socket</a></h2>

            
            
            

            <div class="post-content">
                <p>While trying to build up a minimal Gentoo graphical environment I kept running
into an error every time I logged into XFCE from lightdm (I didn&rsquo;t try starting
up XFCE any other way). There are tons of blog posts that relate to systemd,
ubuntu, or crouton but none related to Gentoo.</p>
<p>The first error message that pops up is:</p>
<div class="highlight"><pre tabindex="0" style="color:#c9d1d9;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>Unable to contact settings server
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Failed to connect to socket /tmp/dbus-xxxxxxxxx: Connection refused
</span></span></code></pre></div><p>Once you click through there was a second error message, but I believe it was
due to the previous error and not actually an issue:</p>
<div class="highlight"><pre tabindex="0" style="color:#c9d1d9;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>Unable to load a failsafe session
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Unable to determine failsafe session name. Possible causes: xfconfd isn&#39;t
</span></span><span style="display:flex;"><span>running (D-Bus setup problem), environment variable $XDG_CONFIG_DIRS is set
</span></span><span style="display:flex;"><span>incorrectly (must include &#34;/etc&#34;), or xfce4-session is installed incorrectly.
</span></span></code></pre></div><p>Where the x&rsquo;s are replaced with a random string. My issue ultimately was dbus
not being compiled with the &lsquo;X&rsquo; use flag. Adding that flag to &lsquo;sys-apps/dbus&rsquo;
and re-emerging with the new flags got me to a clean desktop. Great success.</p>

            </div>
        </article>

        <hr />

        <div class="post-info">
            
    <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7" y2="7"></line></svg>

        <span class="tag"><a href="https://stelfox.net/tags/linux/">linux</a></span>
        <span class="tag"><a href="https://stelfox.net/tags/gentoo/">gentoo</a></span>
        <span class="tag"><a href="https://stelfox.net/tags/xfce/">xfce</a></span>
        
    </p>

            
  		</div>
    </main>

            </div>

            
                <footer class="footer">
    
    
</footer>

            
        </div>

        



<script type="text/javascript" src="/bundle.min.c90b8161416b87c69a8e02683b54ddd6edb90aea699648bf655e6cbc45b419b8e465d196e715772463dba35a6faf5decb2eb247480d38680484d54645b434570.js" integrity="sha512-yQuBYUFrh8aajgJoO1Td1u25Cupplki/ZV5svEW0GbjkZdGW5xV3JGPbo1pvr13ssuskdIDThoBITVRkW0NFcA=="></script>



    </body>
</html>

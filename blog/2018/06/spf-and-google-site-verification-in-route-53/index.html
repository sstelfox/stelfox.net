<!doctype html><html lang=en><head><meta charset=UTF-8><meta http-equiv=X-UA-Compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=author content><meta name=description content="Route53 doesn&amp;rsquo;t allow multiple definitions of the same name/type pair of DNS entries which is quite a headache. This is the first time I&amp;rsquo;ve had a conflict of a TXT record in Route53 at the base, specifically both Google&amp;rsquo;s site verification, and SPF records both want to live at the root of the domain. The site verification record needs to stay around as Google periodically re-verifies the domain.
To get this to work you need to quote both the Google verification string and the SPF record, but you also have to ensure that there is a newline in the field."><meta name=keywords content="blog,programming,linux,systems,personal,rust,philosophy,aws,cloud,dns,tips"><meta name=robots content="noodp"><meta name=theme-color content><link rel=canonical href=https://stelfox.net/blog/2018/06/spf-and-google-site-verification-in-route-53/><title>SPF and Google Site Verification in Route 53 :: Sam Stelfox — A simple place for my collected thoughts and notes.
</title><link rel=stylesheet href=/main.c8c76086c15b9d686ec1778dcf935d2ad37f3bb9c23165d2bd157ba7b18e5aec.css integrity="sha256-yMdghsFbnWhuwXeNz5NdKtN/O7nCMWXSvRV7p7GOWuw="><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/safari-pinned-tab.svg color><link rel="shortcut icon" href=/favicon.ico><meta name=msapplication-TileColor content><meta itemprop=name content="SPF and Google Site Verification in Route 53"><meta itemprop=description content="Route53 doesn’t allow multiple definitions of the same name/type pair of DNS entries which is quite a headache. This is the first time I’ve had a conflict of a TXT record in Route53 at the base, specifically both Google’s site verification, and SPF records both want to live at the root of the domain. The site verification record needs to stay around as Google periodically re-verifies the domain.
To get this to work you need to quote both the Google verification string and the SPF record, but you also have to ensure that there is a newline in the field."><meta itemprop=datePublished content="2018-06-14T11:36:09-06:00"><meta itemprop=dateModified content="2018-06-14T11:36:09-06:00"><meta itemprop=wordCount content="128"><meta itemprop=keywords content="Aws,Cloud,Dns,Tips"><meta name=twitter:card content="summary"><meta name=twitter:title content="SPF and Google Site Verification in Route 53"><meta name=twitter:description content="Route53 doesn’t allow multiple definitions of the same name/type pair of DNS entries which is quite a headache. This is the first time I’ve had a conflict of a TXT record in Route53 at the base, specifically both Google’s site verification, and SPF records both want to live at the root of the domain. The site verification record needs to stay around as Google periodically re-verifies the domain.
To get this to work you need to quote both the Google verification string and the SPF record, but you also have to ensure that there is a newline in the field."><meta property="article:published_time" content="2018-06-14 11:36:09 -0600 -0600"></head><body><div class=container><header class=header><span class=header__inner><a href=/ style=text-decoration:none><div class=logo><span class=logo__mark>></span>
<span class=logo__text>./Sam_Stelfox.sh</span>
<span class=logo__cursor></span></div></a><span class=header__right><nav class=menu><ul class=menu__inner><li><a href=/blog/>Posts</a></li><li><a href=/notes/>Notes</a></li><li><a href=/about/>About Me</a></li></ul></nav><span class=menu-trigger><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg></span></span></span></header><div class=content><main class=post><div class=post-info></p></div><article><h2 class=post-title><a href=https://stelfox.net/blog/2018/06/spf-and-google-site-verification-in-route-53/>SPF and Google Site Verification in Route 53</a></h2><div class=post-content><p>Route53 doesn&rsquo;t allow multiple definitions of the same name/type pair of DNS entries which is quite a headache. This is the first time I&rsquo;ve had a conflict of a TXT record in Route53 at the base, specifically both Google&rsquo;s site verification, and SPF records both want to live at the root of the domain. The site verification record needs to stay around as Google periodically re-verifies the domain.</p><p>To get this to work you need to quote both the Google verification string and the SPF record, but you also have to ensure that there is a newline in the field. The contents of the entry should look something like this:</p><div class=highlight><div style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-e9d0742-1><a style=outline:none;text-decoration:none;color:inherit href=#code-e9d0742-1>1</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-e9d0742-2><a style=outline:none;text-decoration:none;color:inherit href=#code-e9d0742-2>2</a>
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>&#34;google-site-verification=&lt;auth string&gt;&#34;
</span></span><span style=display:flex><span>&#34;v=spf1 include:_spf.google.com ~all&#34;</span></span></code></pre></td></tr></table></div></div><p>You can use <a href=https://toolbox.googleapps.com/apps/checkmx/check>Google&rsquo;s MX Toolbox</a> to verify the SPF record.</p></div></article><hr><div class=post-info><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon"><path d="M20.59 13.41l-7.17 7.17a2 2 0 01-2.83.0L2 12V2h10l8.59 8.59a2 2 0 010 2.82z"/><line x1="7" y1="7" x2="7" y2="7"/></svg>
<span class=tag><a href=https://stelfox.net/tags/aws/>aws</a></span>
<span class=tag><a href=https://stelfox.net/tags/cloud/>cloud</a></span>
<span class=tag><a href=https://stelfox.net/tags/dns/>dns</a></span>
<span class=tag><a href=https://stelfox.net/tags/tips/>tips</a></span></p><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-git-commit"><circle cx="12" cy="12" r="4"/><line x1="1.05" y1="12" x2="7" y2="12"/><line x1="17.01" y1="12" x2="22.96" y2="12"/></svg><a href=711e08f5c5f992fdbfe31175065122093c0ad81b target=_blank rel=noopener>711e08f5</a> @ 2024-07-14</p></div></main></div><footer class=footer></footer></div><script type=text/javascript src=/bundle.min.85fad2de4f13fec3bcb3b3cb10430cdb44a7b4a9749b32938241a5c6e77718df7624f1002b880521fdc26e24ec1077fda214bf1cb36ee3045510760d09638cae.js integrity="sha512-hfrS3k8T/sO8s7PLEEMM20SntKl0mzKTgkGlxud3GN92JPEAK4gFIf3CbiTsEHf9ohS/HLNu4wRVEHYNCWOMrg=="></script></body></html>
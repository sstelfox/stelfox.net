<!DOCTYPE html>
<html lang='en'><head>
  <meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='description' content='I just received my Dell PowerEdge C6100 and found it&rsquo;s software quite a bit outdated. After searching around quite a bit I found the resources lacking for explaining how to perform these updates. So in this post I&rsquo;m going to quickly cover updating the BMC firmware on each blade.
The system I received had four different versions of the BMC software installed, additionally Two were branded as MegaRAC and the others branded as Dell.'>
<meta name='theme-color' content='#ffcd00'>

<meta property='og:title' content='Updating BMC on Dell PowerEdge C6100 • Sam Stelfox&#39;s Thoughts &amp; Notes'>
<meta property='og:description' content='I just received my Dell PowerEdge C6100 and found it&rsquo;s software quite a bit outdated. After searching around quite a bit I found the resources lacking for explaining how to perform these updates. So in this post I&rsquo;m going to quickly cover updating the BMC firmware on each blade.
The system I received had four different versions of the BMC software installed, additionally Two were branded as MegaRAC and the others branded as Dell.'>
<meta property='og:url' content='https://stelfox.net/blog/2013/12/updating-bmc-on-dell-poweredge-c6100/'>
<meta property='og:site_name' content='Sam Stelfox&#39;s Thoughts &amp; Notes'>
<meta property='og:type' content='article'><meta property='article:section' content='blog'><meta property='article:tag' content='servers'><meta property='article:tag' content='tips'><meta property='article:published_time' content='2013-12-16T21:26:13-05:00'/><meta property='article:modified_time' content='2013-12-16T21:26:13-05:00'/><meta name='twitter:card' content='summary'>

<meta name="generator" content="Hugo 0.51-DEV" />

  <title>Updating BMC on Dell PowerEdge C6100 • Sam Stelfox&#39;s Thoughts &amp; Notes</title>
  <link rel='canonical' href='https://stelfox.net/blog/2013/12/updating-bmc-on-dell-poweredge-c6100/'>
  
  
  <link rel='icon' href='/favicon.ico'>
<link rel='stylesheet' href='/assets/css/main.4a10984a.css'><style>
:root{--color-accent:#ffcd00;}
</style>

<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-32188490-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

  

</head>
<body class='page type-blog'>

  <div class='site'><a class='screen-reader-text' href='#content'>Skip to Content</a><div class='main'><nav id='main-menu' class='menu main-menu' aria-label='Main Menu'>
  <div class='container'>
    
    <ul><li class='item'>
        <a href='/'>Home</a>
      </li><li class='item'>
        <a href='/about/'>About</a>
      </li><li class='item'>
        <a href='/blog/'>Blog Posts</a>
      </li><li class='item'>
        <a href='/notes/'>Various Notes</a>
      </li></ul>
  </div>
</nav><div class='header-widgets'>
        <div class='container'></div>
      </div>

      <header id='header' class='header site-header'>
        <div class='container sep-after'>
          <div class='header-info'><p class='site-title title'>Sam Stelfox&#39;s Thoughts &amp; Notes</p><p class='desc site-desc'>Thoughts from a software engineer, systems architect and Linux gubernāre.</p>
          </div>
        </div>
      </header>

      <main id='content'>


<article lang='en' class='entry'>
  <header class='header entry-header'>
  <div class='container sep-after'>
    <div class='header-info'>
      <h1 class='title'>Updating BMC on Dell PowerEdge C6100</h1>
      

    </div>
    <div class='entry-meta'>
  <span class='posted-on'><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
  <line x1="16" y1="2" x2="16" y2="6"/>
  <line x1="8" y1="2" x2="8" y2="6"/>
  <line x1="3" y1="10" x2="21" y2="10"/>
  
</svg>
<span class='screen-reader-text'>Posted on </span>
  <time class='entry-date' datetime='2013-12-16T21:26:13-05:00'>2013, Dec 16</time>
</span>

  
  
<span class='reading-time'><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <circle cx="12" cy="12" r="10"/>
  <polyline points="12 6 12 12 15 15"/>
  
</svg>
3 mins read
</span>


</div>


  </div>
</header>

  
  

  <div class='container entry-content'>
  <p>I just received my Dell PowerEdge C6100 and found it&rsquo;s software quite a bit
outdated. After searching around quite a bit I found the resources lacking for
explaining how to perform these updates. So in this post I&rsquo;m going to quickly
cover updating the BMC firmware on each blade.</p>

<p>The system I received had four different versions of the BMC software
installed, additionally Two were branded as MegaRAC and the others branded as
Dell. This update didn&rsquo;t fix the branding (and I&rsquo;d love to remove the Dell
branding as it&rsquo;s kind of annoying) it did, however, fix a number of other
issues that I was experiencing such as:</p>

<ol>
<li>Console Redirection failing to connect</li>
<li>BMC losing it&rsquo;s network connection after a couple of minutes</li>
<li>Slow responses, with occasional failures to load pages</li>
<li>Remote IPMI tools being unable to read sensors status</li>
</ol>

<p>The first step is too download the latest version of of the BMC software from
<a href="https://support.dell.com/">Dell&rsquo;s support site</a> (I&rsquo;ve also taken the liberty of <a href="http://static.stelfox.net/files/PEC6100BMC130.exe">hosting a copy
myself</a>). I recommend you go through the process of entering the service tag
of each of the blades and make sure that Dell recognizes them as existing even
if they&rsquo;re out of support.</p>

<p>There has been mention of versions of these blades that had custom
modifications for DCS and any attempts to modify the BIOS or BMC will likely
cause you to end up bricking the remote management board or the motherboard.</p>

<p>Even with the regular board there is always a risk of bricking it, though
firmware updates have gotten a lot more reliable and I haven&rsquo;t experienced an
incorrectly flashed motherboard in years. You&rsquo;ve been warned.</p>

<p>The BMC was fairly straight forward. I installed the 64-bit version of Fedora
19 on a thumb drive, downloaded version 1.30 of the BMC software (get the file
named <code>PEC6100BMC130.exe</code>). The file itself is a self-extracting zip archive
which can be extracted using the regular unzip utility.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">unzip PEC6100BMC130.exe</code></pre></div>
<p>Inside you&rsquo;ll find two folders, KCSFlash and SOCFlash should both be put on the
live drive within the KCSFlash. You&rsquo;ll need to set the execute bit on the
contents of the linux directory and the linux.sh file. You&rsquo;ll also need to
install the <code>glibc.i686</code> package. Afterwards it&rsquo;s as simple as booting each
chassis off the drive and as root run the linux.sh script.</p>

<p>If the KCSFlash fails, the SOCFlash will more likely than not work but it is
slightly more dangerous. If you need it mark the <code>linux/flash8.sh</code>,
<code>linux/socflash</code>, and <code>linux/socflash_x64</code> as executable in the SOCFlash folder
and run the flash8.sh script.</p>

<p>After that you&rsquo;re going to want to reboot into the BIOS and ensure the IPMI
ethernet port is set to dedicated, as this switched it back to &ldquo;Shared&rdquo; on me.</p>

</div>

  
<footer class='entry-footer'>
  <div class='container sep-before'><div class='tags'><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <path d="M20.59,13.41l-7.17,7.17a2,2,0,0,1-2.83,0L2,12V2H12l8.59,8.59A2,2,0,0,1,20.59,13.41Z"/>
  <line x1="7" y1="7" x2="7" y2="7"/>
  
</svg>
<span class='screen-reader-text'>Tags: </span><a class='tag' href='/tags/servers/'>servers</a>, <a class='tag' href='/tags/tips/'>tips</a></div>

  </div>
</footer>


</article>

<nav class='entry-nav'>
  <div class='container'><div class='prev-entry sep-before'>
      <a href='/blog/2013/12/updating-the-bios-on-dell-poweredge-c6100/'>
        <span aria-hidden='true'><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <line x1="20" y1="12" x2="4" y2="12"/>
  <polyline points="10 18 4 12 10 6"/>
  
</svg>
 Previous</span>
        <span class='screen-reader-text'>Previous post: </span>Updating the BIOS on Dell PowerEdge C6100</a>
    </div><div class='next-entry sep-before'>
      <a href='/blog/2013/12/playing-with-the-linux-bluetooth-stack/'>
        <span class='screen-reader-text'>Next post: </span>Playing With the Linux Bluetooth Stack<span aria-hidden='true'>Next <svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <line x1="4" y1="12" x2="20" y2="12"/>
  <polyline points="14 6 20 12 14 18"/>
  
</svg>
</span>
      </a>
    </div></div>
</nav>




      </main>

      <footer id='footer' class='footer'>
        <div class='container sep-before'><div class='copyright'>
  <p> &copy; 2011-2019 Sam Stelfox | <a rel='license' href='/licenses/'>Licensing</a></p>
</div>

        </div>
      </footer>

    </div>
  </div><script>window.__public_path__='\/assets\/js\/'</script>

<script src='/assets/js/main.fae8ed32.js'></script>

</body>

</html>


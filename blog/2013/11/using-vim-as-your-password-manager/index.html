<!DOCTYPE html>
<html lang='en'><head>
  <meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='description' content='There are all kinds of password managers out there. Everything from web services that are quite solid and respectable, to native desktop apps.
A lot of these are simply too heavy for me, involve installing software on a computer to access in addition to sharing the file around, or required you to remember multiple account details before you could get access to any individual password.
Due too the various complexities and lack of matching use cases a couple years ago I set out to develop my own open-source version of PassPack.'>
<meta name='theme-color' content='#ffcd00'>

<meta property='og:title' content='Using VIM as Your Password Manager • Sam Stelfox&#39;s Thoughts &amp; Notes'>
<meta property='og:description' content='There are all kinds of password managers out there. Everything from web services that are quite solid and respectable, to native desktop apps.
A lot of these are simply too heavy for me, involve installing software on a computer to access in addition to sharing the file around, or required you to remember multiple account details before you could get access to any individual password.
Due too the various complexities and lack of matching use cases a couple years ago I set out to develop my own open-source version of PassPack.'>
<meta property='og:url' content='https://stelfox.net/blog/2013/11/using-vim-as-your-password-manager/'>
<meta property='og:site_name' content='Sam Stelfox&#39;s Thoughts &amp; Notes'>
<meta property='og:type' content='article'><meta property='article:section' content='blog'><meta property='article:tag' content='linux'><meta property='article:tag' content='security'><meta property='article:published_time' content='2013-11-25T15:10:46-05:00'/><meta property='article:modified_time' content='2013-11-25T15:10:46-05:00'/><meta name='twitter:card' content='summary'>

<meta name="generator" content="Hugo 0.61.0-DEV" />

  <title>Using VIM as Your Password Manager • Sam Stelfox&#39;s Thoughts &amp; Notes</title>
  <link rel='canonical' href='https://stelfox.net/blog/2013/11/using-vim-as-your-password-manager/'>
  
  
  <link rel='icon' href='/favicon.ico'>
<link rel='stylesheet' href='/assets/css/main.ab98e12b.css'><style>
:root{--color-accent:#ffcd00;}
</style>

<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-32188490-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

  

</head>
<body class='page type-blog'>

  <div class='site'><a class='screen-reader-text' href='#content'>Skip to Content</a><div class='main'><nav id='main-menu' class='menu main-menu' aria-label='Main Menu'>
  <div class='container'>
    
    <ul><li class='item'>
        <a href='/'>Home</a>
      </li><li class='item'>
        <a href='/about/'>About</a>
      </li><li class='item'>
        <a href='/blog/'>Blog Posts</a>
      </li><li class='item'>
        <a href='/notes/'>Various Notes</a>
      </li></ul>
  </div>
</nav><div class='header-widgets'>
        <div class='container'></div>
      </div>

      <header id='header' class='header site-header'>
        <div class='container sep-after'>
          <div class='header-info'><p class='site-title title'>Sam Stelfox&#39;s Thoughts &amp; Notes</p><p class='desc site-desc'>Thoughts from a software engineer, systems architect and Linux gubernāre.</p>
          </div>
        </div>
      </header>

      <main id='content'>


<article lang='en' class='entry'>
  <header class='header entry-header'>
  <div class='container sep-after'>
    <div class='header-info'>
      <h1 class='title'>Using VIM as Your Password Manager</h1>
      

    </div>
    <div class='entry-meta'>
  <span class='posted-on'><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
  <line x1="16" y1="2" x2="16" y2="6"/>
  <line x1="8" y1="2" x2="8" y2="6"/>
  <line x1="3" y1="10" x2="21" y2="10"/>
  
</svg>
<span class='screen-reader-text'>Posted on </span>
  <time class='entry-date' datetime='2013-11-25T15:10:46-05:00'>2013, Nov 25</time>
</span>

  
  
<span class='reading-time'><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <circle cx="12" cy="12" r="10"/>
  <polyline points="12 6 12 12 15 15"/>
  
</svg>
3 mins read
</span>


</div>


  </div>
</header>

  
  

  <div class='container entry-content'>
  <p>There are all kinds of password managers out there. Everything from web
services that are quite solid and respectable, to <a href="https://lastpass.com/">native</a> <a href="http://keepass.info/">desktop</a>
apps.</p>
<p>A lot of these are simply too heavy for me, involve installing software on a
computer to access in addition to sharing the file around, or required you to
remember multiple account details before you could get access to any individual
password.</p>
<p>Due too the various complexities and lack of matching use cases a couple years
ago I set out to develop my own open-source version of PassPack. In the interim
though I needed a solution for keeping track of my hundreds of various accounts
and their passwords.</p>
<p>Around this time I was ramping up my usage of vim and happened to come across a
very fortunate command entirely by accident. Enter <em>vimcrypt</em>.</p>
<p>For any plaintext file you, while in command mode you can type the command <code>:X</code>
and it will ask you for a password to encrypt your file with. By default this
uses a remarkably weak algorithm called <a href="https://en.wikipedia.org/wiki/PKZIP">pkzip</a> which isn't secure enough
for me to trust it with my keys.</p>
<p>Since vim 7.3 and later, <code>:X</code> has also supported an additional cipher; The much
stronger blowfish algorithm. You can enable this by running the command <code>:set cryptmethod=blowfish</code>. I chose to add the following lines to my <code>~/.vimrc</code>
file:</p>
<pre><code>&quot; When encrypting any file, use the much stronger blowfish algorithm
set cryptmethod=blowfish
</code></pre><p>This was a fantastic interim solution as I have yet to find a development or
production linux system that hasn't been excessively locked down (and probably
not somewhere I'd put my password file anyway) that didn't already have vim
installed.</p>
<p>Using this personally required me coming up with a pseudo-file format that
would allow me to quickly and easily find the credentials I needed. I settled
on the simple format shown off below:</p>
<pre><code>Oneline Account Description
  Site: &lt;URL of Site's login page&gt;
  Username: &lt;username for the site&gt;
  Password: &lt;password for the site&gt;
  Email: &lt;email I used to register&gt;

  Login with: &lt;email|username&gt; # Only necessary when I have both

  ** Address on file **
  ** Phone on file **
</code></pre><p>You'll notice I also used this to keep track of whether an account had physical
information tied to it. When I moved this made it very quick for me to search
for accounts that I needed to update with my new mailing address.</p>
<p>As with many solutions this &ldquo;temporary&rdquo; one became more and more permanent as
my motivation to build the Passpack competitor dwindled. My problem had been
solved and I was no longer compelled to put any effort into a solution.</p>
<p>If this still isn't strong enough for your tastes, the <a href="http://vim.wikia.com/wiki/Encryption">vim wiki</a> has some
additional ways you can encrypt your files. These all require additional setup
and failed my requirements in that they generally require additional files or
setup before I can access my passwords.</p>
<p>Hope this helps some other weary CLI warrior some trouble. Cheers!</p>
<p><em><strong>Update</strong></em>: I received a recommendation from a user named <a href="http://www.reddit.com/r/vim/comments/1rg3ji/wrote_up_my_thoughts_on_using_vim_as_a_password/cdn20o8">sigzero</a> over
on Reddit. For additional security they added the following line to their
<code>~/.vimrc</code> file.</p>
<pre><code>autocmd BufReadPost * if &amp;key != &quot;&quot; | set noswapfile nowritebackup viminfo= nobackup noshelltemp history=0 secure | endif
</code></pre><p>It disables additional files that vim may write copies to such as swap files
and backups, prevents dangerous shell commands, and prevents vim from storing a
history of commands.</p>
<p><em><strong>Update 2</strong></em>: I received another recommendation from another reddit user,
this time from <a href="http://www.reddit.com/r/vim/comments/1rg3ji/wrote_up_my_thoughts_on_using_vim_as_a_password/cdnn94z">NinlyOne</a>.  At their recommendation, I've prepended the
following modeline to my password.  It automatically folds each password entry
to prevent potential shoulder surfing. You can open up an entry using the
command <code>zo</code> and close it back up with <code>zc</code>. It's worth noting that this is
tied to my indented file format.</p>
<pre><code># vim: fdm=indent fdn=1 sw=2:
</code></pre>
</div>

  
<footer class='entry-footer'>
  <div class='container sep-before'><div class='tags'><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <path d="M20.59,13.41l-7.17,7.17a2,2,0,0,1-2.83,0L2,12V2H12l8.59,8.59A2,2,0,0,1,20.59,13.41Z"/>
  <line x1="7" y1="7" x2="7" y2="7"/>
  
</svg>
<span class='screen-reader-text'>Tags: </span><a class='tag' href='/tags/linux/'>linux</a>, <a class='tag' href='/tags/security/'>security</a></div>

  </div>
</footer>


</article>

<nav class='entry-nav'>
  <div class='container'><div class='prev-entry sep-before'>
      <a href='/blog/2013/11/backing-up-gmail-with-fetchmail/'>
        <span aria-hidden='true'><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <line x1="20" y1="12" x2="4" y2="12"/>
  <polyline points="10 18 4 12 10 6"/>
  
</svg>
 Previous</span>
        <span class='screen-reader-text'>Previous post: </span>Backing up Gmail with fetchmail</a>
    </div><div class='next-entry sep-before'>
      <a href='/blog/2013/11/fail-fast-in-bash-scripts/'>
        <span class='screen-reader-text'>Next post: </span>Fail Fast in Bash Scripts<span aria-hidden='true'>Next <svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <line x1="4" y1="12" x2="20" y2="12"/>
  <polyline points="14 6 20 12 14 18"/>
  
</svg>
</span>
      </a>
    </div></div>
</nav>




      </main>

      <footer id='footer' class='footer'>
        <div class='container sep-before'><div class='copyright'>
  <p> &copy; 2011-2020 Sam Stelfox </p>
</div>

        </div>
      </footer>

    </div>
  </div><script>window.__assets_js_src="/assets/js/"</script>

<script src='/assets/js/main.c3bcf2df.js'></script>

</body>

</html>


<!doctype html><html lang=en><head><meta charset=UTF-8><meta http-equiv=X-UA-Compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=author content><meta name=description content="There are all kinds of password managers out there. Everything from web services that are quite solid and respectable, to native desktop apps.
A lot of these are simply too heavy for me, involve installing software on a computer to access in addition to sharing the file around, or required you to remember multiple account details before you could get access to any individual password.
Due too the various complexities and lack of matching use cases a couple years ago I set out to develop my own open-source version of PassPack."><meta name=keywords content="blog,programming,linux,systems,personal,rust,philosophy,linux,security"><meta name=robots content="noodp"><meta name=theme-color content><link rel=canonical href=https://stelfox.net/blog/2013/11/using-vim-as-your-password-manager/><title>Using VIM as Your Password Manager :: Sam Stelfox â€” A simple place for my collected thoughts and notes.
</title><link rel=stylesheet href=/main.c8c76086c15b9d686ec1778dcf935d2ad37f3bb9c23165d2bd157ba7b18e5aec.css integrity="sha256-yMdghsFbnWhuwXeNz5NdKtN/O7nCMWXSvRV7p7GOWuw="><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/safari-pinned-tab.svg color><link rel="shortcut icon" href=/favicon.ico><meta name=msapplication-TileColor content><meta itemprop=name content="Using VIM as Your Password Manager"><meta itemprop=description content="There are all kinds of password managers out there. Everything from web services that are quite solid and respectable, to native desktop apps.
A lot of these are simply too heavy for me, involve installing software on a computer to access in addition to sharing the file around, or required you to remember multiple account details before you could get access to any individual password.
Due too the various complexities and lack of matching use cases a couple years ago I set out to develop my own open-source version of PassPack."><meta itemprop=datePublished content="2013-11-25T15:10:46-05:00"><meta itemprop=dateModified content="2013-11-25T15:10:46-05:00"><meta itemprop=wordCount content="650"><meta itemprop=keywords content="Linux,Security"><meta name=twitter:card content="summary"><meta name=twitter:title content="Using VIM as Your Password Manager"><meta name=twitter:description content="There are all kinds of password managers out there. Everything from web services that are quite solid and respectable, to native desktop apps.
A lot of these are simply too heavy for me, involve installing software on a computer to access in addition to sharing the file around, or required you to remember multiple account details before you could get access to any individual password.
Due too the various complexities and lack of matching use cases a couple years ago I set out to develop my own open-source version of PassPack."><meta property="article:published_time" content="2013-11-25 15:10:46 -0500 EST"></head><body><div class=container><header class=header><span class=header__inner><a href=/ style=text-decoration:none><div class=logo><span class=logo__mark>></span>
<span class=logo__text>./Sam_Stelfox.sh</span>
<span class=logo__cursor></span></div></a><span class=header__right><nav class=menu><ul class=menu__inner><li><a href=/blog/>Posts</a></li><li><a href=/notes/>Notes</a></li><li><a href=/about/>About Me</a></li></ul></nav><span class=menu-trigger><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg></span></span></span></header><div class=content><main class=post><div class=post-info></p></div><article><h2 class=post-title><a href=https://stelfox.net/blog/2013/11/using-vim-as-your-password-manager/>Using VIM as Your Password Manager</a></h2><div class=post-content><p>There are all kinds of password managers out there. Everything from web services that are quite solid and respectable, to <a href=https://lastpass.com/>native</a> <a href=http://keepass.info/>desktop</a> apps.</p><p>A lot of these are simply too heavy for me, involve installing software on a computer to access in addition to sharing the file around, or required you to remember multiple account details before you could get access to any individual password.</p><p>Due too the various complexities and lack of matching use cases a couple years ago I set out to develop my own open-source version of PassPack. In the interim though I needed a solution for keeping track of my hundreds of various accounts and their passwords.</p><p>Around this time I was ramping up my usage of vim and happened to come across a very fortunate command entirely by accident. Enter <em>vimcrypt</em>.</p><p>For any plaintext file you, while in command mode you can type the command <code>:X</code> and it will ask you for a password to encrypt your file with. By default this uses a remarkably weak algorithm called <a href=https://en.wikipedia.org/wiki/PKZIP>pkzip</a> which isn&rsquo;t secure enough for me to trust it with my keys.</p><p>Since vim 7.3 and later, <code>:X</code> has also supported an additional cipher; The much stronger blowfish algorithm. You can enable this by running the command <code>:set cryptmethod=blowfish</code>. I chose to add the following lines to my <code>~/.vimrc</code> file:</p><div class=highlight><div style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-651ca57-1><a style=outline:none;text-decoration:none;color:inherit href=#code-651ca57-1>1</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-651ca57-2><a style=outline:none;text-decoration:none;color:inherit href=#code-651ca57-2>2</a>
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-vimrc data-lang=vimrc><span style=display:flex><span><span style=color:#8b949e;font-style:italic>&#34; When encrypting any file, use the much stronger blowfish algorithm</span>
</span></span><span style=display:flex><span><span style=color:#ff7b72>set</span> cryptmethod=blowfish</span></span></code></pre></td></tr></table></div></div><p>This was a fantastic interim solution as I have yet to find a development or production Linux system that hasn&rsquo;t been excessively locked down (and probably not somewhere I&rsquo;d put my password file anyway) that didn&rsquo;t already have vim installed.</p><p>Using this personally required me coming up with a pseudo-file format that would allow me to quickly and easily find the credentials I needed. I settled on the simple format shown off below:</p><div class=highlight><div style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-6ae9cb4-1><a style=outline:none;text-decoration:none;color:inherit href=#code-6ae9cb4-1> 1</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-6ae9cb4-2><a style=outline:none;text-decoration:none;color:inherit href=#code-6ae9cb4-2> 2</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-6ae9cb4-3><a style=outline:none;text-decoration:none;color:inherit href=#code-6ae9cb4-3> 3</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-6ae9cb4-4><a style=outline:none;text-decoration:none;color:inherit href=#code-6ae9cb4-4> 4</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-6ae9cb4-5><a style=outline:none;text-decoration:none;color:inherit href=#code-6ae9cb4-5> 5</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-6ae9cb4-6><a style=outline:none;text-decoration:none;color:inherit href=#code-6ae9cb4-6> 6</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-6ae9cb4-7><a style=outline:none;text-decoration:none;color:inherit href=#code-6ae9cb4-7> 7</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-6ae9cb4-8><a style=outline:none;text-decoration:none;color:inherit href=#code-6ae9cb4-8> 8</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-6ae9cb4-9><a style=outline:none;text-decoration:none;color:inherit href=#code-6ae9cb4-9> 9</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-6ae9cb4-10><a style=outline:none;text-decoration:none;color:inherit href=#code-6ae9cb4-10>10</a>
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>Oneline Account Description
</span></span><span style=display:flex><span>  Site: &lt;URL of Site&#39;s login page&gt;
</span></span><span style=display:flex><span>  Username: &lt;username for the site&gt;
</span></span><span style=display:flex><span>  Password: &lt;password for the site&gt;
</span></span><span style=display:flex><span>  Email: &lt;email I used to register&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  Login with: &lt;email|username&gt; # Only necessary when I have both
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  ** Address on file **
</span></span><span style=display:flex><span>  ** Phone on file **</span></span></code></pre></td></tr></table></div></div><p>You&rsquo;ll notice I also used this to keep track of whether an account had physical information tied to it. When I moved this made it very quick for me to search for accounts that I needed to update with my new mailing address.</p><p>As with many solutions this &ldquo;temporary&rdquo; one became more and more permanent as my motivation to build the Passpack competitor dwindled. My problem had been solved and I was no longer compelled to put any effort into a solution.</p><p>If this still isn&rsquo;t strong enough for your tastes, the <a href=http://vim.wikia.com/wiki/Encryption>vim wiki</a> has some additional ways you can encrypt your files. These all require additional setup and failed my requirements in that they generally require additional files or setup before I can access my passwords.</p><p>Hope this helps some other weary CLI warrior some trouble. Cheers!</p><p><em><strong>Update</strong></em>: I received a recommendation from a user named <a href=http://www.reddit.com/r/vim/comments/1rg3ji/wrote_up_my_thoughts_on_using_vim_as_a_password/cdn20o8>sigzero</a> over on Reddit. For additional security they added the following line to their &ldquo;~/.vimrc&rdquo; file.</p><div class=highlight><div style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-0528122-1><a style=outline:none;text-decoration:none;color:inherit href=#code-0528122-1>1</a>
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-vimrc data-lang=vimrc><span style=display:flex><span><span style=color:#ff7b72>autocmd</span> BufReadPost * <span style=color:#ff7b72>if</span> &amp;key != <span style=color:#a5d6ff>&#34;&#34;</span> | <span style=color:#ff7b72>set</span> noswapfile nowritebackup viminfo= nobackup noshelltemp history=<span style=color:#a5d6ff>0</span> secure | <span style=color:#ff7b72>endif</span></span></span></code></pre></td></tr></table></div></div><p>It disables additional files that vim may write copies to such as swap files and backups, prevents dangerous shell commands, and prevents vim from storing a history of commands.</p><p><em><strong>Update 2</strong></em>: I received another recommendation from another Reddit user, this time from <a href=http://www.reddit.com/r/vim/comments/1rg3ji/wrote_up_my_thoughts_on_using_vim_as_a_password/cdnn94z>NinlyOne</a>. At their recommendation, I&rsquo;ve prepended the following mode line to my password. It automatically folds each password entry to prevent potential shoulder surfing. You can open up an entry using the command <code>zo</code> and close it back up with <code>zc</code>. It&rsquo;s worth noting that this is tied to my indented file format.</p><div class=highlight><div style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679" id=code-256328f-1><a style=outline:none;text-decoration:none;color:inherit href=#code-256328f-1>1</a>
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span># vim: fdm=indent fdn=1 sw=2:</span></span></code></pre></td></tr></table></div></div></div></article><hr><div class=post-info><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon"><path d="M20.59 13.41l-7.17 7.17a2 2 0 01-2.83.0L2 12V2h10l8.59 8.59a2 2 0 010 2.82z"/><line x1="7" y1="7" x2="7" y2="7"/></svg>
<span class=tag><a href=https://stelfox.net/tags/linux/>linux</a></span>
<span class=tag><a href=https://stelfox.net/tags/security/>security</a></span></p><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-git-commit"><circle cx="12" cy="12" r="4"/><line x1="1.05" y1="12" x2="7" y2="12"/><line x1="17.01" y1="12" x2="22.96" y2="12"/></svg><a href=5cc61bddb3608f4b520ea01481747b9e2f886434 target=_blank rel=noopener>5cc61bdd</a> @ 2024-07-15</p></div></main></div><footer class=footer></footer></div><script type=text/javascript src=/bundle.min.85fad2de4f13fec3bcb3b3cb10430cdb44a7b4a9749b32938241a5c6e77718df7624f1002b880521fdc26e24ec1077fda214bf1cb36ee3045510760d09638cae.js integrity="sha512-hfrS3k8T/sO8s7PLEEMM20SntKl0mzKTgkGlxud3GN92JPEAK4gFIf3CbiTsEHf9ohS/HLNu4wRVEHYNCWOMrg=="></script></body></html>
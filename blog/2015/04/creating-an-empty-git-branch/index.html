<!doctype html><html lang=en><head><meta charset=UTF-8><meta http-equiv=X-UA-Compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=author content><meta name=description content="Every now and then I find myself wanting to create a new empty branch in an existing repository. It's useful for things such as GitHub Pages so you're able to keep your content source in the master branch while only keeping the output in the gh-pages branch. I've also used it for testing a complete rewrite of a code base without the overhead of creating a new repo and copying access permissions."><meta name=keywords content="blog,programming,linux,systems,personal,rust,philosophy,tips"><meta name=robots content="noodp"><meta name=theme-color content><link rel=canonical href=https://stelfox.net/blog/2015/04/creating-an-empty-git-branch/><title>Creating an Empty Git Branch :: ./Sam_Stelfox.sh â€” A simple place for my collected thoughts and notes.
</title><link rel=stylesheet href=/main.949191c1dcc9c4a887997048b240354e47152016d821198f89448496ba42e491.css integrity="sha256-lJGRwdzJxKiHmXBIskA1TkcVIBbYIRmPiUSElrpC5JE="><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><link rel="shortcut icon" href=/favicon.ico><meta itemprop=name content="Creating an Empty Git Branch"><meta itemprop=description content="Every now and then I find myself wanting to create a new empty branch in an existing repository. It's useful for things such as GitHub Pages so you're able to keep your content source in the master branch while only keeping the output in the gh-pages branch. I've also used it for testing a complete rewrite of a code base without the overhead of creating a new repo and copying access permissions."><meta itemprop=datePublished content="2015-04-13T20:47:40-04:00"><meta itemprop=dateModified content="2015-04-13T20:47:40-04:00"><meta itemprop=wordCount content="170"><meta itemprop=keywords content="Tips"><meta name=twitter:card content="summary"><meta name=twitter:title content="Creating an Empty Git Branch"><meta name=twitter:description content="Every now and then I find myself wanting to create a new empty branch in an existing repository. It's useful for things such as GitHub Pages so you're able to keep your content source in the master branch while only keeping the output in the gh-pages branch. I've also used it for testing a complete rewrite of a code base without the overhead of creating a new repo and copying access permissions."><meta property="article:published_time" content="2015-04-13 20:47:40 -0400 EDT"></head><body><div class=container><header class=header><span class=header__inner><a href=/ style=text-decoration:none><div class=logo><span class=logo__mark>></span>
<span class=logo__text>./Sam_Stelfox.sh</span>
<span class=logo__cursor></span></div></a><span class=header__right><nav class=menu><ul class=menu__inner><li><a href=/about/>About</a></li><li><a href=/notes/>Notes</a></li><li><a href=/blog/>Posts</a></li></ul></nav><span class=menu-trigger><svg viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg></span></span></span></header><div class=content><main class=post><div class=post-info></p></div><article><h2 class=post-title><a href=https://stelfox.net/blog/2015/04/creating-an-empty-git-branch/>Creating an Empty Git Branch</a></h2><div class=post-content><p>Every now and then I find myself wanting to create a new empty branch in an
existing repository. It's useful for things such as <a href=https://pages.github.com/>GitHub Pages</a> so you're
able to keep your content source in the master branch while only keeping the
output in the <code>gh-pages</code> branch. I've also used it for testing a complete
rewrite of a code base without the overhead of creating a new repo and copying
access permissions.</p><p>This is a pretty straight forward trick to do. You create the branch by
indicating you want the new branch to be an orphan by passing the '--orphan'
flag like so:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-0-1><a class=lnlinks href=#hl-0-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>git checkout --orphan NEW_BRANCH_NAME
</span></span></code></pre></td></tr></table></div></div><p>This leaves all the files in place but effectively uncommitted like you just
initialized a new repository. Add and commit any files you'd like to keep then
delete the rest, everything will still be preserved in the original branches.</p><p>With that done you should be able to easily switch just using a normal
'checkout' between your normal branches and this new tree.</p></div></article><hr><div class=post-info><p><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon"><path d="M20.59 13.41l-7.17 7.17a2 2 0 01-2.83.0L2 12V2h10l8.59 8.59a2 2 0 010 2.82z"/><line x1="7" y1="7" x2="7" y2="7"/></svg>
<span class=tag><a href=https://stelfox.net/tags/tips/>tips</a></span></p><p><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-git-commit"><circle cx="12" cy="12" r="4"/><line x1="1.05" y1="12" x2="7" y2="12"/><line x1="17.01" y1="12" x2="22.96" y2="12"/></svg><a href=bd9e1ab3269fdee0856f80854c902432ef10f201 target=_blank rel=noopener>bd9e1ab3</a> @ 2024-07-14</p></div></main></div><footer class=footer></footer></div><script type=text/javascript src=/bundle.min.e89fda0f29b95d33f6f4224dd9e5cf69d84aff3818be2b0d73e731689cc374261b016d17d46f8381962fb4a1577ba3017b1f23509d894f6e66431f988c00889e.js integrity="sha512-6J/aDym5XTP29CJN2eXPadhK/zgYvisNc+cxaJzDdCYbAW0X1G+DgZYvtKFXe6MBex8jUJ2JT25mQx+YjACIng=="></script></body></html>
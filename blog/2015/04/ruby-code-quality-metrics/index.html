<!doctype html><html lang=en><head><meta charset=UTF-8><meta http-equiv=X-UA-Compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=author content><meta name=description content="I like getting unopinionated feedback on the quality of the code I write. Sometimes I can get this from other developers but they tend to get annoyed being asked after every commit whether they consider it an improvement.
There are a few utilities for Ruby codebases such as flay, flog, and rubocop as well as hosted services such as Code Climate that can help you identify chunks of code that can use some work."><meta name=keywords content="blog,programming,linux,systems,personal,rust,philosophy,development,ruby"><meta name=robots content="noodp"><meta name=theme-color content><link rel=canonical href=https://stelfox.net/blog/2015/04/ruby-code-quality-metrics/><title>Ruby Code Quality Metrics :: ./Sam_Stelfox.sh â€” A simple place for my collected thoughts and notes.
</title><link rel=stylesheet href=/main.949191c1dcc9c4a887997048b240354e47152016d821198f89448496ba42e491.css integrity="sha256-lJGRwdzJxKiHmXBIskA1TkcVIBbYIRmPiUSElrpC5JE="><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><link rel="shortcut icon" href=/favicon.ico><meta itemprop=name content="Ruby Code Quality Metrics"><meta itemprop=description content="I like getting unopinionated feedback on the quality of the code I write. Sometimes I can get this from other developers but they tend to get annoyed being asked after every commit whether they consider it an improvement.
There are a few utilities for Ruby codebases such as flay, flog, and rubocop as well as hosted services such as Code Climate that can help you identify chunks of code that can use some work."><meta itemprop=datePublished content="2015-04-22T16:47:10-04:00"><meta itemprop=dateModified content="2015-04-22T16:47:10-04:00"><meta itemprop=wordCount content="329"><meta itemprop=keywords content="Development,Ruby"><meta name=twitter:card content="summary"><meta name=twitter:title content="Ruby Code Quality Metrics"><meta name=twitter:description content="I like getting unopinionated feedback on the quality of the code I write. Sometimes I can get this from other developers but they tend to get annoyed being asked after every commit whether they consider it an improvement.
There are a few utilities for Ruby codebases such as flay, flog, and rubocop as well as hosted services such as Code Climate that can help you identify chunks of code that can use some work."><meta property="article:published_time" content="2015-04-22 16:47:10 -0400 EDT"></head><body><div class=container><header class=header><span class=header__inner><a href=/ style=text-decoration:none><div class=logo><span class=logo__mark>></span>
<span class=logo__text>./Sam_Stelfox.sh</span>
<span class=logo__cursor></span></div></a><span class=header__right><nav class=menu><ul class=menu__inner><li><a href=/about/>About</a></li><li><a href=/notes/>Notes</a></li><li><a href=/blog/>Posts</a></li></ul></nav><span class=menu-trigger><svg viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg></span></span></span></header><div class=content><main class=post><div class=post-info></p></div><article><h2 class=post-title><a href=https://stelfox.net/blog/2015/04/ruby-code-quality-metrics/>Ruby Code Quality Metrics</a></h2><div class=post-content><p>I like getting unopinionated feedback on the quality of the code I write.
Sometimes I can get this from other developers but they tend to get annoyed
being asked after every commit whether they consider it an improvement.</p><p>There are a few utilities for Ruby codebases such as <a href=https://github.com/seattlerb/flay>flay</a>, <a href=https://github.com/seattlerb/flog>flog</a>, and
<a href=https://github.com/bbatsov/rubocop>rubocop</a> as well as hosted services such as <a href=https://codeclimate.com/>Code Climate</a> that can help
you identify chunks of code that can use some work.</p><p>While not directly connected to the quality of the code, I also make use of
<a href=http://yardoc.org/>yard</a> and <a href=https://github.com/colszowka/simplecov>simplecov</a> to assess documentation and test coverage of the
codebases I work on.</p><p>Using the tools means very little without some reference or understanding
doesn't get you very far. For a while I've been using flog and only comparing
the numbers against other codebases I control. I finally googled around and
found a <a href=http://jakescruggs.blogspot.com/2008/08/whats-good-flog-score.html>blog post</a> by a developer named Jake Scruggs from a while ago
(2008).</p><p>The blog post includes a rough table for assessing scores on individual methods
reported from the flog utility. From what I can tell the ranges are still
pretty accurate. I've tweaked the descriptions a bit to fit my mental
understanding a bit but the table is here:</p><table><thead><tr><th>Method Score</th><th>Description</th></tr></thead><tbody><tr><td>0 - 10</td><td>Awesome</td></tr><tr><td>10 - 20</td><td>Decent</td></tr><tr><td>20 - 40</td><td>Might need refactoring</td></tr><tr><td>40 - 60</td><td>Should probably review</td></tr><tr><td>60 - 100</td><td>Danger</td></tr><tr><td>100 - 200</td><td>Raise the alarm</td></tr><tr><td>200+</td><td>Seriously what are you doing!?</td></tr></tbody></table><p>I wanted to extend this with a second table providing a scale for the overall
method average with a more aggressive scale (an individual couple of methods
can be justifiably complex but the overall code base shouldn't be riddled with
them) but had a hard time working it out.</p><p>I've seen some awesome code bases with a score of 6.4 on average, some bad
larger ones with 7.8. Even some mediocre ones around a score of 10.6.</p><p>I guess I'll have to think more on it...</p></div></article><hr><div class=post-info><p><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon"><path d="M20.59 13.41l-7.17 7.17a2 2 0 01-2.83.0L2 12V2h10l8.59 8.59a2 2 0 010 2.82z"/><line x1="7" y1="7" x2="7" y2="7"/></svg>
<span class=tag><a href=https://stelfox.net/tags/development/>development</a></span>
<span class=tag><a href=https://stelfox.net/tags/ruby/>ruby</a></span></p><p><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-git-commit"><circle cx="12" cy="12" r="4"/><line x1="1.05" y1="12" x2="7" y2="12"/><line x1="17.01" y1="12" x2="22.96" y2="12"/></svg><a href=bd9e1ab3269fdee0856f80854c902432ef10f201 target=_blank rel=noopener>bd9e1ab3</a> @ 2024-07-14</p></div></main></div><footer class=footer></footer></div><script type=text/javascript src=/bundle.min.e89fda0f29b95d33f6f4224dd9e5cf69d84aff3818be2b0d73e731689cc374261b016d17d46f8381962fb4a1577ba3017b1f23509d894f6e66431f988c00889e.js integrity="sha512-6J/aDym5XTP29CJN2eXPadhK/zgYvisNc+cxaJzDdCYbAW0X1G+DgZYvtKFXe6MBex8jUJ2JT25mQx+YjACIng=="></script></body></html>
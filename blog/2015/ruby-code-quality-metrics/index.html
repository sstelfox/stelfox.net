<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, viewport-fit=cover">

    <title>Sam Stelfox&#x27;s Thoughts &amp; Notes</title>
    <link rel="stylesheet" href="https://stelfox.net/colors-dark.css">

    

    
    
  </head>
  <body>
    <header id="header">
      <h1><a href="https:&#x2F;&#x2F;stelfox.net">Sam Stelfox&#x27;s Thoughts &amp; Notes</a></h1>
      <p>Thought&#x27;s from a software engineer, systems architect, and Linux gubernƒÅre.</p>
    </header>
    <div id="page">
      <div id="sidebar">
        
          
          <nav>
            <ul class="nav">
              
                
                  <li>
                    <a href="&#x2F;"><span>Home</span></a>
                  </li>
                
                  <li>
                    <a href="&#x2F;about&#x2F;"><span>About</span></a>
                  </li>
                
                  <li>
                    <a href="&#x2F;blog&#x2F;"><span>Blog</span></a>
                  </li>
                
                  <li>
                    <a href="&#x2F;projects&#x2F;"><span>Projects</span></a>
                  </li>
                
                  <li>
                    <a href="&#x2F;notes&#x2F;"><span>Various Notes</span></a>
                  </li>
                
              
            </ul>
          </nav>
          
        
      </div>
      <div id="content">
        
<article class="post">
  <h1><a href="https:&#x2F;&#x2F;stelfox.net&#x2F;blog&#x2F;2015&#x2F;ruby-code-quality-metrics&#x2F;">Ruby Code Quality Metrics</a></h1>

  <div class="post-content"><p>I like getting unopinionated feedback on the quality of the code I write.
Sometimes I can get this from other developers but they tend to get annoyed
being asked after every commit whether they consider it an improvement.</p>
<span id="continue-reading"></span>
<p>There are a few utilities for Ruby codebases such as <a href="https://github.com/seattlerb/flay">flay</a>, <a href="https://github.com/seattlerb/flog">flog</a>, and
<a href="https://github.com/bbatsov/rubocop">rubocop</a> as well as hosted services such as <a href="https://codeclimate.com/">Code Climate</a> that can help
you identify chunks of code that can use some work.</p>
<p>While not directly connected to the quality of the code, I also make use of
<a href="https://yardoc.org/">yard</a> and <a href="https://github.com/colszowka/simplecov">simplecov</a> to assess documentation and test coverage of the
codebases I work on.</p>
<p>Using the tools means very little without some reference or understanding
doesn't get you very far. For a while I've been using flog and only comparing
the numbers against other codebases I control. I finally googled around and
found a <a href="https://jakescruggs.blogspot.com/2008/08/whats-good-flog-score.html">blog post</a> by a developer named Jake Scruggs from a while ago
(2008).</p>
<p>The blog post includes a rough table for assessing scores on individual methods
reported from the flog utility. From what I can tell the ranges are still
pretty accurate. I've tweaked the descriptions a bit to fit my mental
understanding a bit but the table is here:</p>
<table><thead><tr><th>Method Score</th><th>Description</th></tr></thead><tbody>
<tr><td>0   - 10</td><td>Awesome</td></tr>
<tr><td>10  - 20</td><td>Decent</td></tr>
<tr><td>20  - 40</td><td>Might need refactoring</td></tr>
<tr><td>40  - 60</td><td>Should probably review</td></tr>
<tr><td>60  - 100</td><td>Danger</td></tr>
<tr><td>100 - 200</td><td>Raise the alarm</td></tr>
<tr><td>200+</td><td>Seriously what are you doing!?</td></tr>
</tbody></table>
<p>I wanted to extend this with a second table providing a scale for the overall
method average with a more aggressive scale (an individual couple of methods
can be justifiably complex but the overall code base shouldn't be riddled with
them) but had a hard time working it out.</p>
<p>I've seen some awesome code bases with a score of 6.4 on average, some bad
larger ones with 7.8. Even some mediocre ones around a score of 10.6.</p>
<p>I guess I'll have to think more on it...</p>
</div><p class="meta">Posted on <span class="postdate">2015-04-22</span></p></article>

      </div>
      <footer id="footer">
        <p class="copyright">
          
          &copy; 2011 &ndash; 2021 Sam Stelfox | <a href="https://stelfox.net/licenses/">Site Content Licenses</a>
          
        </p>
      </footer>
    </div>
  </body>
</html>
